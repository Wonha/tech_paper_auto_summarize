実装と評価
\label{sec:evaluation}


\subsection{text-to-presentationシステムの実装}

\begin{figure*}[t]
 \begin{center}
     \includegraphics[scale=.29]{screenshot.eps}
\caption{システムのスクリーンショット}
\label{fig:screenshot}
 \end{center} 
\end{figure*}


この節では，実装したtext-to-presentationシステムについて説明する．このシ
ステムでは，ユーザは自然言語でクエリを入力すると，クエリに関するプレゼン
テーションを閲覧することができる．本稿では，テキスト集合として，阪神淡路
大震災教訓資料集\footnote{http://www.hanshin-awaji.or.jp/kyoukun/}を用い
た．この資料集はHTMLで書かれており，HTMLタグを手がかりとして400テキスト
に自動分割することによりテキスト集合とした．各テキストにはタイトルが付与
されており，スライドのタイトルとして利用した．テキストの平均文数は3.7，
一文あたりの平均文字数は50であった．

システムはまず，Kiyotaらの手法を用いて，ユーザからのクエリと最も類似した
テキストを検索する\cite{Kiyota02}．その後，書き言葉を話し言葉に変換して
音声合成に入力し，同時に，本稿で述べた手法で生成したスライドをユーザに提
示する．図\ref{fig:screenshot}\,に示すように，本システムはWebブラウザ上で
動作する．テキストから複数のスライドが生成された場合は音声合成と同期して
スライドの表示を切り換える．

\subsection{評価と考察}

「ボランティアの役割」「火災の原因にはどのようなものがありますか」などと
いったユーザからの30クエリから検索されたテキストからスライドを生成し，談
話構造解析と生成されたスライドの評価を行なった．書き言葉からの話し言葉へ
の変換とテキスト検索の評価に関しては，それぞれ\cite{Kaji02,Kaji04}，
\cite{Kiyota02}に譲る．入力テキストと自動生成されたスライドのサイズを比
較した平均圧縮率は0.797であった．

\begin{center}
\begin{table}[t]
\small
\caption{談話構造解析の精度}
\label{tab:evaluation}
\begin{center}
 \begin{tabular}[tb]{c|c}
 \hline
  & 精度 \\ \hline
 節間の関係 & 30 / 39 (76.9\%)  \\ \hline
 文間の関係 & 60 / 89 (67.4\%)  \\ \hline
 \end{tabular}
\end{center}
\end{table}
\end{center}

\subsubsection{談話構造解析の評価}

談話構造解析の精度を表\ref{tab:evaluation}\,に示す．評価は，節または文の接
続先と結束関係が正しいかで行なった．談話構造解析の主な誤り原因を以下に示
す．

\paragraph{語連鎖の検出もれ}

以下の例では1文目の「震災」と2文目の「地震」の関係が捉えられず，2文目で
初期化されてしまっている．

\ex. \a. \Underline{震災}直後には，神戸市によって神戸市外語大のホームページに被害写真が掲載され，海外に被害の大きさを知らせた．
 \b. パソコン通信ニフティサーブでは「\Underline{地震}情報コーナー」が開設され，ボランティア情報，安否情報，行政情報など各種の情報提供に用いられた．

この問題には，国語辞典やシソーラスを用いて表現のずれを認識することにより
対処することができると考えられる．

また，本稿で扱ったテキストは書き言葉のため，語が省略されているために語連
鎖が捉えられない例はそれほどなかったが，以下のような例では，「延焼速度」
には「火災の」が省略されており，この関係が捉えられていないため，二文間の
関係を主題連鎖と解析することができず，初期化されてしまった．

\ex. \a. このうち焼損面積10,000平方メートル以上の火災は，特に神戸市長田区などで集中的に発生した．
\b. \Underline{延焼速度は}おおむね20〜40\,m/h程度で，過去の都市大火事例等と比較して極めて遅かった．

この問題には省略・照応解析を行なうことで対処する予定である．

\paragraph{対比関係の検出もれ}

名詞と句/節などが対比の関係にある時に，対比関係を検出できないことがあっ
た．以下の例では，「震災直後に」と「震災から1週間程度を経ると」の対比関
係を検出できなかった．

\ex. \a. \Underline{震災直後に}被災者が必要としたのは，地震の規模や発生場所，被害状況などの被害情報，家族や友人・知人の消息に関する安否情報などだった．\\
 \b. \Underline{震災から1週間程度を経ると}，長期的な生活に関わる情報として，住宅やり災証明を始めとする各種申請などの情報も求められた．

また，以下の例では，「当初の」，「時間とともに」の対比関係が検出できなかっ
た．

\ex. ボランティアの\Underline{当初の}役割は，医療，食糧・物資配給，
高齢者等の安否確認，避難所運営等だったが，\Underline{時間とともに}，物資
配分，引っ越し・修理，高齢者・障害者のケアなどへと変化していった．\\

この問題には，「時間とともに」や「震災から1週間程度を経ると」が時間に関
する表現であることを認識するためのルールを用意した上で，節/文の類似度を
計算することで対処することができると考えられる．

また，本稿で対象とした地震ドメインのテキストにはシソーラスにない語が含ま
れており，語の類似度を正しく計算できないことがあった．それが原因となり，
文/節の類似度を正しく計算できないことがあった．この問題には地震ドメイン
におけるシソーラスを人手で用意するか，コーパスから自動構築することにより
対処できると考えられる．


\subsubsection{自動スライドの出力例と評価}

次に，自動生成したスライドの評価を行なった．評価の基準は，生成されたスラ
イドがユーザの理解を妨げるものとなっていないかどうかとし，スライドのイン
デント，主題の抽出，文簡約などが適切であるかどうかをもとに評価を行なった．
生成した30スライドについて筆者らが評価したところ，15枚については自然であ
り，12枚は少し不自然なところが含まれており，3 つは全体的に不自然であると
いう結果であった．出力例を図\ref{fig:slide_example1}\,と
図\ref{fig:slide_example2}\,に示す．図\ref{fig:slide_example1}\,の例では，「断
水」，「停電」，「都市ガスの供給停止」の対比関係が正しく解析され，また，
「明かりに不自由しながらの診察・治療が行われ」と「手動の人工呼吸器を押し
続ける姿も見られた」の並列関係で項目を分割することにより，見やすいスライ
ドとなっている．また，2文目の「医療用水のほか」の簡約や，「(治療)が行な
われ」の整形などが行なわれている．

\begin{figure}[t]
\begin{center}
\fbox{
\begin{minipage}[t]{\hsize}
断水により，水の調達に苦慮した医療機関が多かった．断水の影響には，医療用
水のほか，ボイラー用水や，コンプレッサー・自家用発電機等の冷却水が得られ
ないという面もあった．停電により，明かりに不自由しながらの診察・治療が行
われ，手動の人工呼吸器を押し続ける姿も見られた．都市ガスの供給停止により，
入院患者の食事提供に影響があった病院もある．
\end{minipage}
}

\vspace{2mm}
$\Downarrow$
\vspace{2mm}

\begin{minipage}[t]{\hsize}
\begin{shadebox}
\vspace{2mm}
\begin{center}被災地医療機関\end{center}
\begin{itemize}
  \item 断水
  \begin{itemize}
   \item 水の調達に苦慮した医療機関が多かった
   \item 断水の影響
	 \begin{itemize}
        \item ボイラー用水や，コンプレッサー・自家用発電機等の冷却水が得られないという面もあった
	 \end{itemize}
  \end{itemize}
  \item 停電
   \begin{itemize}
    \item 明かりに不自由しながらの診察・治療
    \item 手動の人工呼吸器を押し続ける姿も見られた
   \end{itemize}
  \item 都市ガスの供給停止
   \begin{itemize}
    \item 入院患者の食事提供に影響があった病院もある
   \end{itemize}
\end{itemize}
\vspace{2mm}
\end{shadebox}
\end{minipage}
\caption{出力例1}
 \label{fig:slide_example1}
\end{center}
\end{figure}

また，図\ref{fig:slide_example2}\,の例では，1文目の主題「代替バス利用者」
が抽出され，「当初」，「バスレーン設置後」，「3月末」の対比関係が正しく
解析されている．しかし，2文目では，「代替バス」と「バスレーンの設置後」
が対比していると間違って解析されており，正しくは，「当初」と「バスレーン
の設置後」が対比関係にある．この対比関係を正しく解析できるようにした上で
さらにこのスライドをよくするには，2文目からは「利用時間」という主題を取
り出し，1文目の「代替バス利用者」と対比させるのが望ましいが，これはかな
り難しい処理であるといえる．

\begin{figure}[t]
\begin{center}
\fbox{
\begin{minipage}[t]{\hsize}
代替バス利用者は，当初は1日あたり3〜5万人であったが，バスレーン設置後
は上昇し，3月末までは1日約20万人が利用した．当初，代替バスは交通渋滞
に巻き込まれ，通行に多くの時間を要したが，バスレーンの設置後は約半分の所
要時間に短縮されるなど，徐々に時間は短縮された．
\end{minipage}
}

\vspace{2mm}
$\Downarrow$
\vspace{2mm}

\begin{minipage}[t]{\hsize}
\begin{shadebox}
\vspace{2mm}
\begin{center}鉄道の復旧\end{center}
\begin{itemize}
 \item 代替バス利用者
  \begin{itemize}
   \item 当初
    \begin{itemize}
     \item 1日あたり3〜5万人
    \end{itemize}
   \item バスレーン設置後
    \begin{itemize}
     \item 上昇
    \end{itemize}
   \item 3月末
    \begin{itemize}
     \item 1日約20万人が利用
    \end{itemize}
  \end{itemize}
    \item 代替バス
     \begin{itemize}
      \item 交通渋滞に巻き込まれ，通行に多くの時間を要した
     \end{itemize}
    \item バスレーンの設置後
    \begin{itemize} 
      \item 約半分の所要時間に短縮されるなど，時間は短縮
     \end{itemize}
    \end{itemize}
\vspace{2mm}
\end{shadebox}
\end{minipage}
\caption{出力例2}
 \label{fig:slide_example2}
\end{center}
\end{figure}

自動生成されたスライドで不自然な部分のほとんどは，談話構造解析誤りによる
インデントのずれによるものであった．\ref{sec:output_slide}\,章で説明したス
ライド生成のヒューリスティックルールによる大きな誤りはなく，また，主題部・
非主題部の抽出や非主題部の簡約にも大きな誤りは見受けられなかった．現在の
文簡約は構文解析結果を基に行なう比較的シンプルなモデルであるが，十分機能
しているといえる．しかし，以下のように固有表現にかかる連体節などは削除し
た方がよりよいスライドになると考えられるので，今後は固有表現抽出を行ない，
このような簡約を行なう予定である．

\ex. \Underline{大阪と神戸を結ぶ} \underline{\underline{ＪＲ神戸線，阪急電鉄神戸線，阪神電鉄本線}}の3線の不通により，一日45万人，ラッシュ時最大1時間12万人の足が奪われた．

\ex. \Underline{兵庫県下随一の3次救急医療機関である}
\underline{\underline{神戸市立中央市民病院}}は，市街地と島を結ぶ神戸大橋
の不通により震災直後の救急患者の受け入れがあまりできなかった．

たとえ自動スライドにインデントのずれや抽出したテキストが不自然であるといっ
た誤りが少しあったとしても，入力テキストを音声合成と自動スライドのマルチ
モーダルに変換することは，ユーザに入力テキストをそのまま提示するよりもは
るかによいことが実験により示された．特に，テキストに大きな並列や対比関係
がある場合は，入力テキストよりも見やすいスライドを生成できることが確認さ
れた．


