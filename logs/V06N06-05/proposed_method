本章では、提案手法のベースになっているHearstの話題境界認定手法[CITE]を紹介し、それを章・節レベルの大きな話題の境界の認定に適用した実験の結果を示す。
そして、実験結果に基づきHearst法の問題点を議論する。
Hearst法では、まず、文書中の各位置の前後に、段落程度の大きさ(120語程度)の窓を設定し、その2つの窓にどれくらい同じ語彙が出現しているかにより、2つの窓内の部分の類似性を測定する。
類似性は、次に示す余弦測度(cosine measure)で測定している。
{}ここで、[MATH], [MATH]は、それぞれ、左窓(文書の冒頭方向側の窓)、右窓(文書の末尾方向側の窓)に含まれる文書の部分であり、[MATH], [MATH]は、それぞれ、単語[MATH]の左窓、右窓中での出現頻度である。
この値は、前後の窓に共通語彙が多く含まれるほど大きくなり(最大1)、共通語彙が全くない時に最小値0をとる。
つまり、この値が大きい部分は、前後の窓で共通の話題を扱っている可能性が高く、逆に、この値が小さい部分は、話題の境界である可能性が高いことになる。
本稿では、この値を結束度(cohesion score)と呼ぶことにする。
また、結束度に対応する窓の境界位置を結束度の基準点(reference point)と称し、基準点によって結束度を並べたものを結束度系列(cohesion score series)と称することにする。
Hearst法は、上記の結束度を文書の冒頭から末尾まで、ある刻み幅(20語)で基準点をずらしながら測定し、極小となる位置を話題境界と認定する。
ただし、結束度の細かい振動を無視するために、極小点[MATH]の周囲で単調減少(極小点の左側)／単調増加(極小点の右側)している部分を切りだし、その開始点[MATH]と終了点[MATH]における結束度[MATH]と結束度の極小値[MATH]との差を基に以下のdepth scoreと呼ばれる値[MATH]を計算し、極小点における結束度の変動量の指標としている。
そして、[MATH]が閾値[MATH]を越えた極小点だけを話題境界として認定している。
{}ここで、[MATH]は、それぞれ、文書全体における結束度[MATH]の平均値と標準偏差である。
Hearst法は、上記のように、結束度計算用窓の幅の2倍の範囲における語彙の繰り返し状況を手がかりに、話題境界を認定する手法である。
[CITE]では数段落程度の大きさの話題のまとまりしか認定を試みていないが、[CITE]より大きな幅の窓を用いれば大きな話題のまとまりを認定できる可能性がある。
大きな話題に関連する語(特に名詞)は大きな間隔で繰り返される傾向があるので、窓幅を大きくとって大きな間隔で繰り返される語彙の出現状況を反映した結束度を計算すれば、大きな話題に関する話題境界が得られる可能性がある。
また、窓幅を大きくとれば余弦測度の計算式の分母が大きくなり、小さい間隔で繰り返される語による結束度の変動は小さくなると考えられるので、小さい話題に関する話題境界の検出もある程度抑制できると考えられる。
そこで、Hearst法で大きな話題のまとまりを認定できるかを調べるために[CITE]より巨大な(10〜5倍程度)窓幅で計算した結束度により話題境界を認定する実験を行った。
実験文書としては、(社)電子工業振興協会『自然言語処理システムの動向に関する調査報告書』(平成9年3月)の第4章「ネットワークアクセス技術専門委員会活動報告」(pp. 117--197)を用いた。
この文書は、4.1節から4.4節の4節からなり、1,440文(延べ17,816内容語)を含んでいる。
図[REF_fig:Hearst法:1280語窓]と図[REF_fig:Hearst法:640語窓]は、この実験の結果であり、以下のグラフを文書中での位置(文書の冒頭からその位置までの延べ語数)を横軸にとって示してある。
点線の棒グラフは、実験文書の節の開始位置である。
長い点線ほど大きい節と対応する。
折れ線グラフ(◇)は結束度系列である。
結束度は、図[REF_fig:Hearst法:1280語窓]では1280語幅の窓、図[REF_fig:Hearst法: 640語窓]では640語幅の窓によって、それぞれ窓幅の1/8(160語と80語)刻みで計算し、プロットした。
実線の棒グラフ(＊)は、結束度の極小点で計算したdepth score [MATH]である。
また、実線の水平線はdepth scoreの閾値[MATH]である。
これらの図に見られるように、結束度の極小点は節境界とよく一致しており、窓幅の大きい結束度を使うと大きな話題の切れ目が認定でき、窓幅の小さい結束度を使うと小さい話題の切れ目が認定できるという傾向がある。
よって、大きな窓幅(の結束度)で認定した話題境界と、小さい窓幅で認定した話題境界を組み合わせれば、大きな話題(主題)のまとまりの中に、小さな話題(副主題)のまとまりがある、というような話題の階層構成が認定できる見込みがある。
しかし、Hearst法には、次のような問題点がある。
ひとつは、大きな話題と小さな話題の区別が難しいことである。
図[REF_fig:Hearst法:1280語窓]に見られるように、depth scoreは結束度の局所的変化の激しさを示す値であるので、話題の大きさとは直接関係しない。
例えば、図[REF_fig:Hearst法:1280語窓]の12,000語の手前にある4.4節の開始位置は、14,000語付近にある、4.4.2節と4.4.3節の開始位置より大きい話題の境界であると考えられるが、depth scoreの値は、後者の方が大きくなっている。
これは、図の矢印で示した部分の結束度の小さな谷により、4.4節の開始位置付近の結束度の落差が2つのdepth scoreに分散してしまったことによる。
また、このようなdepth scoreの不安定さにも関係して、depth scoreの閾値の設定が難しいという問題もある。
図[REF_fig:Hearst法:1280語窓]、[REF_fig:Hearst法:640語窓]では、前述の閾値[MATH]を用いたが、図[REF_fig:Hearst法:1280語窓]を見る限り、閾値をもっと下げた方がよいように思える。
例えば、もうほんの少し閾値を下げれば、2,000語の手前にある4.2.2節の開始位置なども話題境界として認定することができる。
あるいは、全ての結束度の谷を話題境界と認定してもよいようにも思える。
しかし、閾値を下げ過ぎてしまうと、図[REF_fig:Hearst法:640語窓]の8,000語〜10,000語付近の幅の狭い山による境界も全て話題境界として認定されてしまう。
このため、話題の大きさを区別して認定する場合には、何らかの経験的制約が必要になる可能性が高い。
実際、[CITE]には、60語以内の隔たりしかない境界は認めない、というヒューリスティックスが示されている。
なお、depth scoreの不安定性は、Hearst自身も認識しており、結束度を平滑化してからdepth scoreを求める手法を別の論文[CITE]で示している。
ただし、Hearstの目標が数段落程度の大きさの話題の転換点の発見にあるためか、話題の大きさの区別に関する議論は見当たらない。
本章では、話題の階層構成を同一語彙の繰り返しだけを手がかりに認定する手法を提示する。
本手法は、以下の手順で話題の階層構成を認定する。
話題境界位置の区間推定ある窓幅で計算した結束度に基づき、話題境界が存在しそうな位置を、話題境界候補区間として求める。
そして、大きさの異なる複数の窓幅に対してこの処理を繰り返し、大きな話題の切れ目を示す境界から小さな話題の切れ目を示す境界まで、話題の大きさ別に話題境界候補区間を求める。
話題の階層関係の認定異なる窓幅により求めた話題境界候補区間を統合し、話題の階層構成を決定する。
以下、[REF_sect:話題境界の区間推定法]節でHearst法をベースに、話題のまとまりを大きさ別に認定可能にした話題境界位置の区間推定手法の詳細を説明し、[REF_sect:話題の階層関係の認定手法]節で話題の階層関係の認定手法について説明する。
提案手法では、結束度の移動平均(moving average)を用いて話題境界の位置を区間推定する。
移動平均は、時系列分析(time series analysis)で、細かい変動を取り除いて大局的な傾向を把握するために用いられる手法である。
提案手法では、細かい変動を無視するためだけでなく、結束度系列の移動平均値を、移動平均の開始点における「順方向結束力(forward cohesion force)」および移動平均の終了点における「逆方向結束力(backward cohesion force)」とみなし、その差を話題境界候補区間の認定の直接的手がかりとしている。
この手法の原理について、図[REF_fig:移動平均と結束力]を使って説明する。
まず準備として、「結束度系列」を図[REF_fig:移動平均と結束力](a)によって定義する。
図[REF_fig:移動平均と結束力](a)で、文書領域[MATH]〜[MATH]は、結束度を計算する刻み幅[MATH](語)に対応する一定幅の領域である。
[MATH]は、文書中の[MATH]と[MATH]の境界を基準点として計算した窓幅[MATH](語)の結束度である。
次の[MATH]は、窓を一定幅[MATH]分だけ右(文書の末尾方向)へずらして計算した結束度である。
このようにして計算した[MATH]を、以後、文書の冒頭から末尾へ向かう窓幅[MATH]の結束度系列と呼ぶ。
順方向結束力と逆方向結束力の求め方と意味を図[REF_fig:移動平均と結束力] (b)を使って説明する。
図[REF_fig:移動平均と結束力](b)は、移動平均の値と文書領域との関係を示した表である。
例えば、表の左上角の領域1の直下の値(1)は、[MATH]〜[MATH]の3項の移動平均([MATH])に対して、文書領域[MATH]が１度だけ([MATH]の計算において)左窓の一部として関与したことを示している(図[REF_fig:移動平均と結束力](a)の[MATH]の部分を参照)。
結束度は、境界の前後の結び付きの強さを表す指標であるので、領域[MATH]を左窓に含む[MATH]を移動平均した値も、領域[MATH]がそれより右側の部分に結びついているかどうかを示す指標のひとつと考えられる。
言い換えれば、移動平均の値は、移動平均をとった結束度の左窓部分の領域([MATH]〜[MATH]の3項平均に対しては[MATH]〜[MATH])が文書の末尾へ向かう方向(順方向:図では右方向)に引っ張られる強さの指標(順方向結束力)とみなせる。
一方、逆に、移動平均をとった結束度の右窓部分の領域(同[MATH]〜[MATH])が文書の冒頭方向(逆方向:図では左方向)に引っ張られる強さの指標(逆方向結束力)ともみなせる。
ここで、結束力と文書領域の関連性を考察すると、個々の結束度の計算において多くの窓に含まれていた領域ほど、その移動平均値である結束度への関与が強いと考えられる。
また、語彙的結束性は、近傍で繰り返される語彙によるものほど強いと考えられるので、移動平均をとった結束度の基準点(左右の窓の境界)に近い領域ほど結束力に強く関与しているといえる。
これに基づき、表にあげた3項平均と2項平均について、移動平均に最も強く関与している部分を選ぶと、左窓についてはどちらも[MATH]、右窓については、それぞれ[MATH]、[MATH]となる。
以上の考察に基づき、話題境界の候補区間の認定では、結束度の移動平均を、移動平均をとった部分の最初の基準点における順方向結束力、最後の基準点における逆方向結束力として取り扱う。
話題境界は、順方向結束力と逆方向結束力の差に基づいて、図[REF_fig:話題境界候補区間認定方法]に示した手順で認定する。
話題境界の区間推定の2つの独立パラメータ、移動平均をとる幅[MATH](語)と結束度系列の刻み幅[MATH](語)の目安は、[MATH]が窓幅の1/2〜1倍程度、[MATH]が窓幅の1/8程度である。
順・逆方向の結束力の差によって話題境界位置の候補区間を認定する意味を、図[REF_fig:話題境界の候補区間]を使って説明する。
図では、順・逆方向の結束力の差が0になる点、すなわち結束力拮抗点(cohesion force equilibrium point)を、ep1〜ep3の破線の鉛直線で示した。
最初の点ep1の左側では、逆方向結束力(BC)が優勢であり、その右側から次の点ep2までは順方向結束力(FC)が優勢で、それ以後最後の点ep3までは逆方向結束力(BC)が優勢である。
これは、ep1(負の結束力拮抗点)の左側の領域は、それより左側(文書の冒頭方向側)のいずれかの部分へ向かって結束し、また、ep2(正の結束力拮抗点)の近傍では、ep2へ向かって結束していることに対応する。
実際、順・逆方向の結束力と共にプロットした結束度([MATH])は、ep1とep3の近傍で極小値を、ep2の近傍で極大値をとっている。
話題境界候補区間に結束度系列の極小点が来ることは必然である。
図[REF_fig:話題境界の候補区間]で最後の結束力拮抗点ep3の前後の矢印で示した部分で結束度は極小値をとっている。
よって、その部分の移動平均(図では4項平均)も通常は極小値(ブロック矢印の先の部分)をとる。
また、順方向結束力(FC)は移動平均の値を移動平均の開始位置に記録したものあるので、順方向結束力の極小位置は結束度の極小位置の左になる。
同様に、逆方向結束力(BC)の極小位置は結束度の極小位置の右になる。
そして、結束度の変動が十分に大きければ、その間に結束力拮抗点が形成されることになる。
図[REF_fig:余弦測度による話題境界]に、本手法で認定した話題境界の候補区間を窓幅別(縦軸)に示す。
図の大きい矩形領域が話題境界候補区間であり、その中にある小さい矩形領域が結束力拮抗点である。
○付きの棒グラフで示した話題境界など詳細については次節で説明する。
話題構成認定処理は、異なる窓幅の結束度系列による話題境界候補区間を統合して、大きな窓幅の結束度系列から得られた大きな話題に関する境界と、小さい窓幅の結束度系列からのみ得られる小さい話題に関する境界を区別して出力するものである。
話題境界候補区間を統合する理由は、大きな窓幅の結束度系列は、窓位置の移動に対して鈍感であり、それだけから認定すると境界位置を十分精密に求めることができないからである。
図[REF_fig:話題階層関係認定アルゴリズム]に話題の階層関係認定アルゴリズムを示す。
(1)の話題境界のレベル([MATH])は、認定境界がいずれの窓幅の結束度系列に基づく境界かを記録するための変数である。
この変数には、(2)の操作により、それぞれの認定境界の近傍に極小値のある結束度系列のうちで最も大きい窓幅の結束度系列の系列番号が設定される。
[REF_sect:Hearst法の検討]節で示したように、大きな窓幅の結束度系列に基づく認定境界ほど、大きな話題の境界と対応するという傾向があるので、結果として、それぞれの認定境界と対応する話題の大きさに相当する値が話題境界のレベルとして設定されることになる。
(2)は、大きさの異なる窓幅で認定した話題境界候補区間を統合する操作である。
例えば、図[REF_fig:余弦測度による話題境界]の[MATH]の話題境界候補区間(図[REF_fig:余弦測度による話題境界]中の大きい矩形領域)中に結束度拮抗点(図[REF_fig:余弦測度による話題境界]中の小さい矩形領域)のある[MATH]のデータは、[MATH]と[MATH]であり、[MATH]に近いものは[MATH]であるので、[MATH]を次のように変更する。
図[REF_fig:余弦測度による話題境界]の○付き棒グラフは、このようにして求めた話題境界である。
棒グラフのx座標が最小窓幅の結束度系列の極小値[MATH]と対応し、棒グラフの長さが話題境界のレベル([MATH])と対応(長い程がレベル小)する。
例えば、最大窓幅(5120語幅)の結束度系列による最初の話題境界候補区間[MATH]の中に〇がある棒グラフは、最大窓幅(5120語幅)以下全ての結束度系列によって検出され、(2)の操作により統合された、話題境界のレベルが1の認定境界である。
なお、図に示した最小窓幅(640語)の話題境界候補区間でも、結束度拮抗点と話題境界が大きくずれているものがあるのは、図には示さなかったより小さい窓幅の話題境界候補区間との統合も行っているためである。
