    \documentclass[japanese]{jnlp_1.4}
\usepackage{jnlpbbl_1.3}
\usepackage[dvips]{graphicx}
\usepackage{amsmath}

\usepackage{url}

\Volume{21}
\Number{2}
\Month{April}
\Year{2014}

\received{2013}{9}{20}
\revised{2013}{11}{28}
\accepted{2013}{12}{13}

\setcounter{page}{249}

\jtitle{否定の焦点情報アノテーション}
\jauthor{松吉　　俊\affiref{Author_1}}
\jabstract{
「誰がいつどこで何をする」という文に「ない
」や「ん」，「ず」などの語が付くと，いわゆる否定文
となる．否定文において，否定の働きが及ぶ範囲をスコ
ープと呼び，その中で特に否定される部分を焦点と呼ぶ
．否定の焦点が存在する場合，一般にその焦点の箇所を除
いた文の命題は成立する．それゆえ，自然言語
処理において，否定の焦点が存在するか，および，どの
部分が否定の焦点になっているかを自動的に判定する処
理は，含意認識や情報抽出などの応用処理の高度化のた
めに必要な技術である．本論文では，否定の焦点検出シ
ステムを構築するための基盤として，日本語における否
定の焦点をテキストにアノテーションする枠組みを提案
し，構築した否定の焦点コーパスについて報告する．否
定文において否定の焦点を判断するための基準を提案し
，否定の形態素および焦点の部分にアノテーションすべ
き情報について議論する．否定の焦点の判断には，「は
」や「しか」などのとりたて詞や前後の文脈などが手が
かりとなるため，これらを明確にアノテーションする．
我々は，提案するアノテーション体系に基づいて，楽天
トラベルのレビューデータと『現代日本語書き言葉均衡
コーパス』内の新聞を対象としてアノテーションコーパ
スを構築した．本論文では，コーパス内に存在する1,327
の否定に対するアノテーション結果を報告する．
}
\jkeywords{否定，否定の焦点，コーパスアノテーション，モダリティ}

\etitle{Annotation of Focus for Negation in Japanese Text}
\eauthor{Suguru Matsuyoshi\affiref{Author_1}} 
\eabstract{
This paper proposes an annotation scheme for the focus of negation in Japanese text. 
Negation has a scope, and its focus falls within this scope. 
The scope of negation is the part of the sentence that is negated. 
The focus of negation is the part of the scope that is prominently negated. 
In natural language processing, correct interpretation of negated statements requires precise detection of the focus of negation in the statements. 
As a foundation for developing a focus detector, we have annotated a part of ``Rakuten Travel: User Review Data'' and a part of a newspaper subcorpus of the ``Balanced Corpus of Contemporary Written Japanese,'' with our annotation scheme. 
In this scheme, a negation cue in the text data is linked to the focus by annotation with identifying clues. 
These clues include focus particles such as ``wa'' and ``shika,'' and other expressions in the context. 
We report 1,327 negation cues and the foci in the corpora.
}
\ekeywords{Negation, Focus of Negation, Corpus Annotation, Modality}

\headauthor{松吉}
\headtitle{否定の焦点情報アノテーション}

\affilabel{Author_1}{山梨大学大学院医学工学総合研究部}{Interdisciplinary Graduate School of Medicine and Engineering, University of Yamanashi}



\begin{document}
\maketitle


\section{否定の焦点アノテーションの基本指針}

文章に存在する否定を検出し，
その焦点にラベルを付け，コーパスを構築する．
言語学的利用のみでなく，
自然言語処理への応用も考慮して，アノテーションの基本指針を定める．


\subsection{焦点の部分を除いた事象が成立すること}
\label{subsec:hold}

『現代日本語書き言葉均衡コーパス』(BCCWJ)\footnote{
http://www.ninjal.ac.jp/corpus\_center/bccwj/}から抽出した，
否定の焦点の例を以下に示す．
ここでは，否定を表す表現を太字にし，焦点の語句に下線を付している\footnote{
例文の後の``PN''から始まる文字列は，
その例文を抽出したBCCWJ内のファイル名を表す．}．
\begin{enumerate}
\item[(3)] だが、\underline{学校での}子どもの様子はわから
  \textbf{ない}から、それだけでうれしい。 [PN1a\_00002]
\item[(4)] \underline{十七日まで}選手にも協会関係者にも明かさ
  \textbf{ない}。 [PN2f\_00002]
\item[(5)] \underline{力を出し切って}敗れた
  \textbf{わけではない}。 [PN2f\_00003]
\item[(6)] ＷＨＯは五月十八日、ジュネーブで開いた総会で台湾の総会へのオブザーバー参加問題を議題としないことを決め、オブザーバー参加を認め
  \textbf{なかっ}た。 [PN4g\_00001]
\end{enumerate}

\ref{sec:intro}章で述べたように，
否定文において，否定の働きが及ぶ範囲が否定のスコープである\cite{neg2007}．
一般に，否定のスコープには，次のものが含まれる\footnote{
生成文法においては，
「ない」や「ず」がc-統御する領域が否定のスコープであると
定められる\cite{kato2010,Kataoka2006}．
文中に量化子や数量表現やとりたて詞が存在する場合，
否定のスコープとこれらが持つスコープの間の包含関係が文の解釈を定めるために
重要であり，
生成文法の記法を用いてこれを正確に表現することができる．
本研究では，否定のスコープに関して深く立ち入らない．}．
\begin{itemize}
\item 否定付与の対象となった述語
\item その述語のすべての項（必須の項だけでなく，任意の項も含む）
\item （従属度が高い）従属節
\item 述語のアスペクト
\end{itemize}
「のではない」や「わけではない」などの形式が用いられた場合，
文の主題や述語のモダリティもスコープに含まれることがある．
これらの要素を含むスコープの中で，特に否定される部分が否定の焦点である．

文(3)は，家庭訪問を受けた母親の発言の一部である．
「ない」のスコープは，「学校での子どもの様子はわから」で表現される事象である．
家庭での子どもの様子は分かると考えられるので，
焦点は「学校での」とするのが妥当であると思われる．

文(4)は，最終登録選手に関しての監督の発言の一部である．
「ない」のスコープは，「十七日まで選手にも協会関係者にも明かさ」で
表現される事象である．
十七日かそれ以降に登録選手を明かすことが期待できるので，
焦点は「十七日まで」と考える．

文(5)は，試合に敗れた選手に関する報道記事の一部である．
否定の複合辞「わけではない」のスコープは「力を出し切って敗れた」であり，
否定の焦点は「力を出し切って」であると解釈できる．

文(6)は，WHO総会に関する報道記事の一部である．
「なかっ」のスコープは，
「ＷＨＯはオブザーバー参加を認め」で表現される事象である．
この例文においては，（前後の文脈を考慮しても，）
スコープの中に特に否定される部分はないように思われる．
本研究では，このような場合に，
「なかっ」の焦点は，無しとせず，便宜上，スコープ全体であると考える．
紙面が煩雑になるのを避けるため，
焦点がスコープ全体である場合には，例文に下線を付けない．

否定の焦点がスコープ全体でない場合，
スコープの事象が成立しないことだけでなく，
焦点の部分を除いた事象は成立することが
推測できる\cite{neg2007,EduardoMoldo2011b}．
例えば，文(5)において，
「力を出し切って敗れた」ことは否定されるが，
「力を出し切って」の部分に否定の焦点があることが分かれば，
「敗れた」ことは成立することが推測できる．
同様に，文(4)において，
「十七日まで」の部分に否定の焦点があることが分かれば，
監督はずっと明かさないのではなく，
十七日かそれ以降に「選手にも協会関係者にも明かす」ことが
成立することが推測できる．
我々は，基本指針の1つとしてこの考え方を取り入れる．


\subsection{否定要素}
\label{subsec:neg}

本論文では，文中において否定を表す表現のことを\textbf{否定要素}と呼ぶ．
本研究では，次の3種類の語群をまとめたものを否定要素と定める．
\begin{description}
\item[否定辞] 助動詞「ない」と「ず」，接尾辞「ない」，
  接頭辞「非」，「不」，「無」，「未」，「反」，「異」
\item[非存在の内容語] 形容詞「無い」，名詞「無し」
\item[否定を表す複合辞] 「のではない」，「わけではない」，
  「わけにはいかない」など
\end{description}

否定辞のみでなく，非存在の内容語まで含める理由は，
「無い」は，
存在の内容語「ある」の丁寧な否定「ありません」と同等と
思われるからである．
否定辞「ん」が使用されている「ありません」は対象とし，
「無い」は内容語なので対象としないのは，不合理であると思われる．

言語学の文献\cite{morita1989,neg2007}において，否定を表す複合辞とされる表現は，
1形態素の否定辞と異なる性質を持つと思われるので，区別して扱う．

接頭辞「非」や「不」は，直後の語を否定する働きを持つのみであり，
これらに対して焦点を判断する必要はないと思われがちである．
しかしながら，
次の例のように，「ない」や「ん」と同様に，
接頭辞もスコープの一部に焦点を持つことがあるので，対象とした．
\begin{enumerate}
\item[(7)] 九十年代の「失われた十年」ではっきりしたのは、
  もはや\underline{民間まかせでは}過剰債務処理は
  \textbf{不}可能ということだ。 [PN1b\_00004]
\end{enumerate}
これは，前の文脈から，
過剰債務処理には政府の介入が必要であることが読み取れる例であり，
否定の焦点は「民間まかせでは」であると考える．


\subsection{否定要素としない語句}
\label{subsec:outof}

否定辞か非存在の内容語を含む2形態素以上の慣用表現は，全体を1語とし，
焦点判断の対象としないこととする．
これらの慣用表現は，大きく分けると，次の2種類からなる．
\begin{description}
\item[複合語] 「物足り\underline{ない}」，「仕方が\underline{ない}」，
  「思わ\underline{ず}」など
\item[否定以外の意味を持つ複合辞] 「\underline{なけれ}ばなら\underline{ない}」，
  「\underline{ない}といけ\underline{ない}」，
  「かもしれませ\underline{ん}」，「にもかかわら\underline{ず}」，
  「だけで\underline{なく}」など
\end{description}

上記の複合語に相当するかどうかは，次の2点から判断する．
\begin{itemize}
\item 肯定形（例えば，「仕方がない」に対する「仕方がある」）が，
  通常，使用されるか
\item 国語辞典\cite{daijisen,iwanami}に見出しが立っているか
\end{itemize}

複合辞であるかどうかの判断は，
言語学や日本語教育の文献\cite{morita1989,Jamasi1998}を参考にし，
前節で述べたように，
否定を表す複合辞とされる表現は，否定要素として扱う．

助動詞「ない」か接尾辞「ない」，もしくは，形容詞「無い」を使った
単純な否定表現に言い換えられない否定の接頭辞は，
否定要素とはしない．
例えば，
「\underline{不}十分」は，「十分でない」ことであるので，
焦点判断の対象とする．
一方，「\underline{不}気味」は，「気味が悪い」ことであり，
「気味がない」や「気味でない」に言い換えられないので，
対象としない．


\subsection{否定要素と呼応する程度・頻度の副詞}

以下の例文のように，否定要素に呼応する，
程度の副詞や頻度の副詞が用いられることがある．
ここでは，注目している否定要素を太字にし，
程度の副詞や頻度の副詞に下線を付ける．
\begin{enumerate}
\item[(8)] ボールを回すくらいで、
  \underline{そんなに}ハードな練習じゃ
  \textbf{なかっ}た。 [PN2f\_00002]
\item[(9)] 市街地では、街灯やライトアップによる“光害”で夜空の星が
  \underline{なかなか}見え\textbf{ない}。

  [PN2g\_00004]
\item[(10)] 価格は１万円前後で、「\underline{いつもは}ぜいたくでき
  \textbf{ない}けれど、お正月くらい、という方が多いようです」。 [PN3b\_00004]
\end{enumerate}
文(8)で述べられていることは，「全くハードな練習ではなかった」ことではなく，
ハードな練習ではあったが，
その程度が想定されるよりも高くなかったということである．
同様に，文(9)では，星は全く見えないのではなく，
見える程度や頻度が低いということが述べられている．
文(10)の該当箇所は，いわゆる部分否定であり，
「ぜいたくできる」ことが全く成り立たないわけではなく，
たまには成り立つことが読み取れる．
否定要素に呼応する，程度の副詞や頻度の副詞は，
全く成り立たないことを強調する\textbf{完全否定}の副詞と，
全く成り立たないわけではないことを表現する\textbf{弱否定}の副詞に
分類することができる\cite{neg2007}\footnote{
文献\cite{neg2007}では，頻度の副詞については，
このような分類がなされていないが，
本研究では，程度の副詞と同様に，頻度の副詞も完全否定と弱否定に分類する．}．
「全然」や「絶対に」，「決して」などの副詞は，完全否定の副詞であり，
文(8)〜(10)における下線の副詞などは，弱否定の副詞である．

本研究では，否定と呼応する弱否定の副詞を否定の焦点とみなす．
これらの副詞は，
「多くは（持てない）」や「速くは（走れない）」のような形容詞連用形＋「は」や，
「頻繁には（通えない）」のような形状詞＋「には」と同様に用いられる．
このような形容詞や形状詞を否定の焦点として扱うことは自然であることから，
これらの形容詞や形状詞に連続するものとして，
否定と呼応する弱否定の副詞も否定の焦点とみなす\footnote{
本研究では，連続するものとしてまとめて扱うが，
否定の焦点として狭義のもののみを認める立場の場合，
\ref{subsec:hold}節の考え方が成立する言語現象の1つとして，
異なる枠組みを用意して弱否定の副詞を扱うことが考えられる．}．
このようにみなしても，
\ref{sec:intro}章で述べた，
言語学の文献における焦点の定義と矛盾することはないと思われる．
上の例で見たように，
弱否定の副詞に対しても\ref{subsec:hold}節の考え方が成立する．

一方，完全否定の副詞は，否定のスコープの一部ではなく，
否定のスコープ全体が全く成り立たないことを強調する\cite{neg2007}．
文(11)と文(12)に，否定と呼応する完全否定の副詞の例を示す．
ここでは，注目している否定要素を太字にし，完全否定の副詞に二重下線を付ける．
\begin{enumerate}
\item[(11)] 栃乃洋を\underline{\underline{まったく}}寄せ付け\textbf{なかっ}た。
  [PN1e\_00004]

\item[(12)] \underline{\underline{一向に}}出口が見え\textbf{ない}長期の不況、社会全体をおおう閉塞状況、重なる将来への不安など前世紀終盤から引き継いだ課題への各党の対応を、国民はどう判断するか。
  [PN1b\_00002]
\end{enumerate}
このような場合，スコープ全体が否定の焦点であるので，
否定と呼応する完全否定の副詞を否定の焦点とみなすことはしない．


\subsection{とりたて詞}
\label{subsec:toritate}

\textbf{とりたて}とは，文中のある要素をきわだたせ，
同類の要素との関係を背景にして，
特別な意味を加えることである\cite{toritate2009}．
「は」や「も」，「さえ」，「しか」など，
とりたての機能を持つ助詞のことを，本研究では\textbf{とりたて詞}と呼ぶ．
とりたて詞が付いた語句は，否定の焦点になりやすい．
例として，対比を表す「は」を含む否定文と，
限定を表す「しか」を含む否定文を以下に示す．
いずれの例においても，とりたて詞が付いた箇所が否定の焦点である．
\begin{enumerate}
\item[(13)] \underline{前半は}スコアが伸び\textbf{ず}パープレー。 
  [PN3d\_00003]
\item[(14)] 普段は\underline{決まったものしか}料理し
  \textbf{ない}ので、おけいこ感覚で。 [PN3b\_00004]
\end{enumerate}
文(13)は，ゴルフの大会において，前半と後半を対比して述べるものであり，
後半はスコアが伸びたことがほのめかされている．
文(14)\footnote{
「普段は\underline{決まったもの以外}料理し\textbf{ない}．」という文において，
「以外」を含めて否定の焦点であると判断するように，
文(14)では，「しか」も含めて否定の焦点であると判断する．}
では，
決まったものは料理するが，それ以外のものは料理しないことが述べられている．

本研究では，否定の焦点ととりたて詞の関係を観察するために，
とりたて詞の有無とその種類をアノテーションする．
基本的にはガ格やヲ格などの格情報と同様の形式でアノテーションするが，
限定を表す「しか」と，数量語に付く「も」には特別なマークを付与する．

文(14)で見たように，「しか」は，必ず否定要素と共起する．
「しか」が付く項は強く取り立てられるので，常に否定の焦点となる．
\underline{「しか」が存在する否定文では，文に述べられたまさ}\\
\underline{にこの場合には事象は成立するが，これ以外の場合には成立しないことが表現される}．
「しか」が存在する事例には，\ref{subsec:hold}節の考え方を適用できないので，
特別なマークを付けて，「しか」が存在することを明示する．
これにより，計算機は以下に例示するような解釈を得ることが可能になる．
文(13)の焦点には特別なマークを付けないので，
計算機は，\ref{subsec:hold}節の考え方を適用して，
「前半でない場合にスコアが伸びた」という解釈を得る．
一方，下の文(13$'$)の焦点には「しか」という特別なマークを付けるので，
計算機は，規則の例外であることを認識し，
「前半にスコアが伸びた．前半でない場合はスコアが伸びなかった」という解釈を得る．
\begin{enumerate}
\item[(13$'$)] \underline{前半しか}スコアが伸び\textbf{なかっ}た。 
  [作例]
\end{enumerate}

数量語に付く「も」が否定要素と共起すると，
「その概数には届かない」という意味と，
「書き手はそれを少ない・低いと捉えている」ことが表現される\cite{toritate2009}．
これは，累加の「も」にはない性質である．例を以下に示す．
\begin{enumerate}
\item[(15)] 出場者ランキングの\underline{二十位にも}入ってい
  \textbf{なかっ}た２年生・高平慎士が、
  晴れの舞台で堂々と高校３傑入り。 [PN1e\_00003]
\end{enumerate}
\ref{subsec:hold}節の考え方の適用外ではないが，
自然言語処理における評判分析・感情解析タスクに有用であると思われるので，
累加の「も」ではないことを示す特別なマークを付けて，
数量語に付く「も」が存在することを明示する．

\ref{sec:related}章の冒頭で少し触れたように，言語学の分野においては，
否定文にとりたて詞が存在する場合，
否定のスコープととりたて詞のスコープのどちらが広いかを考慮しながら，
否定文の解釈に対するとりたて詞の性質を
議論する\cite{Numata1986,Mogi1999,Numata2009,Kobayashi2009}．
例えば，次の文は，2つのスコープのどちらが広いかにより，
2つの異なる解釈が可能である\cite{Mogi1999}．
\begin{enumerate}
\item[(16)] 親にまで打ち明けなかった。 [\cite{Mogi1999}のp.~29]
\end{enumerate}
\begin{description}
\item[「まで」のスコープが否定のスコープより広い場合の解釈]
  最初に打ち明けるべきである親に
  対しても打ち明けなかったし，親以外に対しても打ち明けなかった．
\item[否定のスコープが「まで」のスコープより広い場合の解釈]
  信頼できる親友には打ち明けた
  が，（問題を大きくしたくなかったので，）親には打ち明けなかった．
\end{description}

\ref{subsec:guideline}節で述べるように，本研究では，
\ref{subsec:hold}節の考え方に基づいて否定の焦点をアノテーションする．
とりたて詞のスコープの広さも考慮しながら情報をアノテーションすることは，
今後の課題である．


\subsection{二重否定}

否定要素が2つ重なって用いられることを\textbf{二重否定}と呼ぶ\cite{neg2007}．
以下に，二重否定を含む例文を示す．
ここでは，否定要素とその焦点の対応を明示するため，
$i$や$j$などの添字を用いている．
\begin{enumerate}
\item[(17)] 1年生のうち、
  \underline{鈴木は} $_{j}$、眠たそうに走っていたけれど、
  早朝練習に来$\mbox{\textbf{なかっ}}_{i}$た
  \textbf{わけで}$\mbox{\textbf{はない}}_{j}$。
  [作例]
\item[(18)] 山田は、
  \underline{気まずくて} $_{j}$合宿に参加し
  $\mbox{\textbf{なかっ}}_{i}$た$\mbox{\textbf{のではない}}_{j}$。 
  [作例]
\item[(19)] \underline{理由$\mbox{\textbf{なく}}_{k}$~} $_{j}$、
  \underline{レストランでは} $_{i}$これを食べ$\mbox{\textbf{ない}}_{i}$
  $\mbox{\textbf{のではない}}_{j}$。 [作例]
\item[(20)] \underline{彼なら} $_{j}$金曜日までに報告書を仕上げることは
  $\mbox{\textbf{不}}_{i}$可能では$\mbox{\textbf{ない}}_{j}$。
  [作例]
\end{enumerate}

文(17)では，「なかっ」と「わけではない」という2つの否定要素が
重なって用いられている．
鈴木以外の1年生の誰かは早朝練習に来なかったことが読み取れるので，
外側の否定要素の「わけではない」は，「鈴木は」に焦点を持つと考えられる．

文(18)では，外側の否定要素の「のではない」の焦点は，
「気まずくて」であると思われる．

文(19)には，3つの否定要素が使用されており，
「のではない」のスコープの中に，残りの2つの否定要素が含まれる．
家ではこれを食べるが，レストランでは食べないことが推測できるので，
「ない」の焦点は，「レストランでは」である．
理由がないのではなく，理由があることが読み取れるので，
「のではない」の焦点は，「理由なく」であると考える．

文(20)は，接頭辞の否定要素を含む例である．
彼以外には不可能であることが推測できるので，「ない」の焦点は「彼なら」である．

本研究では，二重否定に関わる否定要素に対して，
それぞれその焦点が何であるかを判断してアノテーションする\footnote{
残念ながら，今回対象としたテキスト（\ref{sec:corpus}章参照）には二重否定は出現しなかった．}．
このとき，内側の否定要素のスコープの事象が二重否定により成立する場合，
内側の否定要素に特別なマークを付ける．
例えば，文(17)の「なかっ」のスコープは，
「鈴木は早朝練習に来」で表現される事象であり，
二重否定により，この事象は成立することが読み取れる．
この「なかっ」には上記のマークを付け，
「鈴木は早朝練習に来なかった」ことが事実ではないこと
（すなわち，「鈴木は早朝練習に来なかった」ことが否定されていること）を表現する．
一方，文(18)の「なかっ」のスコープは，
「山田は合宿に参加し」で表現される事象であり，
この文からは，「山田は合宿に参加しなかった」ことが事実であることが推測できる．
この場合は，二重否定に関わらない通常の否定要素と同様に扱うことができるので，
特別なマークは付けない．
このようなアノテーションは，\ref{subsec:hold}節の考え方と矛盾を起こさない．
例えば，文(17)における外側の否定要素である「わけではない」に対して
\ref{subsec:hold}節の考え方を適用して，
1年生のうち鈴木以外の誰かは早朝練習に来なかったことを推測することができる．
同様に，文(19)における内側の否定要素である「ない」に対して
\ref{subsec:hold}節の考え方を適用して，
レストラン以外の場所ではこれを食べることが推測できる．

\ref{subsec:toritate}節で述べたように，
「しか」が存在する事例には，\ref{subsec:hold}節の考え方を適用できない．
二重否定と「しか」が混在する場合は，これらに対する特別なマークを併用する．
例えば，次の例文からは，
田中が早朝練習に来たことと，田中以外の誰かも早朝練習に来たことが読み取れる．
\begin{enumerate}
\item[(21)] 今朝は、
  \underline{田中しか} $_{i}$
  早朝練習に来$\mbox{\textbf{なかっ}}_{i}$た
  $\mbox{\textbf{わけではない}}_{j}$。 
  [作例]
\end{enumerate}
このような解釈を表すために，
内側の否定要素である「なかっ」に
「否定されている」ことを表す特別なマークを付け，さらに，
その焦点である「田中しか」に「しか」に関する特別なマークを付ける．

出現頻度はかなり低いと思われるが，
三重以上の否定が存在する場合も，二重否定の場合と同様にアノテーションする．


\section{否定の焦点アノテーションの枠組み}

この章では，まず，否定の焦点を判断する基準について述べる．
そして，否定要素とその焦点に対して定めたアノテーション項目と，
そこに付与するラベルについて説明する．


\subsection{否定の焦点の判断基準}
\label{subsec:guideline}

\ref{sec:intro}章で述べたように，
否定要素によって特に否定される部分が否定の焦点である．
これを安定して判断するために，
\ref{subsec:hold}節の考え方に基づいて，我々は次のような判断基準を定めた．
\begin{enumerate}
\item ある文の否定の焦点を判断する時には，
その文だけでなく，周りの文脈も広く参照する
\item 対象とする文から，一部の表現と否定要素を除外した事象を生成する．
  その事象が成立することが推測できれば，
  除外した表現の部分を否定の焦点と判断する
\item 解釈に複数の可能性が考えられる場合は，
  否定の焦点はスコープ全体であるとする
\begin{itemize}
\item 例えば，一部に焦点があると考えることもできるし，
  スコープ全体が焦点であると考えることもできる場合
\item 例えば，Aという部分に焦点があると解釈することもできるし，
  Bという部分に焦点があると解釈することもできる場合
\end{itemize} 
\end{enumerate}
基準(3)は，判断する人間の思い込みを最大限排除するために設けたものである．
複数の解釈が発生するのはどのような状況であるかを調査し，
その状況の説明を含め，
複数の解釈が存在することをアノテーションする枠組みを設計することは，
今後の課題である．


\subsection{項目とラベル}
\label{subsec:label}

否定要素に対して，以下の5つのアノテーション項目を定める．
\begin{description}
\item[表層文字列] 文に出現した否定要素の表層文字列．出現形で記述する
\item[形態素ID] 否定要素の形態素のID
\item[品詞] 助動詞，接尾辞，接頭辞，形容詞，名詞，否定複合辞のいずれか
  （\ref{subsec:neg}節参照）
\item[二重否定] 二重否定により，事象が成立しているとみなせるか
\item[最終更新日] ``YYYYMMDD''という形式で記述された最終更新日
\end{description}

否定複合辞のリストとプログラムを用意すれば，
これらのうち，二重否定以外の情報は自動付与が可能である．
ただし，形態素解析辞書UniDic\footnote{
http://sourceforge.jp/projects/unidic/}では，
助動詞ではない「ない」は，
すべて「形容詞，非自立可能」と解析されるため，
これらを半自動的に「形容詞」と「接尾辞」に分類する必要がある．

否定の焦点に対して，以下の7つのアノテーション項目を定める．
\begin{description}
\item[代表表層文字列] 焦点の表層文字列．
  ただし，後述する代表形態素のみを記述する
\item[代表形態素ID] 焦点の代表形態素のID
\item[項・節の種類] ガ格，ヲ格，デ格，副詞，ノの項，ナの項，
  テ節，ト節など，焦点の統語的分類．複数記述可
\item[特別なとりたて詞] 「しか」や，数量語に付く「も」が存在するか
\item[意味分類] 制限-時間，制限-場所，制限-対象，
  付加-連用修飾，付加-連体修飾，付加-アスペクトなど，
  意味解釈に基づいた，否定されている語句の分類
\item[判断の根拠] その箇所を焦点であると判断するに至った根拠．自由記述
\item[手がかり語句] 文章中に存在する，焦点判断の手がかりとなった語句．
  複数記述可 
\end{description}

コーパスにおいて否定の焦点は代表1形態素にラベル付けする．
このように決めた理由は，否定の焦点の自動検出システムを評価する際に，
正解とシステムの出力の比較が容易になるからである．
代表1形態素は，次のように定める．
\begin{itemize}
\item 内容語
\item 複合語の場合，接尾辞を除く末尾の語
\item 修飾語が存在する場合，それが係る末尾の語
\end{itemize}
1形態素にラベル付けするが，その1形態素のみに焦点があると考えるのではなく，
その形態素を含む項（場合によっては，節）全体に焦点があるとみなす．

表層的な格助詞や接続助詞などに基づく分類が，「項・節の種類」であり，
焦点の語句が表す意味に基づく分類が，「意味分類」である．
例えば，「意味分類」の``制限-場所''は，
場所を表す語句に否定の焦点があり，
そこではない場所をうまく選べば，対象事象が成立することを表す．
「意味分類」の``付加-連用修飾''は，
程度の副詞や頻度の副詞に対して付与する．

文中に存在する形態素列をそのまま記述する項目が「手がかり語句」であり，
人手による判断の根拠を備考として自由記述する項目が「判断の根拠」である．
現在は，「判断の根拠」は自由記述としているが，
使用できる語彙を制限した，
いわゆる制限言語により根拠を記述する方法を模索している．

上に挙げた項目のうち，
「項・節の種類」と「意味分類」，「手がかり語句」は，
否定の焦点を自動的に検出するシステムを構築する際に，
有用な情報を提供すると考えている．
焦点検出の最初の処理として，
焦点の候補となる語句に対してこれらの項目を適切に特定することができれば，
その情報は，それぞれ，
形態的・統語的手がかり，意味的手がかり，談話的手がかり\footnote{
機械学習手法を用いる場合は，それぞれ，
形態的・統語的素性，意味的素性，談話的素性に対応する．}として，
否定の焦点を決定する処理に利用することが可能であると思われる．

構文的制約から，否定要素に対して選択できる焦点の候補が1つしかない場合，
すなわち，焦点はスコープ全体であると考えるしかない場合，
そのような事例とその他の事例を区別することは有用である．
なぜならば，焦点検出システムの評価にアノテーションコーパスを用いる時，
このような事例に対してシステムは必ず正解のラベルを出力するので，
システムの本質的な性能を見るために，
評価データからこのような事例をすべて除去したいことがあるからである．
我々は，上で述べた項目に加え，
アノテーション項目として「候補数」を設計\footnote{
ラベルは，``1''か``複数''の2択とした．
}し，アノテーション作業を行ったが，
今回の作業では，候補数が1となる事例は見つからなかった．
アノテーションコストを考慮すると，
人手によりこの項目をアノテーションすることは良い方法ではないことが分かった．
プログラムにより，
「1文中に述語と否定要素しか存在しない」事例を見つけることが，
候補数が1の事例を見つけるための得策であると思われる．
現在，「候補数」をアノテーションすることは保留している．


\subsection{否定のスコープ}

本来ならば，
否定の焦点をアノテーションする前に，
否定のスコープを明示的にアノテーションすべきである．
既存の述語項構造解析の技術を用いれば，
ある程度は自動的に否定のスコープを認識することができるが，
対象が整った文章でない場合，人間による修正作業が多く発生する．
本研究では，
人的コストの関係から，否定のスコープをアノテーションしない．
人間が否定の焦点を判断する時には，
対象となる否定要素のスコープを目で確認するに留める．
頑健かつ高い精度で否定のスコープを認識するシステムを開発することは，
今後の課題である．


\subsection{データ構造}
\label{subsec:XML}

我々が提案するアノテーション体系に基づく否定の焦点コーパスは，
図\ref{fig:XML}のようなXMLによって表現する．
この図は，\ref{subsec:hold}節の文(3)に対するアノテーション結果である．

アノテーション対象のテキストデータは，
次のような形式でファイルに保存されていることを前提とする．
\begin{itemize}
\item 文分割されている
\item 1文が$<$sentence$>$要素で囲まれている
\item 形態素解析されている
\item 各形態素は，$<$SUW$>$や$<$tok$>$のような要素で囲まれている
\item 形態素を囲む要素は，少なくとも1文内で一意のID属性を持っている
\end{itemize}
例えば，BCCWJのXML形式のデータは，上記の形式に合う．
また，文分割したテキストデータを，
オプション``-f 3''を指定しながら構文解析器CaboChaで構文解析した
出力結果もまた，上記の形式に合う．
我々は，前処理として，
すべての$<$sentence$>$要素に独自のID （通し番号）を付与する．

\begin{figure}[t]
\begin{center}
\includegraphics{21-2iaCA6f1.eps}
\end{center}
\caption{提案するアノテーション体系に基づくXMLファイルの例 [PN1a\_00002]}
\label{fig:XML}
\end{figure}

提案するXMLでは，
$<$wsb:negation$>$要素を用いて否定要素の情報を記述し，
$<$wsb:focus$>$要素と
$<$wsb:description$>$要素，$<$wsb:clue$>$要素を用いて
否定の焦点の情報を記述する\footnote{
ここで，``wsb''は，植物のわさびから名付けた名前空間である．}．


\subsubsection*{$<$wsb:negation$>$要素}

1文もしくは文の断片を表す$<$sentence$>$要素の直接の子要素として記述する．
\ref{subsec:label}節で述べたアノテーション項目に対する値を
以下の属性に記述する．
\begin{itemize}
\item @wsb:orthtoken （必須属性）: 表層文字列
\item @wsb:morphID （必須属性）: 形態素ID
\item @wsb:POS （必須属性）: 品詞
\item @wsb:doubleNegative （任意）: 二重否定
\item @wsb:lastupdate （必須属性）: 最終更新日
\end{itemize}


\subsubsection*{$<$wsb:focus$>$要素}

$<$wsb:negation$>$要素の直接の子要素として記述する．

否定の焦点がスコープ全体である場合は，
1という値を記述した@wsb:scope属性のみを指定する．

否定の焦点がスコープの一部である場合，
子要素として
$<$wsb:description$>$要素と$<$wsb:clue$>$要素を用意すると同時に，
$<$wsb:focus$>$要素の以下の属性\footnote{
@wsb:numOfCandidatesは，\ref{subsec:label}節で述べた「候補数」を表す．
図\ref{fig:XML}における``pl''という値は「複数」を表す．
}に値を記述する．
\begin{itemize}
\item @wsb:orthtoken （必須属性）: 代表表層文字列
\item @wsb:morphID （必須属性）: 代表形態素ID
\item @wsb:argTypes （必須属性）: 項・節の種類
\item @wsb:toritate （任意）: 特別なとりたて詞
\item @wsb:class （必須属性）: 意味分類
\end{itemize}
$<$wsb:description$>$要素のコンテンツに「判断の根拠」を記述する．
この要素は1つのみ用意することができる．
「手がかり語句」を記述する$<$wsb:clue$>$要素には，
次の属性の値を記述する．
\begin{itemize}
\item @wsb:sID （任意）: 手がかりの形態素列が対象の文の外に存在する場合，
手がかりが存在する文のIDを記述する
\item @wsb:orthtokens （必須属性）: 手がかりの表層文字列の列．
  形態素間は``.''で区切る
\item @wsb:morphIDs （必須属性）: 表層文字列の列に対応する形態素IDの列．
  形態素間は``.''で区切る
\end{itemize}
必要ならば，$<$wsb:clue$>$要素は2つ以上用意しても良い．

我々のデータ構造は，
$<$sentence$>$要素に1つの子要素（孫要素を含む）を追加するのみであるので，
BCCWJのXML形式のデータを利用するアノテーションや，
XML形式のCaboChaフォーマットを利用するアノテーションと共存できるという
長所を持つ．
    例えば，松吉らの拡張モダリティアノテーション (松吉 他 2010)
と我々のアノテーションは
共存可能である．


\section{否定の焦点コーパス}
\label{sec:corpus}

前章で説明したアノテーションの枠組みに基づき，
次の2つのテキストデータを対象として，
否定の焦点コーパスを構築した．
\begin{enumerate}
\item 楽天データ\footnote{http://travel.rakuten.co.jp/}の
  楽天トラベル: レビューデータ
\item BCCWJにおけるコアデータ内の新聞(PN)
\end{enumerate}


\subsection{楽天トラベル: レビューデータ}

楽天トラベル: レビューデータのうち，
重要文抽出に関して小池らが使用したものと同じ
レビュー集合\cite{koike2012}を対象とした．
これを選択した理由は，小池らのコーパスと合わせることで，
要約における重要文と否定の焦点の間の関係が明らかになる
可能性があるからである\footnote{この関係性の分析は今後の課題である．}．

小池らのレビュー集合について説明する．
彼らは，まず，宿泊施設に対するレビュー数の分布を調査し，
90\%以上の宿泊施設はレビュー数が1から58の範囲にあることを
明らかにした．
そして，その結果に基づき，
レビュー数が10から58の範囲の宿泊施設の全体から，
無作為に40の宿泊施設を抽出した．
最後に，独自の文分割規則により半自動的にそのレビュー集合を文分割した．

このコーパスには，5,178文が含まれており，
形態素の品詞情報のみに基づいて抽出した否定要素の候補は，
1,246個であった．
以下，このコーパスを「レビュー」と表記する．


\subsection{BCCWJコアデータの新聞}

BCCWJ全体の約1/100のデータがコアデータに指定されており，
このデータは，その他の部分と比較して高い精度で解析が施されている．
コアデータの一部に言語学的情報を付与する場合，
国立国語研究所が定めたファイル優先順位\footnote{
http://d.hatena.ne.jp/masayua/20120807/1344313720}に従うことが推奨される．
我々は，コアデータ内の新聞340ファイルのうち，
優先順位が1から54までの``A''グループを対象とした．

このコーパスには，
1文もしくは文の断片を表す，XMLの$<$sentence$>$要素が2,708個含まれており，
否定要素の候補は，406個であった．
以下，このコーパスを「新聞」と表記する．


\subsection{アノテーション作業}

\ref{subsec:XML}節で説明したXML形式のファイルは，
独自プログラムにより，HTML形式のファイルに変換することができる．
このHTML形式のファイルをブラウザーで開いたところを，図\ref{fig:HTML}に示す．
作業者は，ブラウザー上でHTMLファイルを確認しながら，
テキストエディターにおいてXMLファイルを更新する．
作業にかかる時間は，100個の否定要素候補に対して3時間程度である．
XMLの編集に適したエディター環境の構築は，今後の課題である．

\begin{figure}[t]
\begin{center}
\includegraphics{21-2iaCA6f2.eps}
\end{center}
\caption{ブラウザー上で見たHTMLファイル}
\label{fig:HTML}
\end{figure}

2人の作業者が独立に「新聞」に対してアノテーション作業を行い，
2人の作業結果において焦点の場所がどれほど一致するかを調査した．
全304個の否定要素のうち，103個が不一致であったが，
2時間ほど 2人で議論することにより，
これらの不一致をすべて解消することができた．
不一致の主な原因は，以下の3点であった．
\begin{itemize}
\item スコープが明示されていないことによる勘違い
\item 作業者のうち1名は，広く文脈を参照していなかった
\item とりたて詞「だけ」が持つ限定の意味に引っ張られた
\end{itemize}

「レビュー」に対するアノテーション作業は，1人の作業者が行った．
その後，もう1人の作業者が作業結果を確認し，
議論の上，数個のラベルを修正した．


\subsection{コーパスの分析}

2つのコーパス「レビュー」と「新聞」における，
否定要素候補の分布を表\ref{tab:neg}に示す．
2つのコーパスにおいて，否定要素はそれぞれ1,023個と304個であり，
いずれのコーパスでも，
助動詞「ない」と「ず」が全体の過半数を占めることが分かる．

2つのコーパスにおいて，否定の焦点がスコープ全体でないものは，
それぞれ301個と72個であった．
「レビュー」では，29\% (301/1,023)の否定要素が，
「新聞」では，24\% (72/304)の否定要素が，
スコープの一部に焦点を持つことが分かる．
自然言語処理において，否定の焦点が適切に検出されず，
すべての焦点はスコープ全体であるとして否定文を扱う場合，
30\%弱の事例に対して，否定文が含意する解釈を把握できないことになる．
この数字は無視できないほど大きいと思われる．

スコープ全体でない焦点の「項・節の種類」の分布を
表\ref{tab:foc}に示す．
図\ref{fig:XML}に例示されるような，
ある格と``ノの項''が同時に付与されている事例は，
この表では，``ノの項''として集計した．
「レビュー」には，焦点が副詞である否定要素が多いことが分かる．
「新聞」のデータ数が少ないので，確定的なことは言えないが，
どの格が焦点になりやすいかも，2つのコーパスで異なる傾向があるようである．

\begin{table}[b]
\begin{minipage}[t]{0.48\hsize}
\caption{否定要素候補の分布}
\label{tab:neg}
\input{ca06table01.txt}
\end{minipage}
\hfill
\begin{minipage}[t]{0.48\hsize}
\caption{スコープ全体でない焦点の分布}
\label{tab:foc}
\input{ca06table02.txt}
\end{minipage}
\end{table}

焦点である部分に付いていたとりたて詞の数を
表\ref{tab:toritate}に示す．
2つのコーパスを合わせ，35\% (129/373)の焦点に何らかのとりたて詞が
付いていたことが分かる．
とりたて詞「は」は，焦点である箇所の手がかりとして利用できそうに見えるが，
「は」は，特に主題を表す「は」として，
スコープ全体が焦点である事例にも多く出現するので，
注意が必要である．
\ref{subsec:toritate}節で述べたように，
スコープの中に「しか」が付く項が存在する場合，
それが否定の焦点となる．

焦点の語句が表す意味に基づく分類結果を表\ref{tab:semantic}に示す．
「レビュー」には，焦点が副詞である否定要素が多いため，
``付加-連用修飾''が多いことが見て取れる．
「レビュー」は宿泊施設のレビュー集合であるので，
場所を表す語句に否定の焦点がある``制限-場所''が，
「新聞」に比べ，著しく多いことが分かる．

判断の根拠\footnote{
判断の根拠と手がかり語句は，アノテーションコストの理由により，
今回，1人の作業者しか記述していない．}は，
自由記述であるため，様々な回答が見られた．
「レビュー」では，副詞が焦点となる事例が多かったので，
次のような根拠が多く見られた．
\begin{itemize}
\item 程度の副詞が付加的に使用されている（86事例）
\item 時間の副詞（句）が付加的に使用されている（20事例）
\item 様態の副詞が付加的に使用されている（8事例）
\end{itemize}
しかしながら，このような特別な場合を除けば，
一致する回答はほとんどなく，出現回数が1回の回答は，160事例あった．
参考として，その中から任意に選択した回答を以下に示す．
\begin{itemize}
\item それまでは連絡が取れた
\item 一般に材料は入れる
\item 一部は押さえた
\item その他の項目では負ける可能性がある
\item このホテルは特別なサービスがある
\end{itemize}
これらの回答を自然言語処理において有効に活用するためには，
\ref{subsec:label}節で述べたように，
できる限り，語彙と書き方を制限する方法が有効であると思われる．

\begin{table}[b]
\begin{minipage}[t]{0.48\hsize}
\caption{焦点に付いていたとりたて詞}
\label{tab:toritate}
\input{ca06table03.txt}
\end{minipage}
\hfill
\begin{minipage}[t]{0.48\hsize}
\caption{焦点の意味分類結果}
\label{tab:semantic}
\input{ca06table04.txt}
\end{minipage}
\end{table}
\begin{table}[b]
\caption{手がかり語句が存在した位置}
\label{tab:clue}
\input{ca06table05.txt}
\end{table}

対象文内に存在した手がかり語句の数と，
対象文の外に存在した手がかり語句の数を，表\ref{tab:clue}に示す．
「レビュー」では，2事例に対してそれぞれ2つの手がかり語句が記述されていたため，
合計が373ではなく，375となっている．
この表から，
87\% (327/375)の手がかり語句は，対象文内に見つかることが分かる．
しかしながら，今回のアノテーション作業においては，
広く文脈を見渡すことにより，対象文が持つ意味の曖昧性を解消してから，
手がかり語句を決定しているので，
ほとんどの否定の焦点は対象文内の情報のみで特定できると結論付ける
ことはできないと思われる．
今後は，徐々に参照する文脈を広げながら，
「どこまで参照したか」という情報とともに，
手がかり語句を記述する枠組みが必要である．


\end{document}
