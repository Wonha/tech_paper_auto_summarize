用例利用型のアプローチ(example-based approach)とは事例を模倣して要約や翻訳など言語を作成することであり，アナロジーに基づく翻訳手法としてNagao [CITE]によって提唱された．
Nagaoは人間が第二言語を学ぶ際の学習過程に注目し，機械もその人間の学習過程を真似れば翻訳ができるのではないかと提案した．
人間が言語を習得する際にはまずは基本的で単純な文や文節を学習し，さらに学習を進める際には今までに学習した事例の中から類似した文や文節を模倣利用して組合せたり語句を置き換えたりすることによって新しく文を作成している．
機械も同様に今までに収集した事例を真似ることで文が作れるのではないかという考えである．
機械翻訳の分野では用例利用型の翻訳が実装され，これまでに良好な結果を得ている[CITE]．
これらの既存研究では原言語（日本語）と目的言語（英語）のパラレルコーパスを用例として使用している．
そして用例がどのように翻訳が行われているか参照し，その対を利用することで翻訳を行っている．
さらに換言処理の分野でも用例利用の考え方が用いられている．
大竹[CITE]は同一言語内における翻訳と捉え被換言表現と換言表現の対を用例として利用している．
そして入力となる被換言表現と類似した用例の被換言表現側を検索しそれと対となっている換言表現を模倣して換言を行っており，良好な結果を得ている．
このように用例利用型のアプローチは翻訳や換言で用いられており，良好な結果が得られている．
人間が要約を行う際にはコツがあるという．
それは対象物を読んでどのような文や文節が要旨として必要なのか判断し，より短い表現に置き換えることである．
その要旨判断の元となっているのは要約とはどういうものなのか，どういう傾向で作成すれば良いのか等の今までの要約事例を元にした知識や経験である．
図[REF_人間が考える要約]に人間が行う要約方法の例を示す．
図[REF_人間が考える要約]では人間が要約の対象となる文章を読んで，この記事は「監査に乗り出す」という内容の記事だと認識する．
また「監査」と「捜査」が似ている単語であるという知識も持っている．
そして人間は監査や捜査という内容の記事がどのような傾向で要約されるのかという経験も用いて，要約文を作成する．
つまり人間が行う要約過程も前節で述べた人間が第二言語を学習する際の翻訳する過程と似ており，経験，事例を利用していることが分かる．
そこで本論文では機械も人間の要約する過程を真似れば自動要約ができるのではないかと考え，用例利用型の要約を行う．
用例利用型のアプローチを自動要約に用いることの利点は以下である．
保守が容易である
システムを構築する際には一般的に管理，保守の容易性が求められる．
用例利用型のアプローチでは使用する状況に応じて用例を変更，または加えることだけで容易に改良ができるため，管理や保守が容易に行うことができる．
なお追加した用例が他の用例に副作用を及ぼすことがない．
これに対して，人手で要約規則を作成する規則利用の要約は修正や保守に高いコストがかかる．
また，修正するための規則が他の規則と競合してしまうことや人手による作成がゆえ，要約する際に必要な規則が欠ける等の問題も起こってしまう．
重要度の設定が不要
これまでに行われてきた重要文抽出や文圧縮の研究の多くは頻度情報や位置情報，タイトル情報などを用いて語や文節に対して重要度を計算していた．
しかしながら人間はさまざまな情報を考慮して要点を判断しているため，その要点と相関のあるような重要度を設定することは難しい．
これに対して用例利用型要約では重要度の計算を必要としない．
その代わりに2つの表現間の類似度を用いるのである．
本論文ではある表現に対して計算する重要度よりも2つの表現間対して計算する類似度の方が容易であると考える．
入力の内容により適した出力が得られる
統計的な要約手法は一般的に要約文のコーパスに含まれる単語に対して確率を計算する[CITE]．
統計的なアプローチではより大局的な確率に注目するため入力の内容により適した出力を得ることが難しい．
しかしながら用例利用型要約では用例の中から類似した用例を見つけ，その用例に従って要約を行うため入力によりふさわしい出力が得られる．
本章では用例利用型の要約である提案法の概要を示す．
まず本論文で使用する用例を紹介し，その後提案システムの全体の流れを説明する．
最後に，用例を用いた要約の既存手法を取り上げ，本手法との違いを述べる．
本論文の用例利用型要約では用例として，日経ニュースメールNikkei-goo\toolref{言語資源:nikkei-goo}から配信されている速報ニュースを使用した．
この速報ニュースは月曜日から金曜日までの週に5日，1日3回のメールによって配信されており，以下のようなものである．
\exp{例:日経メール}日経ニュースメールNikkei-gooで配信されているメールの例
\ul{記事のタイトル}
{九州新幹線長崎ルート、JR九州が並行在来線の運行継続}
\ul{本文}
{九州新幹線長崎ルート問題で、並行する在来線の運行をJR九州が続けることに。
沿線市町村の反対根拠が消え着工へ前進。
}
…………………………………………………………………………………………………………
\ul{記事のタイトル}
{素材各社、高機能品を中国で生産}
\ul{本文}
{素材各社が中国で高機能素材を生産へ。
三井化学など車などに使う高機能樹脂工場を建設。
中国素材市場の需要急伸に対応。
}
例[REF_例:日経メール]のように配信されているニュースは記事のタイトル及び本文（1文から3文）から構成されておりニュース記事の要点を短くまとめたものである．
しかし2文目以降の文は1文目の付加情報であることが多いため，本論文では用例文として利用する対象を本文の1文目に限定した．
またシステムで使用する構文解析器での誤りや解析の揺れを最小限に抑えるため，この速報ニュースには前処理を施してから用例データベースに格納している．
この前処理は[REF_章:類似用例文の選択]章で述べる．
提案法の要約システムは大きく分けて3つのステップから構成される．
入力は複数の文を持つ文書または1文のみの文書であり，これを用例に従い1文に要約する．
用例には前節で述べた速報ニュースを用いている．
図[REF_提案システムの流れ図]を用いてシステムの流れを説明する．
まずStep1では入力となるニュース記事（複数文）を受け取り，用例の集合の中から内容の類似した類似用例文を検索する．
続いてStep2で先程選ばれた類似用例文と入力ニュース記事の文節を比較する．
類似用例文の文節1つに対して類似していると判断された入力の文節が全て対応候補として選択される．
また類似用例文の文節に対して，対応する入力の文節が1つも無い場合はその類似用例文を使用せず，次に検索された類似用例文を使って対応付けを行う．
そしてStep3では選択された対応候補を使用し，用例により類似した文節で日本語として繋がりの良い組合せを探索する．
このステップによって出力の要約文が得られる．
用例に基づいた言語生成の研究は主に機械翻訳または換言で実装されているが，要約の分野ではNguyenら[CITE]以外に前例はない．
Nguyenら[CITE]は用例利用型の要約として，1文を入力としてそれを圧縮する手法を提案している．
この要約手法は用例として原文と要約文の対から作成したテンプレート規則を使用している．
またこのテンプレートの他にも換言規則(lexical rule)も作成している．
これは例えば，The documentをDocumentに，Two companiesをCompaniesに換言するものである．
そして入力として``The document is very good and includes a tutorial to get you starte.''という文が入ってきたときに，``Document is very good.''と文圧縮されるシステムである．
これに対し，提案法のシステムでは人間が作成するような要約文により近づけるため入力の単位を複数文（ニュース1記事）として文節を組合せることにより1文に要約する．
つまり文圧縮とは異なる．
そのため文字の削除率は必然的に高くなり，Nguyenらよりも本論文で取り組む問題はさらに困難である．
また本論文では人手で作成された要約文のみを用例として用いているため原文との対応を取る必要がない．
そのため容易に用例を収集することができ，原文と要約文の対応コーパスが少ない特許や医学文書の分野でも効果的に要約が作成できる．
本章ではニュース1記事を入力として受け取り，その記事の内容に類似した用例「類似用例文」の選択方法を述べる．
この類似用例文は入力ニュース記事が要約文を作成する際に模倣利用するものである．
類似用例文を選ぶ際には解析誤り等を防ぐためまず初めに入力に対して文の整形を施す．
これは用例として使用している速報ニュースに対して施した文の整形と同様の方法であり，本章で説明する．
続いて類似用例文の選択や[REF_章:文節の対応付け]章で用いる類似単語データベースについて説明し，最後に類似用例文の選択での中心部分を述べる．
類似用例文の選択を行う前に，前処理として文の整形を行う．
これは構文解析を行う際に解析ミスや解析の揺れが出てしまうのを未然に防ぐために行うものである．
解析ミスや解析の揺れは[REF_節:類似用例文の選択]節で行う類似用例文の選択で不当な類似スコアを与えてしまうことに繋がってしまうためできるだけ抑えなくてはいけない．
整形を施す部分は括弧の部分であり，これらについては括弧及びその中の情報を削除するまたは括弧のみを削除する操作を行っている．
この整形は入力されるニュース記事に対して，また用例データベースを作成する際の用例にあらかじめ施すものである．
用例文や入力のニュース記事に含まれる括弧には丸括弧（）やカギ括弧「」がある．
丸括弧では直前にくる語に関する年齢，地名，代表者名，補足情報，換言であり，このような役割である丸括弧の情報は削除してもニュースの内容は変わらない．
そのため丸括弧については括弧及びその括弧内に含まれている語を削除する操作を行う．
続いて，カギ括弧の整形について述べる．
カギ括弧の役割としては引用や強調があるが，入力記事や用例文には同じような使われ方であるにも関わらず，カギ括弧が付いている場合とそうでない場合がある．
またカギ括弧の有無だけで構文解析の結果が異なってしまうことがあるため，これを防ぐには引用部分がある場合には全てカギ括弧を付ける，もしくは全てカギ括弧を削除するどちらかをしなくてはならない．
しかしカギ括弧の付いていないものに対して範囲を指定し括弧を付加することは意味解析など様々な技術を用いても確実にできるものは少ないため後者のカギ括弧を削除する操作を行った．
類似単語データベースは使われ方の似た単語を類似したものとして格納したものである．
この場合の使われ方が似ているとは同じ語と係り受け関係を持ちやすいことを意味する．
例えば例[REF_類似単語DB]に示すように「参入」と「進出」は同じ係り受け関係を持ちやすい．
このような語を似ていると判断し，データベースに格納する．
\exp{類似単語DB}使われ方の似た単語
参入を予定—進出を予定
参入を発表—進出を発表
この類似度を測る際にはLin [CITE]の相互情報量を用いた類似度を日本語に対応できるように改良して単語間の類似度計算を行った．
Linはテキストコーパスから係り受け関係にある2文節とその文法関係に対して``(have, SUBJ, I)''のように3つ組([MATH])を作成している．
3つ組には以下の式で与えられる相互情報量も付加している．
この相互情報量は係り受け関係の繋がりの強さを意味する．
上式の[MATH]は任意の単語であり，[MATH]は出現頻度を表す．
例えば[MATH]ならば文法関係が[MATH]である3つ組の出現頻度を表す．
さらに単語[MATH]と単語[MATH]の類似度を算出するために以下の式を用いて計算を行っている．
式([REF_simMI])における[MATH]は式([REF_IM])の[MATH]が正となるような[MATH]の集合を表す．
この類似度によって同じ係り受け関係を持ちやすいような単語が類似していると判断できる．
本論文ではあらかじめ日本経済新聞コーパス1990--2004年\toolref{言語資源:日経}を使用し，類似単語データベースを作成した．
類似用例データベースには単語[MATH]と類似度が高かった上位10%の類似した単語[MATH]を格納している．
また相互情報量を計算する3つ組([MATH])を日本語に対応できるよう，係り受け関係にある2文節の各々の主辞([MATH])と係り元文節に含まれる機能語[MATH]へと改良した．
この例を図[REF_図:3つ組]に示す．
続いて，類似単語データベースの一例を以下に示す．
例の括弧内の数値の1つ目は類似度を示す．
2つ目はその類似度をある単語（例中の「事務所」）と類似している単語（例中の「支店，室，センター」など）の中で最も高かった類似度で正規化したものである．
\exp{nolabel01}類似単語データベースの一例
\ul{事務所}
{支店(0.22606 : 1.00000)、室(0.22601 : 0.99977)、センター(0.21635 : 0.95705)、所(0.21327 : 0.94342)、局(0.20754 : 0.91807) }
\ul{値上げ}
{引き上げ(0.24755 : 1.00000)、値下げ(0.22883 : 0.92438)、引き下げ(0.22575 : 0.91194)、削減(0.21192 : 0.85606)、増産(0.20626 : 0.83321) }
\ul{再建}
{解決(0.20423 : 1.00000)、復興(0.19219 : 0.94104)、構築(0.19162 : 0.93826)、実現(0.18707 : 0.91598)、開拓(0.17891 : 0.87602) }
\ul{スポーツ}
{サッカー(0.16291 : 1.00000)、ゴルフ(0.15383 : 0.94426)、ビジネス(0.14445 : 0.88668)、野球(0.14405 : 0.88423)、競技(0.14355 : 0.88116) }
\ul{描く}
{作る(0.13313 : 1.00000)、書く(0.13185 : 0.99039)、埋める(0.13058 : 0.98085)、つくる(0.12920 : 0.97048)、生かす(0.12774 : 0.95951) }
類似用例文の選択では入力ニュース記事と用例データベースに格納されている用例とを比較し，入力の内容や話題の類似した用例「類似用例文」を選択する．
提案法のシステムではこの選択された類似用例文を模倣利用して入力ニュース記事を要約する．
内容や話題の類似した文章には共通して出現する語が多い．
そのため提案法では入力ニュース記事に対して同じ語を多く含むような用例文を獲得する．
しかしどんな語でも共通して出現していればよいというわけではない．
文章の内容や話題を表すのに貢献する語が両者に共通して出現したときにはそれらの文章は類似していると言える．
よって類似用例文の選択では内容をより表している語に注目して比較を行わなくてはならない．
本論文では注目する語によって類似用例文の選択部分を2つの段階に分ける．
まずは述語に注目する．
述語は記事の骨子であるため内容を表す最も重要な語である．
そのため類似用例文として獲得する用例文を入力の述語を1つ以上含むものに限定する．
この段階で行う操作の流れを図[REF_図:類似用例1]に示す．
図[REF_図:類似用例1]の入力及び用例文の述語群の獲得をするための規則を説明する．
規則を適用する際は文節情報，品詞情報を使用するため入力ニュース記事が複数文であるときは1文単位に分割し各々の文に対して構文解析を行う．
用例文は全て1文であるのでそのまま構文解析を施す．
本論文では構文解析器CaboCha\toolref{ツール:cabocha}を用いた．
このツールには文節内の最も重要となる語である主辞や助詞などの機能語を判定する機能も含まれている．
続いて構文解析した結果を用いて作成した規則を適用する．
なお述語には活用を考慮せず，全て基本形を用いている．
述語を取り出す規則を以下に示す．
文末の1文節に含まれている主辞（例外処理(4)(5)も行う）
例）
決めた。
→決める
発表した。
→発表
動詞--自立+読点が含まれている文節の主辞（例外処理(4)も行う）
例）
決め、→決める
発表し、→発表
動詞--自立＋助詞--引用が含まれている文節の主辞（例外処理(4)(5)も行う）
例）
決めたと→決める
発表したと→発表
\uc{例外処理1}
動詞「する，ある，なる」が主辞と判定された場合，その直前の形態素がサ変名詞であればそのサ変名詞を述語とする．
直前の形態素がサ変名詞でなければ1つ前の文節を参照しその文節の主辞を述語とする．
（「する」は機能語的に使用されていることが多いため．
また「ある，なる」は文の内容を表すものとして情報は少ない．
そのためこれらの語は述語として用いず，他の語を述語とした．
）
例）
発表を｜\kern-0.25zwする。
→発表
発表する。
→発表
狙いが｜ある。
→狙い
先送りに｜なる。
→先送り
\uc{例外処理2}
「予定，計画，方針，方向，見込み，見通し」のいずれかが主辞と判定された場合，その直前の文節の主辞を述語とする．
（これらの表現は本来の意味よりも未来，推量などを表すムード[CITE]であることが多く，「だろう」などの助動詞として扱うこともできる．
そのためその語が持つ記事の内容を表す貢献度は低く，直前の形態素がサ変名詞または動詞であればその語を述語とした．
）
例）発表する｜予定。
→発表
本論文では以上の規則を用いて述語を取り出した．
続いて用例文の述語に対して使われ方の類似した単語を付加し，用例の述語群を拡張する．
これは述語群の一致をみるときに，完全に一致した述語でなくても使われ方が似ていれば，次節で述べる対応付けも可能であり，類似用例文として有用であるためである．
類似した単語は，あらかじめ作成しておいた類似単語データベースのその述語と類似した上位3単語とした．
この処理では上述した述語群の一致を使用して類似用例文となりうる用例文を限定した．
続いて，述語が一致した用例文からさらに内容語に注目して類似用例文を獲得する．
内容語の一致では先ほど述語に注目し類似用例文となりうる用例文の中から内容のより類似したものを獲得する．
この段階で行う操作を図[REF_図:類似用例2]に示す．
本論文で注目している内容語とは助詞，助動詞，記号以外の形態素であり，数字は[MATH]として汎化してある．
ここで機能語は用いず内容語のみに限定した理由は機能語の役割が文法的な意味を付け加えるだけで内容自体を含むものではないためである．
また内容語の中でもより注目すべき語とそうではない語がある．
まずは連体修飾部に含まれる内容語は注目すべきではない語である．
以下に図[REF_図:連体修飾]を示して連体修飾部について考えを示す．
図[REF_図:連体修飾]では「家電メーカの」という連体修飾部が「松下電器産業は、」という文節に係っている．
しかしこの連体修飾部は記事の内容を直接表しているのではなく，被修飾部である松下電器産業のみと関係を持っている．
そのため入力ニュース記事の連体修飾部の内容語は類似用例文の検索時には使用しない．
用例文の連体修飾部も同様に使用するべきではないが，文がもともと短いため削除すると検索される情報が減りすぎてしまう．
そのため連体修飾部の単語を使用しない制約は入力ニュース記事のみに限る．
図[REF_図:連体修飾2]に連体修飾部の判断方法を示す．
連体修飾部の判断ではまず構文解析を行った結果を文末から参照していく．
そして以下の条件に\ul{当てはまらない文節}（体言）を被連体修飾部として特定し，その被連体修飾部の文節に係る部分を再帰的に参照し，連体修飾部とする．
この連体修飾部に含まれる内容語は類似用例文の選択では用いない．
動詞--自立を含む文節
形容詞--自立を含む文節
名詞--サ変接続+読点，または名詞--サ変接続+句点を含む文節
また複数の形態素から構成される複合名詞を形態素に分割して扱うと意味内容の異なる用例文が出力される恐れがある．
この例を例[REF_複合語]に示す．
\exp{複合語}複合語であることを考慮しない場合の出力例
〈入力ニュース記事1〉
{大手私鉄や地下鉄でもJRと同様に安全上、コインロッカーやごみ箱の使用をやめる動きが広がっている。
JR東日本では主要駅などで警備員を増員。
（以下省略）}
〈入力ニュース記事2〉
{ \ul{地下鉄サリン事件}から三年。
被害者と遺族ら計四十二人がオウム真理教の破産管財人に損害賠償の上積みを求めていた訴訟は二十五日、東京地裁で開かれた口頭弁論で和解が成立し、賠償額を約十一億千九百万円とすることで合意した。
（以下省略）}
〈用例文〉
{地下鉄サリン事件の実行犯のオウム真理教元幹部、北村被告に対する控訴審で東京高裁は無期懲役の一審判決支持し控訴棄却。
}
例[REF_複合語]の入力ニュース記事1では入力ニュース記事の内容語「地下鉄」が用例文と一致している．
しかし用例文で使用されている地下鉄は事件名の一部であり，入力で用いられている用法とは異なる．
このように複合語を形態素に分割すると本来注目すべきではない部分とも一致してしまう．
また例[REF_複合語]の入力ニュース記事2では用例文と「地下鉄」「サリン」「事件」という3形態素の一致がある．
しかしこの記事の内容は類似していない．
このように長い複合語があると記事の内容が似ていないのも関わらず局所的に一致してしまい類似していると判断してしまう可能性がある．
そのため名詞が連続して出現する場合は複合名詞として判断し，形態素で分割するのではなく1語として扱う，もしくは複合名詞の中心的意味を表す主辞のみを扱う必要がある．
提案法では汎用性を高めるため後者の主辞のみを扱うことにした．
また主辞が接尾辞である場合には直前の形態素も結合させている．
またその直前の形態素も接尾辞である場合（例[REF_syuzi]の2つ目の例），再帰的に接尾辞でない形態素までを結合した．
\exp{syuzi}複合名詞の主辞が接尾辞と判定された場合
製鉄\ul{所}→製鉄所
五人\ul{目}→人目→#人目
これにより以下の例に示すような入力ニュース記事にも例[REF_複合語]の用例文が類似していると判断できる．
この例は複合名詞全体が一致していないが複合名詞の主辞「事件」が一致している．
\exp{nolabel02}例[REF_複合語]の用例と似ている入力ニュース記事の例
〈入力ニュース記事〉
{衆院選で比例代表近畿ブロックで当選した自民党の野田実議員派の選挙違反\ul{事件}で、公選法違反の罪に問われた同議員の地元事務所職員、仲修平被告の上告審で、最高裁第一小法廷は七日までに、被告側の上告を棄却。
（以下省略）}
上記の方法により，得た内容語群を使用して入力ニュース記事と述語の一致している用例文とを比較する．
本論文では述語一致数により優先的に出力する類似用例文を選び，同数の述語一致数の中でも用例文の内容語数に対する入力の内容語一致率が高いものをより優先的に類似用例文として出力する．
述語では一致数，内容語では一致率に注目している．
この理由は述語を多く含む用例文を選ぶことにより多くの情報を圧縮でき，さらに内容語一致率の高い用例文を選ぶことで後で行う対応付けがしやすい類似用例文を得ることが可能となる．
以下，例[REF_例:類似用例出力]に得られた類似用例文の例を示す．
\exp{例:類似用例出力}類似用例文の出力例
〈入力ニュース記事〉
{山梨県がまとめた九七年十二月の甲府市消費者物価指数は一〇一・五で前月に比べ〇・三％下落した。
冬物衣料やゴルフプレー料が値下がりした。
前年同月比では一・二％の上昇。
気候要因による値動きが激しい生鮮食品を除いた総合指数は一〇二・三で、前月比では〇・五％下落、前年同月比は一・九％上昇した。
前年同月比では、医療保険制度の改革に伴う医療費本人負担の増加で保健医療が一二・四％の上昇。
被服・履物、光熱・水道なども上昇した。
住居家具・家事用品は家賃の値下げなどで低下した。
}
〈得られた類似用例文（文頭の数字は順位）〉
6月の国内企業物価指数は100.5と前月比では0.1％下落、前年同月比3.3％上昇した。
9月の企業向けサービス価格は、前月比0.1％上昇、前年同月比では0.5％下落。
7月の国内企業物価指数は、前月比で0.3％上昇、前年同月比0.7％下落した。
日銀が26日発表した10月の企業向けサービス価格指数は、前月比0.2％上昇、前年同月比では1.2％下落した。
米国のガソリン小売価格が高騰、2月中旬に比べて24％上昇。
本章では[REF_章:類似用例文の選択]章で得られた類似用例文と入力ニュース記事とを比較し，両者の文節で類似したものを対応付ける方法を述べる．
まず対応付けを行う単位である文節を説明する．
続いて対応付けに用いた3つの尺度である助詞の一致，固有表現タグの一致，そして単語間類似度を述べる．
類似用例文と入力ニュース記事の対応付けで用いることができる単位としては，形態素や文節がある．
しかし形態素では単位が小さく対応付けられない語が出現しやすい．
以下の例を用いて説明する．
\exp{例:形態素対応付け}形態素単位では対応付けられない文の例
〈入力ニュース記事1〉
{愛知県半田市などで二十二日から二十七日にかけて、自動販売機から、変造した韓国の\ul{五百ウォン硬貨}が見つかった。
（以下省略）}
〈類似用例文1〉
{東京都千代田区で偽造された\ul{千円札}が見つかる。
}
…………………………………………………………………………………………………………
〈入力ニュース記事2〉
{ウィンが十一月十日、\ul{大阪証券取引所第二部}に株式を上場する。
（以下省略）}
〈類似用例文2〉
{幻冬舎は来年1月にも、\ul{ジャスダック市場}に株式を上場する。
}
例[REF_例:形態素対応付け]における類似用例文の「五/百/ウォン/硬貨/」と入力の「千/円/札/」は類似しており，対応付けの候補となる．
しかし「五/百/」という2形態素に対して「千/」は1形態素であるため対応が取れない．
また2つ目の例では類似用例文の「ジャスダック/市場/」と「大阪/証券/取引/所/第/二/部/」という部分が類似しているが，2形態素に対して7形態素を対応付けなくてはならず，形態素の単位では対応がとれない．
これに対して文節を用いれば「五百ウォン硬貨が」と「千円札が」が，「ジャスダック市場に」と「大阪証券取引所第二部に」が対応付けすることができ，対応付けの難しさは軽減される．
そのため提案法では対応付けを行う単位として文節を考慮する．
しかし対応付けを行う単位が文節であっても明らかに対応付けが不可能な例が存在する．
以下に例を示して説明を行う．
\exp{例:文節対応付けA}文節単位でも対応付けられない文の例
〈入力ニュース記事1〉
{ \ul{ソニーは}二十五日、有機ELディスプレー技術を開発したと発表。
（以下省略）}
〈類似用例文1〉
{ \setnami\uc{米有力総合病院の}\ul{メイヨー・クリニックは}炭疽菌の高性能検出技術を開発し、今秋にも発売を開始する。
}
…………………………………………………………………………………………………………
〈入力ニュース記事2〉
{富士商は二十日、平生町に\setnami\uc{県内最大規模の書籍販売とAVレンタルの} \ul{複合店アップルクラブ平生店を}オープンした。
（以下省略）}
〈類似用例文2〉
{ JR秋葉原駅前で9日、\setnami\uc{地上22階建ての}\ul{複合ビル秋葉原UDXが}オープン。
}
例[REF_例:文節対応付けA]における用例文の「メイヨー・クリニックは」と入力の「ソニーは」という類似しており，対応付けの候補となる．
しかし類似用例文の「米有力病院の」という連体修飾部の文節に対応した文節は入力には存在せず対応が取れない．
また2つ目の例における類似用例文「複合ビル秋葉原UDXが」と入力の「複合店アップルクラブ平生店を」という文節は類似している．
しかし連体修飾部である「地上｜\kern-0.25zw[MATH] 22階建ての｜」に対して「県内最大規模の｜書籍販売と｜AVレンタルの｜」という文節は文節数が異なるため対応付けすることができない．
このように連体修飾部は被修飾語によって内容や長さが異なる．
よって被修飾語が異なる場合はそれに係る連体修飾部を対応付けることが困難である．
そのため提案法では連体修飾部が存在する文節に対しては，対応付けの単位としてその連体修飾部と被修飾部を結合した文節を用いた．
また連体修飾部は[REF_節:内容語の一致]節と同様の方法で判断している．
なお連体修飾部が文の内容の本筋ではないため，文節が対応付けられるか比較する際は被修飾部同士による比較を行う．
以下に例[REF_例:文節対応付けB]の2つ目の例を用いて対応付けを行う際に使用する文節を具体的に示す．
\exp{例:文節対応付けB}対応付けに用いる文節の例
〈入力ニュース記事〉
{富士商は二十日、平生町に県内最大規模の書籍販売とAVレンタルの複合店アップルクラブ平生店をオープンした。
（以下省略）}
〈入力ニュース記事から作成した文節〉
{富士商は
二十日、
平生町に
県内最大規模の[MATH]書籍販売と[MATH]AVレンタルの[MATH]複合店アップルクラブ平生店を
オープンした。
}
〈類似用例文〉
{ JR秋葉原駅前で9日、地上22階建ての複合ビル秋葉原UDXがオープン。
}
〈類似用例文から作成した文節〉
{ JR秋葉原駅前で
9日、
地上22階建ての[MATH]複合ビル秋葉原UDXが
オープン。
}
本論文では[REF_節:対応付けの単位]節で説明した文節を対応付けの単位とし，類似用例文の文節に対して類似している入力ニュース記事の文節複数個を対応付ける．
なお，対応付けを行う際は文節内に含まれる語をすべて基本形に変更した形で行う．
対応付けは助詞の一致，固有表現タグの一致，そして単語間類似度の3つの尺度を用いて行う．
提案法では類似用例文の文節1つに対して，類似している入力の文節を全て対応付ける．
つまり1文節に対して複数個の対応文節が得られる．
この時，3つの尺度を用いても対応文節が見つからない場合は，[REF_章:類似用例文の選択]章の類似用例文の選択で次に内容の似ていると判断された類似用例文を使用して再度対応付けを行う．
図[REF_図:対応付け例]を用いて以下にそれぞれの尺度について述べる．
本論文では類似用例文と入力の文節末尾にある助詞が一致した場合，それらの文節を対応付ける．
日本語では助詞をみることで概ね主語や目的語などを判断することができる．
そのため助詞が一致した文節は同じような使われ方をしているため，文節の対応付ける尺度の1つとして用いた．
助詞の一致を測る際には文節が複数の文節で構成されている場合（連体修飾部と被修飾語の文節）は1番末尾の文節，1文節で構成されている場合はその文節から助詞を取り出す．
そして入力と類似用例文のその助詞を比較し，一致した場合文節を対応付ける．
但し例[REF_例:格助詞相当句]のように複数の助詞が連接して出てくる場合，その助詞は格助詞相当句として連結した形で用いる．
\exp{例:格助詞相当句}格助詞相当句となる助詞の一例
〈では〉
{で（助詞--格助詞--一般）、は（助詞--係助詞）として出現→格助詞相当句「では」として連結して用いる}
〈には〉
{に（助詞--格助詞--一般）、は（助詞--係助詞）として出現→格助詞相当句「には」として連結して用いる}
係助詞「は」や「も」，格助詞「が」は主語となる文節に対して付与されている助詞である．
そのため，この3つの助詞に対しては同一視する．
図[REF_図:対応付け例]の類似用例文の文節「NTTが」に対して，入力の文節「東芝は」「同社は」が対応付けられているのはこのためである．
また助詞の一致で対応付ける文節は入力と類似用例文の文節で主辞が同じ品詞のグループに属するもののみとした．
これは助詞が一致したとしても文節内容が明らかに類似していない場合に対応付けを行わないようにするためである．
品詞のグループは各文節末尾の文節内に含まれている主辞の品詞を参照し表[REF_表:品詞グループ]に従う．
よって助詞の一致で対応付けられる文節は助詞が一致しており，さらに品詞のグループが同じものである．
固有表現とは人名，地名，組織名などの固有名詞の他，日付や金額などの数値表現などのまとまりを示す．
提案法では構文解析器CaboChaの出力に従って固有表現タグが一致した文節を対応付ける．
この固有表現タグが一致する文節は固有表現のまとまりが同じであることを意味し，類似した文節である．
対応付けの際に参照する部分は助詞の一致の場合と同様，複数の文節から構成される文節は末尾の文節，1文節で構成されている文節ならばその文節である．
その文節の主辞の固有表現タグが類似用例文と入力で一致した場合に対応付けを行う．
CaboChaが持つ固有表現タグは9つである．
なお本論文では`DATE'タグと`TIME'タグは同じ時間表現を表しているタグであると判断し，同一視する．
また類似用例文の文節に固有表現タグ`DATE'もしくは`TIME'があるにも関わらず，入力の文節にそのようなタグが無かった場合は空情報``[MATH]''を入れる．
これは`DATE'及び`TIME'タグの表現に限り，空であっても文の内容には大きく関係せず，次のステップである文節の組合せで日本語やその内容としても正しい要約文が作成できると考えたためである．
よって空情報``[MATH]''があるだけでは[REF_章:類似用例文の選択]章に戻って次に内容の似た類似用例文を選ぶことはしない．
図[REF_図:対応付け例]では類似用例文の文節「NTTが」に対して入力の文節「東芝は」が組織名を表す`ORGANIZATION'タグが一致したため対応付けられている．
また類似用例文の「今秋にも」と入力の「来年六月に」は日付表現`DATE'タグが一致したため対応付けられたものである．
単語間の類似度では上述の2つの尺度と同様，文節末尾の文節を比較する．
提案法では特に文節内の主辞同士の類似に注目して対応付けを行った．
対応付けには[REF_節:類似単語データベース]節で説明した類似単語データベースを用いた．
類似用例文と入力における文節末尾の文節内の主辞同士を比較し，その2語が類似単語データベースに含まれている場合はその文節を対応付けている．
またこの対応付けでも助詞の一致と同様に品詞のグループによる制限を設けた．
つまり単語間の類似度では文節内の主辞を比較して類似単語データベースに含まれ，さらに主辞の品詞が表[REF_表:品詞グループ]で同じグループに属するときにそれらの文節を対応付ける．
[REF_章:文節の対応付け]章の文節の対応付けでは，類似用例文の文節1つに対して入力の複数個の文節が対応付けられた．
本章ではその得られた対応文節を組み合せることによって要約文を作成する方法を述べる．
用例利用型の要約では出力される要約文が類似用例文の文節により似たもので構成され，かつ日本語として連接のよいものが理想である．
したがって提案法では要約文を得る操作を類似用例文の文節に対して得られる類似度を最大に，かつ日本語としてできるだけ自然な文節列を取り出す組合せ最適化問題として定式化し，これを動的計画法によって解く．
また[REF_章:文節の対応付け]章の対応付けや本章の組合せは全ての語を基本形にして扱っている．
そのため提案法では組合せを行うことによって出力された文に対し，規則を用いて類似用例文の形と同じ形になるよう変更した．
前章で得られた類似用例文に対する対応文節を組合せて要約文を作成する．
組合わせの方法を図[REF_図:組合せ]を用いて説明する．
図[REF_図:組合せ]のノード[MATH]は類似用例文の文節[MATH]に対して[REF_章:文節の対応付け]章で得られた入力の対応文節を指す．
また同様にノード[MATH]は類似用例文の文節[MATH]に対して得られた入力の文節である．
[REF_章:文節の対応付け]章の対応付けでは類似用例文の文節1つに対して類似していると判断した入力の文節複数個を対応付けているため図[REF_図:組合せ]では[MATH]となる．
なお組合せの際には初期状態と最終状態を明確にするため文頭記号[MATH]と文末[MATH]を挿入する．
ここでノード[MATH]に対してのスコア[MATH]として類似用例文の文節にどれだけ類似しているかを与え，エッジのスコア[MATH]としてフレーズ間の繋がりの良さを与える．
これにより本章の目的である，類似用例文の文節により似たもので構成され，かつ日本語として連接の良い部分文節列を得るためにはこのノードとエッジのスコアの総和を最大にするような経路を求める問題に帰着できる．
さらに図[REF_図:組合せ]では文頭から文末に向かう全ての組合せを2次元空間に示したものであり，探索領域は限られている．
そのためこの問題は動的計画法で解くことができる．
続いて式を用いて具体的にどのような問題を解くのかを考える．
経路列[MATH]に対し，以下のスコアを最大にするような経路を求める問題を考える．
このとき最適経路列[MATH]は以下で与えられる．
またスコア[MATH]を次式で表す．
{
} [MATH]は類似用例文の文節の最終番号を表す．
以下にノード重みを定義する．
式[REF_nodescore]の[MATH]は以下の式で表される．
また[MATH]は各スコアに対するバランスパラメータである．
\mathit{particle}(n_i) & =
1 & \text{ノード[MATH]が助詞の一致で対応付けされた場合}
0 & \text{それ以外}
\mathit{NEtag}(n_i) & =
1 & \text{ノード[MATH]が固有表現タグの一致で対応付けされた場合}
0 & \text{それ以外}
\mathit{MI}(n_i) & =
\mathit{sim}(n_i, ph) & \text{ノード[MATH]が単語間の類似度で対応付けされた場合}
0 & \text{それ以外}
式([REF_sim])内の[MATH]は類似用例文のある文節を示し，[MATH]は類似用例文の文節[MATH]と[REF_章:文節の対応付け]章で対応付けられた入力の文節との類似度を正規化した数値である．
この数値は[REF_節:類似単語データベース]節での類似単語データベースの作成時であらかじめ計算してあるものを使用した．
次にエッジ重みを以下に定義する．
エッジスコアは文節間の繋がりの良さを示す．
本論文では様々な文の文節を組み合せることにより文を作成するが，1文目→5文目→2文目→10文目の様に1つ1つの文節があまりにも様々な文を跨いで組み合わさるようなものは多くの話題が混在することとなり，連接も悪くなる．
そのため式([REF_edge])では対応付けられた文節が存在する入力の文の位置[MATH]を考慮した．
[MATH]はノードつまり対応文節[MATH]が入力したニュース記事の何文目に存在しているかという情報である．
連接する文節[MATH]がどれだけ離れているかを[MATH]の差の絶対値を取ることで測っている．
このとき文節が文頭に向かって（4文目→2文目のように）戻る場合は話題が戻ることとなり，連接をより悪くしてしまう可能性があるため，このような場合にはスコア0を与えている．
以上の方法により，類似用例文の文節に似ており，さらに日本語の連接としてより正しい文が作成される．
しかし提案法の文節の対応付けでは図[REF_図:対応付け例]のように入力中の同じ文節「…ヘリカルCTを」が類似用例文の文節複数「…ネット技術を」，「サービスを」に似ていると判断される場合が存在する．
この時文節の組合せを行うと1文中に同じ文節が複数個出現してしまう恐れがある．
要約文1文中に全く同じ文節が2回以上出現する文は不自然で冗長である．
そのため提案法では，組合せによって得られた文に同じ文節が2つ以上存在した場合，組合せによって得られた全体のスコアが次に高かった組合せ結果を採用する．
本論文では複数の組合せ解を効率的に得るために永田の後向き[MATH]アルゴリズム[CITE]を用いた．
\makeatletter  \makeatother
対応文節の組合せを最適化問題として解いて得られた文は以下の例に示すように基本形の文節で，さらに句点など入力ニュースで用いられていたそのままの形で表されている．
\exp{例:組合せ結果}対応文節の組合せで得られた組合せの例
〈入力ニュース記事〉
{中国地域ニュービジネス協議会は、｜\kern-0.25zw[MATH]財務や営業、技術、マーケティングの分野で助言するシニアアドバイザーを｜募集した。
｜ベンチャー企業から｜財務や営業面で弱点補強の要請が｜あれば、｜アドバイザーとして｜派遣する。
（以下省略）}
〈類似用例文〉
{産業再生機構は｜リストラ特命隊を｜募集し、｜カネボウ化粧品へ｜派遣。
｜}
〈対応文節の組合せ結果〉
{中国地域ニュービジネス協議会は、｜財務や営業、技術、マーケティングの分野で助言するシニアアドバイザーを｜募集するた。
｜ベンチャー企業から｜派遣する。
｜}
そのため本節では得られた組合せ結果を類似用例文の形に倣い変更する．
例[REF_例:組合せ結果]を類似用例文の形へと合わせると以下のような文が得られる．
\exp{nolabel03}例[REF_例:組合せ結果])で得られた組合せ結果を類似用例文の形へと変更
中国地域ニュービジネス協議会は、財務や営業、技術、マーケティングの分野で助言するシニアアドバイザーを募集し、ベンチャー企業へ派遣。
以下に類似用例文の形へと合わせるための規則を示す．
この規則は対応文節末尾の文節に対して行うものである．
類似用例文の文節が文末の場合
\ul{対応文節も文末である場合}
対応する入力の文節も文末で活用語がある場合，それらの語を入力ニュース記事の元の活用へ変更する．
述べるた。
→述べた。
但し対応文節が「サ変名詞+する」である場合，冗長な表現であるため文末整形も兼ね「する」を削除する．
派遣する。
→派遣。
\ul{対応文節が文末以外の場合}
対応する入力の文節が文末以外で活用語がある場合，それらの語は基本形のままにする．
この時対応文節の助詞は削除する．
述べるて、（述べて、）→述べる。
但し対応する入力の文節が過去形を表す助動詞「た」を含む場合，時制を変えないようにするため，入力ニュース記事の元の活用へ変更する．
述べるたと、（元の形は「述べたと、」）→述べた。
類似用例文の文節が文末以外の場合
\ul{対応文節が文末である場合}
対応する入力の文節が文末で活用語がある場合，それらの語を類似用例文の文節の活用に合わせる．
この時対応文節に類似用例文のフレーズに含まれる助詞を付加する．
類似用例文の文節：発表して
述べる。
→述べて
但し対応する入力の文節が過去形を表す助動詞「た」を含み，さらに類似用例文の文節にも「た」を含む場合，時制を変えないようにするため，入力ニュース記事の元の活用へ変更する．
この時対応文節に類似用例文の文節に含まれる助詞を付加する．
類似用例文の文節：発表したと
述べるた。
（元の形は「述べた。
」）→述べたと
\ul{対応文節が文末以外である場合}
対応する入力の文節も文末以外で活用語がある場合，それらの語を類似用例文の文節の活用に合わせる．
この時対応文節に類似用例文の文節に含まれる助詞を付加する．
類似用例文の文節：発表して
述べる、（元の形は「述べ、」）→述べて
但し対応する入力の文節が過去形を表す助動詞「た」を含み，さらに類似用例文の文節にも「た」を含む場合，時制を変えないようにするため，入力ニュース記事の元の活用へ変更する．
この時対応文節に類似用例文の文節に含まれる助詞を付加する．
類似用例文の文節：発表したと
述べるたと（元の形は「述べたと」）→述べたと
なお文節内の連体修飾部の文節に対しては例[REF_例:連体修飾部の活用]に示すように全て入力ニュース記事の元の活用へと変更した．
\exp{例:連体修飾部の活用}連体修飾部に対する変更の処理
〈入力ニュース記事〉
小泉首相は、｜\ul{○○を事前に公表した}ことを｜受け、｜…。
｜（以下省略）
〈類似用例文〉
政府は、｜××したものを｜…。
｜
〈対応文節の組合せ結果〉
小泉首相は、｜\ul{○○を事前に公表}\setnami\uc{する}\ul{た}ことを｜…。
｜
〈連体修飾部は活用を元の記事に合わせる〉
小泉首相は、｜\ul{○○を事前に公表}\setnami\uc{し}\ul{た}ことを｜…。
｜
これらの規則により組合せで得られた文を類似用例文の形へと合わせた．
用例利用型のアプローチ(example-based approach)とは事例を模倣して要約や翻訳など言語を作成することであり，アナロジーに基づく翻訳手法としてNagao [CITE]によって提唱された．
Nagaoは人間が第二言語を学ぶ際の学習過程に注目し，機械もその人間の学習過程を真似れば翻訳ができるのではないかと提案した．
人間が言語を習得する際にはまずは基本的で単純な文や文節を学習し，さらに学習を進める際には今までに学習した事例の中から類似した文や文節を模倣利用して組合せたり語句を置き換えたりすることによって新しく文を作成している．
機械も同様に今までに収集した事例を真似ることで文が作れるのではないかという考えである．
機械翻訳の分野では用例利用型の翻訳が実装され，これまでに良好な結果を得ている[CITE]．
これらの既存研究では原言語（日本語）と目的言語（英語）のパラレルコーパスを用例として使用している．
そして用例がどのように翻訳が行われているか参照し，その対を利用することで翻訳を行っている．
さらに換言処理の分野でも用例利用の考え方が用いられている．
大竹[CITE]は同一言語内における翻訳と捉え被換言表現と換言表現の対を用例として利用している．
そして入力となる被換言表現と類似した用例の被換言表現側を検索しそれと対となっている換言表現を模倣して換言を行っており，良好な結果を得ている．
このように用例利用型のアプローチは翻訳や換言で用いられており，良好な結果が得られている．
人間が要約を行う際にはコツがあるという．
それは対象物を読んでどのような文や文節が要旨として必要なのか判断し，より短い表現に置き換えることである．
その要旨判断の元となっているのは要約とはどういうものなのか，どういう傾向で作成すれば良いのか等の今までの要約事例を元にした知識や経験である．
図[REF_人間が考える要約]に人間が行う要約方法の例を示す．
図[REF_人間が考える要約]では人間が要約の対象となる文章を読んで，この記事は「監査に乗り出す」という内容の記事だと認識する．
また「監査」と「捜査」が似ている単語であるという知識も持っている．
そして人間は監査や捜査という内容の記事がどのような傾向で要約されるのかという経験も用いて，要約文を作成する．
つまり人間が行う要約過程も前節で述べた人間が第二言語を学習する際の翻訳する過程と似ており，経験，事例を利用していることが分かる．
そこで本論文では機械も人間の要約する過程を真似れば自動要約ができるのではないかと考え，用例利用型の要約を行う．
用例利用型のアプローチを自動要約に用いることの利点は以下である．
保守が容易である
システムを構築する際には一般的に管理，保守の容易性が求められる．
用例利用型のアプローチでは使用する状況に応じて用例を変更，または加えることだけで容易に改良ができるため，管理や保守が容易に行うことができる．
なお追加した用例が他の用例に副作用を及ぼすことがない．
これに対して，人手で要約規則を作成する規則利用の要約は修正や保守に高いコストがかかる．
また，修正するための規則が他の規則と競合してしまうことや人手による作成がゆえ，要約する際に必要な規則が欠ける等の問題も起こってしまう．
重要度の設定が不要
これまでに行われてきた重要文抽出や文圧縮の研究の多くは頻度情報や位置情報，タイトル情報などを用いて語や文節に対して重要度を計算していた．
しかしながら人間はさまざまな情報を考慮して要点を判断しているため，その要点と相関のあるような重要度を設定することは難しい．
これに対して用例利用型要約では重要度の計算を必要としない．
その代わりに2つの表現間の類似度を用いるのである．
本論文ではある表現に対して計算する重要度よりも2つの表現間対して計算する類似度の方が容易であると考える．
入力の内容により適した出力が得られる
統計的な要約手法は一般的に要約文のコーパスに含まれる単語に対して確率を計算する[CITE]．
統計的なアプローチではより大局的な確率に注目するため入力の内容により適した出力を得ることが難しい．
しかしながら用例利用型要約では用例の中から類似した用例を見つけ，その用例に従って要約を行うため入力によりふさわしい出力が得られる．
本章では用例利用型の要約である提案法の概要を示す．
まず本論文で使用する用例を紹介し，その後提案システムの全体の流れを説明する．
最後に，用例を用いた要約の既存手法を取り上げ，本手法との違いを述べる．
本論文の用例利用型要約では用例として，日経ニュースメールNikkei-goo\toolref{言語資源:nikkei-goo}から配信されている速報ニュースを使用した．
この速報ニュースは月曜日から金曜日までの週に5日，1日3回のメールによって配信されており，以下のようなものである．
\exp{例:日経メール}日経ニュースメールNikkei-gooで配信されているメールの例
\ul{記事のタイトル}
{九州新幹線長崎ルート、JR九州が並行在来線の運行継続}
\ul{本文}
{九州新幹線長崎ルート問題で、並行する在来線の運行をJR九州が続けることに。
沿線市町村の反対根拠が消え着工へ前進。
}
…………………………………………………………………………………………………………
\ul{記事のタイトル}
{素材各社、高機能品を中国で生産}
\ul{本文}
{素材各社が中国で高機能素材を生産へ。
三井化学など車などに使う高機能樹脂工場を建設。
中国素材市場の需要急伸に対応。
}
例[REF_例:日経メール]のように配信されているニュースは記事のタイトル及び本文（1文から3文）から構成されておりニュース記事の要点を短くまとめたものである．
しかし2文目以降の文は1文目の付加情報であることが多いため，本論文では用例文として利用する対象を本文の1文目に限定した．
またシステムで使用する構文解析器での誤りや解析の揺れを最小限に抑えるため，この速報ニュースには前処理を施してから用例データベースに格納している．
この前処理は[REF_章:類似用例文の選択]章で述べる．
提案法の要約システムは大きく分けて3つのステップから構成される．
入力は複数の文を持つ文書または1文のみの文書であり，これを用例に従い1文に要約する．
用例には前節で述べた速報ニュースを用いている．
図[REF_提案システムの流れ図]を用いてシステムの流れを説明する．
まずStep1では入力となるニュース記事（複数文）を受け取り，用例の集合の中から内容の類似した類似用例文を検索する．
続いてStep2で先程選ばれた類似用例文と入力ニュース記事の文節を比較する．
類似用例文の文節1つに対して類似していると判断された入力の文節が全て対応候補として選択される．
また類似用例文の文節に対して，対応する入力の文節が1つも無い場合はその類似用例文を使用せず，次に検索された類似用例文を使って対応付けを行う．
そしてStep3では選択された対応候補を使用し，用例により類似した文節で日本語として繋がりの良い組合せを探索する．
このステップによって出力の要約文が得られる．
用例に基づいた言語生成の研究は主に機械翻訳または換言で実装されているが，要約の分野ではNguyenら[CITE]以外に前例はない．
Nguyenら[CITE]は用例利用型の要約として，1文を入力としてそれを圧縮する手法を提案している．
この要約手法は用例として原文と要約文の対から作成したテンプレート規則を使用している．
またこのテンプレートの他にも換言規則(lexical rule)も作成している．
これは例えば，The documentをDocumentに，Two companiesをCompaniesに換言するものである．
そして入力として``The document is very good and includes a tutorial to get you starte.''という文が入ってきたときに，``Document is very good.''と文圧縮されるシステムである．
これに対し，提案法のシステムでは人間が作成するような要約文により近づけるため入力の単位を複数文（ニュース1記事）として文節を組合せることにより1文に要約する．
つまり文圧縮とは異なる．
そのため文字の削除率は必然的に高くなり，Nguyenらよりも本論文で取り組む問題はさらに困難である．
また本論文では人手で作成された要約文のみを用例として用いているため原文との対応を取る必要がない．
そのため容易に用例を収集することができ，原文と要約文の対応コーパスが少ない特許や医学文書の分野でも効果的に要約が作成できる．
本章ではニュース1記事を入力として受け取り，その記事の内容に類似した用例「類似用例文」の選択方法を述べる．
この類似用例文は入力ニュース記事が要約文を作成する際に模倣利用するものである．
類似用例文を選ぶ際には解析誤り等を防ぐためまず初めに入力に対して文の整形を施す．
これは用例として使用している速報ニュースに対して施した文の整形と同様の方法であり，本章で説明する．
続いて類似用例文の選択や[REF_章:文節の対応付け]章で用いる類似単語データベースについて説明し，最後に類似用例文の選択での中心部分を述べる．
類似用例文の選択を行う前に，前処理として文の整形を行う．
これは構文解析を行う際に解析ミスや解析の揺れが出てしまうのを未然に防ぐために行うものである．
解析ミスや解析の揺れは[REF_節:類似用例文の選択]節で行う類似用例文の選択で不当な類似スコアを与えてしまうことに繋がってしまうためできるだけ抑えなくてはいけない．
整形を施す部分は括弧の部分であり，これらについては括弧及びその中の情報を削除するまたは括弧のみを削除する操作を行っている．
この整形は入力されるニュース記事に対して，また用例データベースを作成する際の用例にあらかじめ施すものである．
用例文や入力のニュース記事に含まれる括弧には丸括弧（）やカギ括弧「」がある．
丸括弧では直前にくる語に関する年齢，地名，代表者名，補足情報，換言であり，このような役割である丸括弧の情報は削除してもニュースの内容は変わらない．
そのため丸括弧については括弧及びその括弧内に含まれている語を削除する操作を行う．
続いて，カギ括弧の整形について述べる．
カギ括弧の役割としては引用や強調があるが，入力記事や用例文には同じような使われ方であるにも関わらず，カギ括弧が付いている場合とそうでない場合がある．
またカギ括弧の有無だけで構文解析の結果が異なってしまうことがあるため，これを防ぐには引用部分がある場合には全てカギ括弧を付ける，もしくは全てカギ括弧を削除するどちらかをしなくてはならない．
しかしカギ括弧の付いていないものに対して範囲を指定し括弧を付加することは意味解析など様々な技術を用いても確実にできるものは少ないため後者のカギ括弧を削除する操作を行った．
類似単語データベースは使われ方の似た単語を類似したものとして格納したものである．
この場合の使われ方が似ているとは同じ語と係り受け関係を持ちやすいことを意味する．
例えば例[REF_類似単語DB]に示すように「参入」と「進出」は同じ係り受け関係を持ちやすい．
このような語を似ていると判断し，データベースに格納する．
\exp{類似単語DB}使われ方の似た単語
参入を予定—進出を予定
参入を発表—進出を発表
この類似度を測る際にはLin [CITE]の相互情報量を用いた類似度を日本語に対応できるように改良して単語間の類似度計算を行った．
Linはテキストコーパスから係り受け関係にある2文節とその文法関係に対して``(have, SUBJ, I)''のように3つ組([MATH])を作成している．
3つ組には以下の式で与えられる相互情報量も付加している．
この相互情報量は係り受け関係の繋がりの強さを意味する．
上式の[MATH]は任意の単語であり，[MATH]は出現頻度を表す．
例えば[MATH]ならば文法関係が[MATH]である3つ組の出現頻度を表す．
さらに単語[MATH]と単語[MATH]の類似度を算出するために以下の式を用いて計算を行っている．
式([REF_simMI])における[MATH]は式([REF_IM])の[MATH]が正となるような[MATH]の集合を表す．
この類似度によって同じ係り受け関係を持ちやすいような単語が類似していると判断できる．
本論文ではあらかじめ日本経済新聞コーパス1990--2004年\toolref{言語資源:日経}を使用し，類似単語データベースを作成した．
類似用例データベースには単語[MATH]と類似度が高かった上位10%の類似した単語[MATH]を格納している．
また相互情報量を計算する3つ組([MATH])を日本語に対応できるよう，係り受け関係にある2文節の各々の主辞([MATH])と係り元文節に含まれる機能語[MATH]へと改良した．
この例を図[REF_図:3つ組]に示す．
続いて，類似単語データベースの一例を以下に示す．
例の括弧内の数値の1つ目は類似度を示す．
2つ目はその類似度をある単語（例中の「事務所」）と類似している単語（例中の「支店，室，センター」など）の中で最も高かった類似度で正規化したものである．
\exp{nolabel01}類似単語データベースの一例
\ul{事務所}
{支店(0.22606 : 1.00000)、室(0.22601 : 0.99977)、センター(0.21635 : 0.95705)、所(0.21327 : 0.94342)、局(0.20754 : 0.91807) }
\ul{値上げ}
{引き上げ(0.24755 : 1.00000)、値下げ(0.22883 : 0.92438)、引き下げ(0.22575 : 0.91194)、削減(0.21192 : 0.85606)、増産(0.20626 : 0.83321) }
\ul{再建}
{解決(0.20423 : 1.00000)、復興(0.19219 : 0.94104)、構築(0.19162 : 0.93826)、実現(0.18707 : 0.91598)、開拓(0.17891 : 0.87602) }
\ul{スポーツ}
{サッカー(0.16291 : 1.00000)、ゴルフ(0.15383 : 0.94426)、ビジネス(0.14445 : 0.88668)、野球(0.14405 : 0.88423)、競技(0.14355 : 0.88116) }
\ul{描く}
{作る(0.13313 : 1.00000)、書く(0.13185 : 0.99039)、埋める(0.13058 : 0.98085)、つくる(0.12920 : 0.97048)、生かす(0.12774 : 0.95951) }
類似用例文の選択では入力ニュース記事と用例データベースに格納されている用例とを比較し，入力の内容や話題の類似した用例「類似用例文」を選択する．
提案法のシステムではこの選択された類似用例文を模倣利用して入力ニュース記事を要約する．
内容や話題の類似した文章には共通して出現する語が多い．
そのため提案法では入力ニュース記事に対して同じ語を多く含むような用例文を獲得する．
しかしどんな語でも共通して出現していればよいというわけではない．
文章の内容や話題を表すのに貢献する語が両者に共通して出現したときにはそれらの文章は類似していると言える．
よって類似用例文の選択では内容をより表している語に注目して比較を行わなくてはならない．
本論文では注目する語によって類似用例文の選択部分を2つの段階に分ける．
まずは述語に注目する．
述語は記事の骨子であるため内容を表す最も重要な語である．
そのため類似用例文として獲得する用例文を入力の述語を1つ以上含むものに限定する．
この段階で行う操作の流れを図[REF_図:類似用例1]に示す．
図[REF_図:類似用例1]の入力及び用例文の述語群の獲得をするための規則を説明する．
規則を適用する際は文節情報，品詞情報を使用するため入力ニュース記事が複数文であるときは1文単位に分割し各々の文に対して構文解析を行う．
用例文は全て1文であるのでそのまま構文解析を施す．
本論文では構文解析器CaboCha\toolref{ツール:cabocha}を用いた．
このツールには文節内の最も重要となる語である主辞や助詞などの機能語を判定する機能も含まれている．
続いて構文解析した結果を用いて作成した規則を適用する．
なお述語には活用を考慮せず，全て基本形を用いている．
述語を取り出す規則を以下に示す．
文末の1文節に含まれている主辞（例外処理(4)(5)も行う）
例）
決めた。
→決める
発表した。
→発表
動詞--自立+読点が含まれている文節の主辞（例外処理(4)も行う）
例）
決め、→決める
発表し、→発表
動詞--自立＋助詞--引用が含まれている文節の主辞（例外処理(4)(5)も行う）
例）
決めたと→決める
発表したと→発表
\uc{例外処理1}
動詞「する，ある，なる」が主辞と判定された場合，その直前の形態素がサ変名詞であればそのサ変名詞を述語とする．
直前の形態素がサ変名詞でなければ1つ前の文節を参照しその文節の主辞を述語とする．
（「する」は機能語的に使用されていることが多いため．
また「ある，なる」は文の内容を表すものとして情報は少ない．
そのためこれらの語は述語として用いず，他の語を述語とした．
）
例）
発表を｜\kern-0.25zwする。
→発表
発表する。
→発表
狙いが｜ある。
→狙い
先送りに｜なる。
→先送り
\uc{例外処理2}
「予定，計画，方針，方向，見込み，見通し」のいずれかが主辞と判定された場合，その直前の文節の主辞を述語とする．
（これらの表現は本来の意味よりも未来，推量などを表すムード[CITE]であることが多く，「だろう」などの助動詞として扱うこともできる．
そのためその語が持つ記事の内容を表す貢献度は低く，直前の形態素がサ変名詞または動詞であればその語を述語とした．
）
例）発表する｜予定。
→発表
本論文では以上の規則を用いて述語を取り出した．
続いて用例文の述語に対して使われ方の類似した単語を付加し，用例の述語群を拡張する．
これは述語群の一致をみるときに，完全に一致した述語でなくても使われ方が似ていれば，次節で述べる対応付けも可能であり，類似用例文として有用であるためである．
類似した単語は，あらかじめ作成しておいた類似単語データベースのその述語と類似した上位3単語とした．
この処理では上述した述語群の一致を使用して類似用例文となりうる用例文を限定した．
続いて，述語が一致した用例文からさらに内容語に注目して類似用例文を獲得する．
内容語の一致では先ほど述語に注目し類似用例文となりうる用例文の中から内容のより類似したものを獲得する．
この段階で行う操作を図[REF_図:類似用例2]に示す．
本論文で注目している内容語とは助詞，助動詞，記号以外の形態素であり，数字は[MATH]として汎化してある．
ここで機能語は用いず内容語のみに限定した理由は機能語の役割が文法的な意味を付け加えるだけで内容自体を含むものではないためである．
また内容語の中でもより注目すべき語とそうではない語がある．
まずは連体修飾部に含まれる内容語は注目すべきではない語である．
以下に図[REF_図:連体修飾]を示して連体修飾部について考えを示す．
図[REF_図:連体修飾]では「家電メーカの」という連体修飾部が「松下電器産業は、」という文節に係っている．
しかしこの連体修飾部は記事の内容を直接表しているのではなく，被修飾部である松下電器産業のみと関係を持っている．
そのため入力ニュース記事の連体修飾部の内容語は類似用例文の検索時には使用しない．
用例文の連体修飾部も同様に使用するべきではないが，文がもともと短いため削除すると検索される情報が減りすぎてしまう．
そのため連体修飾部の単語を使用しない制約は入力ニュース記事のみに限る．
図[REF_図:連体修飾2]に連体修飾部の判断方法を示す．
連体修飾部の判断ではまず構文解析を行った結果を文末から参照していく．
そして以下の条件に\ul{当てはまらない文節}（体言）を被連体修飾部として特定し，その被連体修飾部の文節に係る部分を再帰的に参照し，連体修飾部とする．
この連体修飾部に含まれる内容語は類似用例文の選択では用いない．
動詞--自立を含む文節
形容詞--自立を含む文節
名詞--サ変接続+読点，または名詞--サ変接続+句点を含む文節
また複数の形態素から構成される複合名詞を形態素に分割して扱うと意味内容の異なる用例文が出力される恐れがある．
この例を例[REF_複合語]に示す．
\exp{複合語}複合語であることを考慮しない場合の出力例
〈入力ニュース記事1〉
{大手私鉄や地下鉄でもJRと同様に安全上、コインロッカーやごみ箱の使用をやめる動きが広がっている。
JR東日本では主要駅などで警備員を増員。
（以下省略）}
〈入力ニュース記事2〉
{ \ul{地下鉄サリン事件}から三年。
被害者と遺族ら計四十二人がオウム真理教の破産管財人に損害賠償の上積みを求めていた訴訟は二十五日、東京地裁で開かれた口頭弁論で和解が成立し、賠償額を約十一億千九百万円とすることで合意した。
（以下省略）}
〈用例文〉
{地下鉄サリン事件の実行犯のオウム真理教元幹部、北村被告に対する控訴審で東京高裁は無期懲役の一審判決支持し控訴棄却。
}
例[REF_複合語]の入力ニュース記事1では入力ニュース記事の内容語「地下鉄」が用例文と一致している．
しかし用例文で使用されている地下鉄は事件名の一部であり，入力で用いられている用法とは異なる．
このように複合語を形態素に分割すると本来注目すべきではない部分とも一致してしまう．
また例[REF_複合語]の入力ニュース記事2では用例文と「地下鉄」「サリン」「事件」という3形態素の一致がある．
しかしこの記事の内容は類似していない．
このように長い複合語があると記事の内容が似ていないのも関わらず局所的に一致してしまい類似していると判断してしまう可能性がある．
そのため名詞が連続して出現する場合は複合名詞として判断し，形態素で分割するのではなく1語として扱う，もしくは複合名詞の中心的意味を表す主辞のみを扱う必要がある．
提案法では汎用性を高めるため後者の主辞のみを扱うことにした．
また主辞が接尾辞である場合には直前の形態素も結合させている．
またその直前の形態素も接尾辞である場合（例[REF_syuzi]の2つ目の例），再帰的に接尾辞でない形態素までを結合した．
\exp{syuzi}複合名詞の主辞が接尾辞と判定された場合
製鉄\ul{所}→製鉄所
五人\ul{目}→人目→#人目
これにより以下の例に示すような入力ニュース記事にも例[REF_複合語]の用例文が類似していると判断できる．
この例は複合名詞全体が一致していないが複合名詞の主辞「事件」が一致している．
\exp{nolabel02}例[REF_複合語]の用例と似ている入力ニュース記事の例
〈入力ニュース記事〉
{衆院選で比例代表近畿ブロックで当選した自民党の野田実議員派の選挙違反\ul{事件}で、公選法違反の罪に問われた同議員の地元事務所職員、仲修平被告の上告審で、最高裁第一小法廷は七日までに、被告側の上告を棄却。
（以下省略）}
上記の方法により，得た内容語群を使用して入力ニュース記事と述語の一致している用例文とを比較する．
本論文では述語一致数により優先的に出力する類似用例文を選び，同数の述語一致数の中でも用例文の内容語数に対する入力の内容語一致率が高いものをより優先的に類似用例文として出力する．
述語では一致数，内容語では一致率に注目している．
この理由は述語を多く含む用例文を選ぶことにより多くの情報を圧縮でき，さらに内容語一致率の高い用例文を選ぶことで後で行う対応付けがしやすい類似用例文を得ることが可能となる．
以下，例[REF_例:類似用例出力]に得られた類似用例文の例を示す．
\exp{例:類似用例出力}類似用例文の出力例
〈入力ニュース記事〉
{山梨県がまとめた九七年十二月の甲府市消費者物価指数は一〇一・五で前月に比べ〇・三％下落した。
冬物衣料やゴルフプレー料が値下がりした。
前年同月比では一・二％の上昇。
気候要因による値動きが激しい生鮮食品を除いた総合指数は一〇二・三で、前月比では〇・五％下落、前年同月比は一・九％上昇した。
前年同月比では、医療保険制度の改革に伴う医療費本人負担の増加で保健医療が一二・四％の上昇。
被服・履物、光熱・水道なども上昇した。
住居家具・家事用品は家賃の値下げなどで低下した。
}
〈得られた類似用例文（文頭の数字は順位）〉
6月の国内企業物価指数は100.5と前月比では0.1％下落、前年同月比3.3％上昇した。
9月の企業向けサービス価格は、前月比0.1％上昇、前年同月比では0.5％下落。
7月の国内企業物価指数は、前月比で0.3％上昇、前年同月比0.7％下落した。
日銀が26日発表した10月の企業向けサービス価格指数は、前月比0.2％上昇、前年同月比では1.2％下落した。
米国のガソリン小売価格が高騰、2月中旬に比べて24％上昇。
本章では[REF_章:類似用例文の選択]章で得られた類似用例文と入力ニュース記事とを比較し，両者の文節で類似したものを対応付ける方法を述べる．
まず対応付けを行う単位である文節を説明する．
続いて対応付けに用いた3つの尺度である助詞の一致，固有表現タグの一致，そして単語間類似度を述べる．
類似用例文と入力ニュース記事の対応付けで用いることができる単位としては，形態素や文節がある．
しかし形態素では単位が小さく対応付けられない語が出現しやすい．
以下の例を用いて説明する．
\exp{例:形態素対応付け}形態素単位では対応付けられない文の例
〈入力ニュース記事1〉
{愛知県半田市などで二十二日から二十七日にかけて、自動販売機から、変造した韓国の\ul{五百ウォン硬貨}が見つかった。
（以下省略）}
〈類似用例文1〉
{東京都千代田区で偽造された\ul{千円札}が見つかる。
}
…………………………………………………………………………………………………………
〈入力ニュース記事2〉
{ウィンが十一月十日、\ul{大阪証券取引所第二部}に株式を上場する。
（以下省略）}
〈類似用例文2〉
{幻冬舎は来年1月にも、\ul{ジャスダック市場}に株式を上場する。
}
例[REF_例:形態素対応付け]における類似用例文の「五/百/ウォン/硬貨/」と入力の「千/円/札/」は類似しており，対応付けの候補となる．
しかし「五/百/」という2形態素に対して「千/」は1形態素であるため対応が取れない．
また2つ目の例では類似用例文の「ジャスダック/市場/」と「大阪/証券/取引/所/第/二/部/」という部分が類似しているが，2形態素に対して7形態素を対応付けなくてはならず，形態素の単位では対応がとれない．
これに対して文節を用いれば「五百ウォン硬貨が」と「千円札が」が，「ジャスダック市場に」と「大阪証券取引所第二部に」が対応付けすることができ，対応付けの難しさは軽減される．
そのため提案法では対応付けを行う単位として文節を考慮する．
しかし対応付けを行う単位が文節であっても明らかに対応付けが不可能な例が存在する．
以下に例を示して説明を行う．
\exp{例:文節対応付けA}文節単位でも対応付けられない文の例
〈入力ニュース記事1〉
{ \ul{ソニーは}二十五日、有機ELディスプレー技術を開発したと発表。
（以下省略）}
〈類似用例文1〉
{ \setnami\uc{米有力総合病院の}\ul{メイヨー・クリニックは}炭疽菌の高性能検出技術を開発し、今秋にも発売を開始する。
}
…………………………………………………………………………………………………………
〈入力ニュース記事2〉
{富士商は二十日、平生町に\setnami\uc{県内最大規模の書籍販売とAVレンタルの} \ul{複合店アップルクラブ平生店を}オープンした。
（以下省略）}
〈類似用例文2〉
{ JR秋葉原駅前で9日、\setnami\uc{地上22階建ての}\ul{複合ビル秋葉原UDXが}オープン。
}
例[REF_例:文節対応付けA]における用例文の「メイヨー・クリニックは」と入力の「ソニーは」という類似しており，対応付けの候補となる．
しかし類似用例文の「米有力病院の」という連体修飾部の文節に対応した文節は入力には存在せず対応が取れない．
また2つ目の例における類似用例文「複合ビル秋葉原UDXが」と入力の「複合店アップルクラブ平生店を」という文節は類似している．
しかし連体修飾部である「地上｜\kern-0.25zw[MATH] 22階建ての｜」に対して「県内最大規模の｜書籍販売と｜AVレンタルの｜」という文節は文節数が異なるため対応付けすることができない．
このように連体修飾部は被修飾語によって内容や長さが異なる．
よって被修飾語が異なる場合はそれに係る連体修飾部を対応付けることが困難である．
そのため提案法では連体修飾部が存在する文節に対しては，対応付けの単位としてその連体修飾部と被修飾部を結合した文節を用いた．
また連体修飾部は[REF_節:内容語の一致]節と同様の方法で判断している．
なお連体修飾部が文の内容の本筋ではないため，文節が対応付けられるか比較する際は被修飾部同士による比較を行う．
以下に例[REF_例:文節対応付けB]の2つ目の例を用いて対応付けを行う際に使用する文節を具体的に示す．
\exp{例:文節対応付けB}対応付けに用いる文節の例
〈入力ニュース記事〉
{富士商は二十日、平生町に県内最大規模の書籍販売とAVレンタルの複合店アップルクラブ平生店をオープンした。
（以下省略）}
〈入力ニュース記事から作成した文節〉
{富士商は
二十日、
平生町に
県内最大規模の[MATH]書籍販売と[MATH]AVレンタルの[MATH]複合店アップルクラブ平生店を
オープンした。
}
〈類似用例文〉
{ JR秋葉原駅前で9日、地上22階建ての複合ビル秋葉原UDXがオープン。
}
〈類似用例文から作成した文節〉
{ JR秋葉原駅前で
9日、
地上22階建ての[MATH]複合ビル秋葉原UDXが
オープン。
}
本論文では[REF_節:対応付けの単位]節で説明した文節を対応付けの単位とし，類似用例文の文節に対して類似している入力ニュース記事の文節複数個を対応付ける．
なお，対応付けを行う際は文節内に含まれる語をすべて基本形に変更した形で行う．
対応付けは助詞の一致，固有表現タグの一致，そして単語間類似度の3つの尺度を用いて行う．
提案法では類似用例文の文節1つに対して，類似している入力の文節を全て対応付ける．
つまり1文節に対して複数個の対応文節が得られる．
この時，3つの尺度を用いても対応文節が見つからない場合は，[REF_章:類似用例文の選択]章の類似用例文の選択で次に内容の似ていると判断された類似用例文を使用して再度対応付けを行う．
図[REF_図:対応付け例]を用いて以下にそれぞれの尺度について述べる．
本論文では類似用例文と入力の文節末尾にある助詞が一致した場合，それらの文節を対応付ける．
日本語では助詞をみることで概ね主語や目的語などを判断することができる．
そのため助詞が一致した文節は同じような使われ方をしているため，文節の対応付ける尺度の1つとして用いた．
助詞の一致を測る際には文節が複数の文節で構成されている場合（連体修飾部と被修飾語の文節）は1番末尾の文節，1文節で構成されている場合はその文節から助詞を取り出す．
そして入力と類似用例文のその助詞を比較し，一致した場合文節を対応付ける．
但し例[REF_例:格助詞相当句]のように複数の助詞が連接して出てくる場合，その助詞は格助詞相当句として連結した形で用いる．
\exp{例:格助詞相当句}格助詞相当句となる助詞の一例
〈では〉
{で（助詞--格助詞--一般）、は（助詞--係助詞）として出現→格助詞相当句「では」として連結して用いる}
〈には〉
{に（助詞--格助詞--一般）、は（助詞--係助詞）として出現→格助詞相当句「には」として連結して用いる}
係助詞「は」や「も」，格助詞「が」は主語となる文節に対して付与されている助詞である．
そのため，この3つの助詞に対しては同一視する．
図[REF_図:対応付け例]の類似用例文の文節「NTTが」に対して，入力の文節「東芝は」「同社は」が対応付けられているのはこのためである．
また助詞の一致で対応付ける文節は入力と類似用例文の文節で主辞が同じ品詞のグループに属するもののみとした．
これは助詞が一致したとしても文節内容が明らかに類似していない場合に対応付けを行わないようにするためである．
品詞のグループは各文節末尾の文節内に含まれている主辞の品詞を参照し表[REF_表:品詞グループ]に従う．
よって助詞の一致で対応付けられる文節は助詞が一致しており，さらに品詞のグループが同じものである．
固有表現とは人名，地名，組織名などの固有名詞の他，日付や金額などの数値表現などのまとまりを示す．
提案法では構文解析器CaboChaの出力に従って固有表現タグが一致した文節を対応付ける．
この固有表現タグが一致する文節は固有表現のまとまりが同じであることを意味し，類似した文節である．
対応付けの際に参照する部分は助詞の一致の場合と同様，複数の文節から構成される文節は末尾の文節，1文節で構成されている文節ならばその文節である．
その文節の主辞の固有表現タグが類似用例文と入力で一致した場合に対応付けを行う．
CaboChaが持つ固有表現タグは9つである．
なお本論文では`DATE'タグと`TIME'タグは同じ時間表現を表しているタグであると判断し，同一視する．
また類似用例文の文節に固有表現タグ`DATE'もしくは`TIME'があるにも関わらず，入力の文節にそのようなタグが無かった場合は空情報``[MATH]''を入れる．
これは`DATE'及び`TIME'タグの表現に限り，空であっても文の内容には大きく関係せず，次のステップである文節の組合せで日本語やその内容としても正しい要約文が作成できると考えたためである．
よって空情報``[MATH]''があるだけでは[REF_章:類似用例文の選択]章に戻って次に内容の似た類似用例文を選ぶことはしない．
図[REF_図:対応付け例]では類似用例文の文節「NTTが」に対して入力の文節「東芝は」が組織名を表す`ORGANIZATION'タグが一致したため対応付けられている．
また類似用例文の「今秋にも」と入力の「来年六月に」は日付表現`DATE'タグが一致したため対応付けられたものである．
単語間の類似度では上述の2つの尺度と同様，文節末尾の文節を比較する．
提案法では特に文節内の主辞同士の類似に注目して対応付けを行った．
対応付けには[REF_節:類似単語データベース]節で説明した類似単語データベースを用いた．
類似用例文と入力における文節末尾の文節内の主辞同士を比較し，その2語が類似単語データベースに含まれている場合はその文節を対応付けている．
またこの対応付けでも助詞の一致と同様に品詞のグループによる制限を設けた．
つまり単語間の類似度では文節内の主辞を比較して類似単語データベースに含まれ，さらに主辞の品詞が表[REF_表:品詞グループ]で同じグループに属するときにそれらの文節を対応付ける．
[REF_章:文節の対応付け]章の文節の対応付けでは，類似用例文の文節1つに対して入力の複数個の文節が対応付けられた．
本章ではその得られた対応文節を組み合せることによって要約文を作成する方法を述べる．
用例利用型の要約では出力される要約文が類似用例文の文節により似たもので構成され，かつ日本語として連接のよいものが理想である．
したがって提案法では要約文を得る操作を類似用例文の文節に対して得られる類似度を最大に，かつ日本語としてできるだけ自然な文節列を取り出す組合せ最適化問題として定式化し，これを動的計画法によって解く．
また[REF_章:文節の対応付け]章の対応付けや本章の組合せは全ての語を基本形にして扱っている．
そのため提案法では組合せを行うことによって出力された文に対し，規則を用いて類似用例文の形と同じ形になるよう変更した．
前章で得られた類似用例文に対する対応文節を組合せて要約文を作成する．
組合わせの方法を図[REF_図:組合せ]を用いて説明する．
図[REF_図:組合せ]のノード[MATH]は類似用例文の文節[MATH]に対して[REF_章:文節の対応付け]章で得られた入力の対応文節を指す．
また同様にノード[MATH]は類似用例文の文節[MATH]に対して得られた入力の文節である．
[REF_章:文節の対応付け]章の対応付けでは類似用例文の文節1つに対して類似していると判断した入力の文節複数個を対応付けているため図[REF_図:組合せ]では[MATH]となる．
なお組合せの際には初期状態と最終状態を明確にするため文頭記号[MATH]と文末[MATH]を挿入する．
ここでノード[MATH]に対してのスコア[MATH]として類似用例文の文節にどれだけ類似しているかを与え，エッジのスコア[MATH]としてフレーズ間の繋がりの良さを与える．
これにより本章の目的である，類似用例文の文節により似たもので構成され，かつ日本語として連接の良い部分文節列を得るためにはこのノードとエッジのスコアの総和を最大にするような経路を求める問題に帰着できる．
さらに図[REF_図:組合せ]では文頭から文末に向かう全ての組合せを2次元空間に示したものであり，探索領域は限られている．
そのためこの問題は動的計画法で解くことができる．
続いて式を用いて具体的にどのような問題を解くのかを考える．
経路列[MATH]に対し，以下のスコアを最大にするような経路を求める問題を考える．
このとき最適経路列[MATH]は以下で与えられる．
またスコア[MATH]を次式で表す．
{
} [MATH]は類似用例文の文節の最終番号を表す．
以下にノード重みを定義する．
式[REF_nodescore]の[MATH]は以下の式で表される．
また[MATH]は各スコアに対するバランスパラメータである．
\mathit{particle}(n_i) & =
1 & \text{ノード[MATH]が助詞の一致で対応付けされた場合}
0 & \text{それ以外}
\mathit{NEtag}(n_i) & =
1 & \text{ノード[MATH]が固有表現タグの一致で対応付けされた場合}
0 & \text{それ以外}
\mathit{MI}(n_i) & =
\mathit{sim}(n_i, ph) & \text{ノード[MATH]が単語間の類似度で対応付けされた場合}
0 & \text{それ以外}
式([REF_sim])内の[MATH]は類似用例文のある文節を示し，[MATH]は類似用例文の文節[MATH]と[REF_章:文節の対応付け]章で対応付けられた入力の文節との類似度を正規化した数値である．
この数値は[REF_節:類似単語データベース]節での類似単語データベースの作成時であらかじめ計算してあるものを使用した．
次にエッジ重みを以下に定義する．
エッジスコアは文節間の繋がりの良さを示す．
本論文では様々な文の文節を組み合せることにより文を作成するが，1文目→5文目→2文目→10文目の様に1つ1つの文節があまりにも様々な文を跨いで組み合わさるようなものは多くの話題が混在することとなり，連接も悪くなる．
そのため式([REF_edge])では対応付けられた文節が存在する入力の文の位置[MATH]を考慮した．
[MATH]はノードつまり対応文節[MATH]が入力したニュース記事の何文目に存在しているかという情報である．
連接する文節[MATH]がどれだけ離れているかを[MATH]の差の絶対値を取ることで測っている．
このとき文節が文頭に向かって（4文目→2文目のように）戻る場合は話題が戻ることとなり，連接をより悪くしてしまう可能性があるため，このような場合にはスコア0を与えている．
以上の方法により，類似用例文の文節に似ており，さらに日本語の連接としてより正しい文が作成される．
しかし提案法の文節の対応付けでは図[REF_図:対応付け例]のように入力中の同じ文節「…ヘリカルCTを」が類似用例文の文節複数「…ネット技術を」，「サービスを」に似ていると判断される場合が存在する．
この時文節の組合せを行うと1文中に同じ文節が複数個出現してしまう恐れがある．
要約文1文中に全く同じ文節が2回以上出現する文は不自然で冗長である．
そのため提案法では，組合せによって得られた文に同じ文節が2つ以上存在した場合，組合せによって得られた全体のスコアが次に高かった組合せ結果を採用する．
本論文では複数の組合せ解を効率的に得るために永田の後向き[MATH]アルゴリズム[CITE]を用いた．
\makeatletter  \makeatother
対応文節の組合せを最適化問題として解いて得られた文は以下の例に示すように基本形の文節で，さらに句点など入力ニュースで用いられていたそのままの形で表されている．
\exp{例:組合せ結果}対応文節の組合せで得られた組合せの例
〈入力ニュース記事〉
{中国地域ニュービジネス協議会は、｜\kern-0.25zw[MATH]財務や営業、技術、マーケティングの分野で助言するシニアアドバイザーを｜募集した。
｜ベンチャー企業から｜財務や営業面で弱点補強の要請が｜あれば、｜アドバイザーとして｜派遣する。
（以下省略）}
〈類似用例文〉
{産業再生機構は｜リストラ特命隊を｜募集し、｜カネボウ化粧品へ｜派遣。
｜}
〈対応文節の組合せ結果〉
{中国地域ニュービジネス協議会は、｜財務や営業、技術、マーケティングの分野で助言するシニアアドバイザーを｜募集するた。
｜ベンチャー企業から｜派遣する。
｜}
そのため本節では得られた組合せ結果を類似用例文の形に倣い変更する．
例[REF_例:組合せ結果]を類似用例文の形へと合わせると以下のような文が得られる．
\exp{nolabel03}例[REF_例:組合せ結果])で得られた組合せ結果を類似用例文の形へと変更
中国地域ニュービジネス協議会は、財務や営業、技術、マーケティングの分野で助言するシニアアドバイザーを募集し、ベンチャー企業へ派遣。
以下に類似用例文の形へと合わせるための規則を示す．
この規則は対応文節末尾の文節に対して行うものである．
類似用例文の文節が文末の場合
\ul{対応文節も文末である場合}
対応する入力の文節も文末で活用語がある場合，それらの語を入力ニュース記事の元の活用へ変更する．
述べるた。
→述べた。
但し対応文節が「サ変名詞+する」である場合，冗長な表現であるため文末整形も兼ね「する」を削除する．
派遣する。
→派遣。
\ul{対応文節が文末以外の場合}
対応する入力の文節が文末以外で活用語がある場合，それらの語は基本形のままにする．
この時対応文節の助詞は削除する．
述べるて、（述べて、）→述べる。
但し対応する入力の文節が過去形を表す助動詞「た」を含む場合，時制を変えないようにするため，入力ニュース記事の元の活用へ変更する．
述べるたと、（元の形は「述べたと、」）→述べた。
類似用例文の文節が文末以外の場合
\ul{対応文節が文末である場合}
対応する入力の文節が文末で活用語がある場合，それらの語を類似用例文の文節の活用に合わせる．
この時対応文節に類似用例文のフレーズに含まれる助詞を付加する．
類似用例文の文節：発表して
述べる。
→述べて
但し対応する入力の文節が過去形を表す助動詞「た」を含み，さらに類似用例文の文節にも「た」を含む場合，時制を変えないようにするため，入力ニュース記事の元の活用へ変更する．
この時対応文節に類似用例文の文節に含まれる助詞を付加する．
類似用例文の文節：発表したと
述べるた。
（元の形は「述べた。
」）→述べたと
\ul{対応文節が文末以外である場合}
対応する入力の文節も文末以外で活用語がある場合，それらの語を類似用例文の文節の活用に合わせる．
この時対応文節に類似用例文の文節に含まれる助詞を付加する．
類似用例文の文節：発表して
述べる、（元の形は「述べ、」）→述べて
但し対応する入力の文節が過去形を表す助動詞「た」を含み，さらに類似用例文の文節にも「た」を含む場合，時制を変えないようにするため，入力ニュース記事の元の活用へ変更する．
この時対応文節に類似用例文の文節に含まれる助詞を付加する．
類似用例文の文節：発表したと
述べるたと（元の形は「述べたと」）→述べたと
なお文節内の連体修飾部の文節に対しては例[REF_例:連体修飾部の活用]に示すように全て入力ニュース記事の元の活用へと変更した．
\exp{例:連体修飾部の活用}連体修飾部に対する変更の処理
〈入力ニュース記事〉
小泉首相は、｜\ul{○○を事前に公表した}ことを｜受け、｜…。
｜（以下省略）
〈類似用例文〉
政府は、｜××したものを｜…。
｜
〈対応文節の組合せ結果〉
小泉首相は、｜\ul{○○を事前に公表}\setnami\uc{する}\ul{た}ことを｜…。
｜
〈連体修飾部は活用を元の記事に合わせる〉
小泉首相は、｜\ul{○○を事前に公表}\setnami\uc{し}\ul{た}ことを｜…。
｜
これらの規則により組合せで得られた文を類似用例文の形へと合わせた．
