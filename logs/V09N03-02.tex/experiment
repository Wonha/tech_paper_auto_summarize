実験および考察
本稿で報告する実験は，論文コーパスを茶筌を用いて形態素解析を行なったものである．
対象ドメインの持つ統計情報を利用することで形態素解析の精度の向上を図る．
\subsection{実験内容}
\label{sec:experiments}
本章では，本稿で提案している 2 つのシステムの利用実験について報告する．
システム M だけを利用した場合，システム D だけを利用した場合， M と D 両方併用した場合，どちらも利用しなかった場合の 4 種類の実験を行なった．
システム D を利用した実験では，それぞれ， \ref{sec:jisho} 節で提案した 4 種類の辞書を試みた．
以上， 10 種類の実験について報告する．
\subsubsection{コーパス}
本実験では，コーパスとして自然言語処理分野の論文を利用した．
訓練コーパス，テストコーパス共に，自然言語処理分野を専攻する学生 6 人の論文計 17 本を合わせて作成したものである．
本稿では，統計情報利用システムの組み込みで利用する統計情報を得るための訓練コーパスおよび辞書登録のための辞書登録文字列の抽出について，同一の訓練コーパスを利用した．
訓練コーパスに含まれる文の総数は 4,816，含まれる文字の数は 213,489 (平均 44.33 文字 / 文) である．
また本稿では，それぞれの実験における形態素解析対象として，同一のテストコーパスを利用した．
テストコーパスに含まれる文の総数は 1,149，含まれる文字の数は 55,755 (平均 48.52 文字 / 文) である．
\subsubsection{正解形態素解析，正解文字列}
\label{sec:seikaikeitaisokaiseki}
比較のため，テストコーパスを人手で形態素解析したものと辞書登録すべき文字列の正解リストを作成した．
\paragraph{正解形態素解析}
テストコーパスを茶筌に掛け，その結果を人手で修正したものである．
修正の対象は切り分け誤りおよびタグ付け誤りとした．
切り分け誤りは，明らかな間違いの他，複合語とすべき語が切り分けられている場合も含む．
複合語としたのは名詞の並びの他，接頭詞が付着するもの，英単語列などである．
そのほか，数式，数値は全体で一塊とした．
\paragraph{正解文字列}
正解形態素解析結果中，茶筌に登録されていない文字列を正解文字列とした．
ただし，本稿の手法では名詞に準じるものを対象として考えているため，動詞，形容詞などに相当する文字列は正解文字列から除外した．
\subsection{実験結果}
\label{sec:expresult}
表 \ref{tab:expresult} に各実験の結果をまとめる．
「茶筌のみ」とある実験は統計情報を利用しない場合のものであり，これと比較することで本稿で提案するシステムの有用性を示す．
未知語削減率は茶筌のみの場合に対する割合，形態素総数は正解形態素解析での形態素総数に対する割合である．
\begin{table}[ht]
\begin{small}
\begin{center}
\caption{実験結果}
\label{tab:expresult}
\begin{tabular}{l|rr|rr|rr}
実験            &\multicolumn{2}{c|}{完全チェック}&\multicolumn{2}{c|}{拡張チェック}&未知語&形態素\\
                &適合率&再現率&適合率&再現率&削減率&総数\\
\hline
\hline
茶筌のみ        &  --- &  --- &  ---  &  --- &  --- &118.8\%\\
\hline
システム M      &38.3\%&26.0\%&50.1\%&51.7\%&86.1\%& 98.6\%\\
\hline
システム D\idl  &77.0\%&38.9\%&98.1\%&47.8\%&71.4\%&110.2\%\\
システム D\chk  &67.2\%&23.5\%&96.9\%&34.1\%&66.3\%&112.6\%\\
システム D\frq  &55.8\%&17.4\%&81.2\%&27.6\%&58.6\%&112.5\%\\
システム D\pos  &68.2\%& 5.8\%&97.5\%& 8.7\%&65.0\%&117.1\%\\
\hline
システム M+D\idl&75.5\%&39.4\%&96.3\%&50.0\%&86.5\%&109.3\%\\
システム M+D\chk&63.1\%&23.5\%&91.9\%&37.3\%&86.1\%&110.6\%\\
システム M+D\frq&52.3\%&17.6\%&79.1\%&31.6\%&85.9\%&110.5\%\\
システム M+D\pos&47.7\%& 5.7\%&59.0\%&14.2\%&86.1\%&113.5\%\\
\end{tabular}
\end{center}
\end{small}
\end{table}

それぞれのシステムについての考察は \ref{sec:resultsystemm} 節以降で述べる．
\paragraph{適合率，再現率}
\label{sec:expresultprf}
表 \ref{tab:expresult} に示した適合率，再現率の算出には，正解形態素解析，正解文字列 (\ref{sec:seikaikeitaisokaiseki} 節) を利用した．
有繋文字列と認識された箇所に対する正解形態素解析中の正解文字列の出現箇所の割合を適合率，全ての正解文字列に対して正しく認識された文字列の割合を再現率とした．
正解文字列に完全にマッチしたものを完全適合率および完全再現率，正解文字列と同一ではないが誤りではない有繋文字列の場合を拡張適合率および拡張再現率とした
\footnote{拡張適合率，拡張再現率では，有繋文字列が含まれている場合のみを数えた．すなわち正解文字列「自然言語処理」を一塊として抽出するのに失敗した場合，「自然言語 (有繋文字列)」「処理 (名詞)」のように切り分け結果に有繋文字列が含まれ，かつ切り分け結果が誤りでないと判断された場合を成功，「自然言 (有繋文字列)」「語 (名詞)」「処理 (名詞)」のように有繋文字列を含んでいても切り分け誤りがある場合は失敗，また「自然 (名詞)」「言語 (名詞)」「処理 (名詞)」のように切り分けは誤りでないが有繋文字列を含んでいない場合も失敗とした．}
．

再現率の計算には正解文字列の総数を利用しているが，この正解文字列はテストコーパスから作成したものであり，訓練コーパス中に出現しない文字列も多く存在する．
再現率が低くなる理由の一つに，論文中に含まれる数式および数値が挙げられる
\footnote{正解文字列から数式，数値を除いた場合，システム M+D\idl の完全再現率は 46.9\%，拡張再現率は 56.7\% となる．}
．
表 \ref{tab:expresult} では数式の扱いが厳しく，完全に適合する数式でないと失敗としているが，実際には数式は必ずしも一定の形で現れるとは限らず，辞書登録の対象とするには無理がある．
その他の要因としては，論文ごとの表記の揺れや出現語句の相違，複合語の認識失敗がある．

表 \ref{tab:expresult} を見ると，適合率は完全にマッチした場合で最高 77.0\%，拡張適合率では最高 98.1\% と高い．
これは，有繋文字列が高い精度で抽出されたことを示す．
有繋文字列は辞書既登録語を含まないことから，本手法が辞書未登録語の抽出に有効であると言える．

どの辞書を利用した場合でも，適合率はシステム D がシステム M+D の結果を上回る．
これは辞書登録文字列の選択が適切になされたことを示す．
システム M+D ではシステム M の影響でノイズが増えたが，システム M だけの場合では 50.1\% であり，システム D がノイズの削減に有効であることが判る．
\paragraph{未知語削減率}
\label{sec:expresultunk}
表 \ref{tab:expresult} の未知語削減率は，茶筌のみでの実験結果中の未知語数に対してどれだけ未知語が削減されたかを示す値である．
統計情報を一切使わない場合 483 の文字列が未知語として出力された．
本稿のシステムでは，最悪の場合でもその 58.6\% の認識に成功している．

未知語認識の上限は 86\% 前後となっているが，これらは訓練コーパス中に出現しなかった未知語 67 個の抽出に失敗したものである．
表 \ref{tab:expresult} によると実験 M，実験 M+D では未知語削減率が約 86\% となっており，
システム M が訓練コーパスに出現する未知語を最大限に削減できることが判る．
それに対して辞書登録のみを利用した実験 D は低くなっており，辞書登録だけでは未知語を完全にカバーすることが困難であることを示している．
システム M+D はシステム M の持つノイズの問題を抑えながら最大限の未知語削減率を保っている．

訓練コーパス中に出現しない文字列の認識は， $n$-gram のように連続型のモデルでは不可能である．
それに対し，本手法で採用した d-bigram はギャップのある事象の共起情報を複数組み合わせて文字列認識を行なうため，訓練コーパスに出現しない文字列についても有繋性の推定が可能である\cite{nobesawa98ipsjnl}．
推定の精度は訓練コーパスや認識対象文字列に依存するため，これらの効果的な認識が今後の課題として挙げられる．
\paragraph{総形態素数}
\label{sec:expresultmorph}
表 \ref{tab:expresult} の総形態素数とは各実験での形態素の総数の正解形態素解析に含まれる総形態素数に対する割合を示す．
総形態素数の割合が高ければ過分割が多いことが，割合が低ければ過接合が多いことが推察される．

表 \ref{tab:expresult} の形態素総数を見ると，本稿のシステムを利用しない場合の形態素総数は正解形態素解析の 118.8\% であり，過分割が頻繁に起こって形態素数が 2 割近く増えていることが判る．
システム M だけの場合にはこれが 100\% を下回り，過分割がかなり抑えられている．
しかし，訓練コーパスとテストコーパスが独立であるため未知語や過分割を完全には除去できないことを考えると，この結果には過接合も多く含まれることが考えられる．
実際，システム M では過接合が多く完全適合率は他に比べて低くなっていた．
システム D だけの場合は形態素総数が正解の 110\% から 117\% となっており，茶筌のみの場合に比べて過分割が減少している．
システム M+D は適合率を十分高く保ったまま形態素総数を 110\% 前後にしており，システム D だけの場合よりもさらに正解に近づいている．
本稿はオープンコーパスでの実験を行なったため，特に数式や数値などの文字列で過分割は避けられない．
これらのことから，システム M と D を的確に組み合わせることで過分割を最大限減少させたと言える．
\subsection{実験 M: 統計情報を組み込んだ茶筌による形態素解析}
\label{sec:resultsystemm}
表 \ref{tab:expresult} によると
システム M の適合率は他に比べてかなり低いが，これは形態素解析時に有繋文字列とされた文字列が他に比べて多いことにも起因する．
システム M では有繋文字列の絞り込みを一切行なっていないため動詞句などノイズとなる文字列を多く含むことが適合率の低下の原因である．

システム M での形態素総数は正解形態素解析の 98.6\% と唯一 100\% を下回り，システム M を適用することで過分割を大幅に削減できることが判る．
しかし，
本稿の手法では正解形態素解析よりも形態素総数が多くなることは避けられない．
正解形態素解析よりも形態素数が少なくなったシステム M は過接合を多く含んでおり，他に比べて精度が良いとは言えない．

システム M は拡張再現率が他に比べて高い (表 \ref{tab:expresult})．
これはシステム M による動的な統計情報の利用が正解文字列の認識に有効であることを示している．
辞書登録の場合ノイズは減少するが，柔軟な対応が必要な文字列の認識が難しくなる．
システム M の利用はこの問題点の解消に有効である．

表 \ref{tab:paperresultpos} に論文コーパスを茶筌を利用して形態素解析した実験結果を示す．
\begin{table}[hbt]
\begin{small}
\begin{center}
\caption{論文コーパスでの実験結果}
\label{tab:paperresultpos}
\begin{tabular}{l|rrrrrrrrr|r}
&\hspace{-2pt}{\footnotesize 未知語}&\hspace{-2pt}{\footnotesize 有繋
文字列}&\hspace{-2pt}{\footnotesize 名詞}&\hspace{-2pt}{\footnotesize 
動詞}&\hspace{-2pt}{\footnotesize 副詞}&\hspace{-2pt}{\footnotesize 形
容詞}&\hspace{-2pt}{\footnotesize 助動詞}&\hspace{-2pt}{\footnotesize 
助詞}&\hspace{-2pt}{\footnotesize 記号}&{\footnotesize 総
形態素数}\\
\hline
\hline
\hspace{-3pt}{\footnotesize 茶筌のみ}&\hspace{-2pt}{\footnotesize 483}&\hspace{-2pt}{\footnotesize
---}&\hspace{-2pt}{\footnotesize 12,863}&\hspace{-2pt}{\footnotesize
3,892}&\hspace{-2pt}{\footnotesize 213}&\hspace{-2pt}{\footnotesize
364}&\hspace{-2pt}{\footnotesize 1,777}&\hspace{-2pt}{\footnotesize
8,499}&\hspace{-2pt}{\footnotesize 4,445}&\hspace{-2pt}{\footnotesize
33,812}\\
\hspace{-3pt}{\footnotesize システム M}&\hspace{-2pt}{\footnotesize
67}&\hspace{-2pt}{\footnotesize 2,218}&\hspace{-2pt}{\footnotesize
9,086}&\hspace{-2pt}{\footnotesize 3,468}&\hspace{-2pt}{\footnotesize
215}&\hspace{-2pt}{\footnotesize 321}&\hspace{-2pt}{\footnotesize
1,641}&\hspace{-2pt}{\footnotesize 7,346}&\hspace{-2pt}{\footnotesize
2,898}&\hspace{-2pt}{\footnotesize 28,048}\\

\end{tabular}
\end{center}
\end{small}
\end{table}
表 \ref{tab:paperresultpos} を見ると名詞と記号が減少していることが判る．
論文コーパスでは複合名詞の出現が多く，頻出する複合名詞が有繋文字列として一塊にされたことが，名詞の減少の大きな理由である．

記号の減少については，数式と英字文字列，頻出言い回しが大きな理由として挙げられる．
英字，その他の記号の減少の最大の理由は数式である．
数式中に含まれる文字列はほとんど未知語または記号として扱われるが「 P(x) 」など確率を示す関数などは有繋文字列として認識されており，結果的に記号タグの振られる文字列が減少した．
句読点と助詞，動詞の減少は，主に頻出言い回しに起因する．
頻出言い回しの抽出はシステム M では防ぐことができず，過接合の頻出の原因となっている．
しかし表 \ref{tab:paperresultpos} を見ると副詞など他の品詞の形態素数の変化は小さく，システム M の利用による誤解析は少ないことが判る．
\subsection{実験 D: 有繋文字列の辞書登録}
本稿では，訓練コーパスを入力として抽出された有繋文字列を辞書登録候補とし，\ref{sec:jisho} 節で提案した 4 通りの方法で辞書登録文字列の選択を行なった．
本稿ではそれぞれの登録候補選択手法について文字列ごとに形態素コストの設定を行なっている．

登録候補文字列を取得するため，訓練コーパスに対して実験 M と同じ方法で形態素解析を施した．
この結果有繋文字列として出力された文字列 5,402 が各辞書の登録候補文字列となっており，この集合から辞書登録文字列の絞り込みを行なう．
\subsubsection{実験 D\idl: 一人での評価による登録文字列選択}
\label{sec:didl}
抽出された有繋文字列から選択された登録候補文字列の異なり文字列数は 2,482 であった．
茶筌既登録語を除いた結果，登録文字列数は 1,738 となった．
辞書 \idl を利用した実験は適合率が高く，人手での選別でノイズをほぼ抑えることが可能であることが示された．
\subsubsection{実験 D\chk: 複数人による登録文字列選択}
\label{sec:dchk}
複数人で選択を行なった結果は機械的に選択した 2 辞書によるものと大差ないという結果になった．
システム M と組み合わせた場合には，機械的に作成した辞書に比べてノイズの抑制に効果があった．
辞書登録の候補とすべきかどうかの判断では被験者それぞれの考え方にかなりの違いがあったことが問題の一つであると考えられる．
\subsubsection{実験 D\frq: 出現頻度による登録文字列選択}
\label{sec:dfrq}
登録候補文字列の異なり数 2,807 のうち出現頻度が 1 のものは 2,152 であり， 76.7\% に達する．
これを登録候補から外すことで，登録文字列数は 655 となったが，これは 4 辞書中最少である．
辞書 \frq を用いた実験の結果を見ると，他に比べて未知語削減率が低いことが判る (表 \ref{tab:expresult})．
これは頻度だけでは未知語の認識には不十分であることを示す．
しかし辞書 \frq を利用した場合でも形態素総数の削減は辞書 \chk と同等，特にシステム M と組み合わせた場合には辞書 \idl を利用した場合に近い結果となっていることが判る．
これはこの辞書が過分割の削減に有効であることを示し，頻度情報が複合語の認識に有効であることが判る．
\subsubsection{実験 D\pos: 品詞による登録文字列選択}
\label{sec:dpos}
辞書 \pos を用いた実験の結果は，システム D，システム M+D のどちらでも非常に再現率が低くなっている．
これは，この辞書を用いた場合有繋文字列として形態素解析された文字列の数が少なかったためである．
しかし
辞書 \pos を利用した場合でも未知語数の削減は他と同等に実現しており，辞書 \pos は特に未知語の削減に対して有効であることが判る．
これは，辞書 \pos の作成では品詞の情報を利用することで未知語を含むものが優先的に登録されたためであると考えられる．
辞書登録すべき文字列とそうでない文字列との品詞情報には明らかな違いがあり，異なり品詞列のうち辞書登録の対象とすべき品詞列は約 1 割であることが判った．
\subsection{実験 M+D: 辞書登録と統計情報利用システム組み込みの併用}
形態素解析時の統計情報の利用を行なうシステム M は動的な文字列の切り分けを可能にし，柔軟な処理が可能となった反面，ノイズの問題が起こる．
それに対して訓練コーパスから得られた統計情報を元に辞書未登録文字列を抽出し辞書登録を行なうシステム D は，登録文字列の絞り込みを行なうためノイズの問題を軽減することが可能であるが，柔軟な処理には不向きである．
従って，システム D で認識しきれない部分をシステム M が補完する形で両者を組み合わせることで，訓練コーパスの情報を生かした処理が可能となり，精度の向上が期待できる．

訓練コーパスからの学習では形態素総数の削減は正解の 110\% 程度が限界だが，システム M+D では形態素総数は 110\% 前後となっており，特に人手による辞書作成の場合適合率が十分高いことを考えると，コーパスの情報を利用することでテストコーパスの形態素切り分けの精度を十分にあげたと言ってよい．

またシステム M+D ではシステム M に対して大幅に過接合を削減したにもかかわらず，未知語の削減率はシステム M と同等であり，本手法で未知語の削減率を保ったままシステム D と組み合わせることに成功した．
未知語の削減率は最高で 86.5\% となっているが，未知語の 14\% 程度は訓練コーパス中に出現しないものであり，このことを考えると，本稿で提案した手法で未知語を最大限取得することに成功したと言える．
さらにシステム M と D を組み合わせることで訓練コーパスに出現しなかった未知語文字列が訓練コーパスの情報を利用することで正しく一塊と認識された例もあった．
