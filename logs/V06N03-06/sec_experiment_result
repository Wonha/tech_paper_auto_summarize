前節までで述べた我々のパッセージ検索の有効性を調べるため，伝統的な文書全体によるキーワード検索(以下，キーワード検索)，パッセージ検索として代表的である形式段落に基づくパッセージ検索およびウィンドウに基づくパッセージ検索と，我々の語彙的連鎖に基づくパッセージ検索による比較実験を行う．
また，各パッセージ検索を単独で行う場合とパッセージ検索とキーワード検索を組み合わせた場合の比較も行う．
実験には，『情報検索システム評価用テストコレクションBMIR-J2』[CITE]を使用する．
BMIR-J2は，対象文書5080件(1994年の毎日新聞から選択した経済および工学，工業技術一般に関連する記事)，検索要求50種と対応する正解がセットとなっているテストコレクションである．
50の検索要求には5種類の機能分類がされており，研究課題に応じて使用する検索要求を選ぶことが出来るようになっている．
また，正解判定にはA，Bの2ランクがあり，Aは検索要求を主題とする記事，Bは検索要求の内容を少しでも記述している記事をそれぞれ表わしている．
パッセージ検索は，文書中で強く関連する部分を取り出すという性質から，本研究の正解判定には，主題を表わすAランクを使用する．
また，パッセージ検索は特に長い文書で有効であると考えられるため，全5080件の内比較的長い文書として1600バイト以上の文書904件を選択したセット(セット1)を使用する．
また，5080件全てを使用するセット2による実験も行う．
検索要求は全50の内，数値・レンジ機能および知識処理機能を必要とする検索要求以外の検索要求から，セット1において正解文書数が5文書を越える検索要求をすべて選択して使用する．
本研究では，後述するように評価尺度として再現率と適合率を使用する．
このような評価尺度を用いる場合，正解文書数の少ない検索要求を使用すると統計的な信頼性が低下する．
そのため，本実験で使用するテストコレクションにおいて信頼性の基準とされている5文書以上の正解を持つ検索要求だけを使用することにした．
また，各文書には見出しが付いているが，本文と合せて1つの文書として扱う．
テストコレクションの特徴を表[REF_tab:collection]にまとめる．
次に本研究で実装した各検索手法について説明する．
すべての手法において，文書を形態素解析し，名詞，動詞，形容詞を取り出しインデキシング用のタームとする．
また，パッセージ検索では同一文書内で検索要求とマッチするパッセージが複数ある場合には，類似度が最大のものを選択し検索要求と各文書の類似度として使用する．
1つの文書内のターム[MATH]の重みは，タームの文書内の出現頻度[MATH]およびタームの文書集合全体での出現文書頻度の逆数[MATH]に基づく一般的な[MATH]の式([REF_equ:tfidf])により計算し，文書をタームの重みつきベクトル[MATH]で表現する．
ここで，[MATH]は文書内でのターム[MATH]の出現頻度，[MATH]は全文書数，[MATH]はターム[MATH]が出現する文書の数である．
検索要求ベクトル[MATH]と文書ベクトル[MATH]との間の類似度は次式で計算する．
ここで，[MATH]は検索要求内のターム[MATH]の検索要求内の頻度である．
このタイプのパッセージ検索では，見出しと形式段落をそれぞれ1つのパッセージとして扱う．
パッセージ毎の各タームの重要度は式([REF_equ:tfidf])と同様であり，検索要求とパッセージの類似度は式([REF_equ:normsim])と同様であるが，[MATH]はパッセージ内に出現するターム[MATH]の数，[MATH]は全段落数であり，[MATH]はターム[MATH]の出現する段落の数となる．
セット1(904文書)は，7949段落に分割され，1文書平均8.8段落であり，1段落当り平均28.2タームである．
セット2(5080文書)は，31904段落に分割され，1文書平均6.3段落であり，1段落当り平均27.9タームである．
サイズ[MATH]の固定長ウィンドウによりパッセージを作る．
Callanの手法[CITE]と同様に，検索要求にマッチするタームが最初に出現した位置から走査を開始し，[MATH]ずつウィンドウをずらしながらクエリーとの類似度を計算する．
ウィンドウ内のタームの重要度は式([REF_equ:tfidf])と同様であり，各ウィンドウと検索要求の類似度は式([REF_equ:normsim])で計算されるが，[MATH]はウィンドウ内に出現するターム[MATH]の数となる．
本研究では，ウィンドウのサイズを，[MATH]までの範囲で20刻みに設定しそれぞれのサイズで実験を行う．
本研究で用いたほとんどの文書データにおいて，文書全体となる値である300をウィンドウサイズの上限とした．
[REF_sec:lexchain]節で述べた手法により語彙的連鎖を計算し，[REF_sec:ourpassage]節で述べた手法によりパッセージと各検索要求の類似度を計算する．
検索要求との類似度が最大のパッセージを検索要求と関連の高いパッセージとし，その類似度を検索要求と文書の類似度とする．
ここで，[MATH]は式([REF_equ:passcr])によって求められる．
[REF_ssec:lexselect]節で述べたように，語彙的連鎖に基づくパッセージでは，有意な連鎖を選択するための2つの制約，ギャップ長の制約と連鎖長の制約を課す．
今回の実験では，両制約とも閾値を文書内のターム数の[MATH]の4通りに変化させ[MATH]通りの組み合わせを用いて実験する．
連鎖長，ギャップ長は，文書内のターム数に対してどのくらいの割合になるかを考慮して，長めである[MATH]から短かめである[MATH]までの範囲とした．
また，タームの共起スコアに基づく語彙的連鎖の計算では，[REF_ssec:cooccurrence]節で述べたように，連鎖の決定に共起スコアの閾値を用いる．
今回の実験では，[MATH]の各閾値について連鎖を計算して実験を行う．
この閾値は，予備的な語彙的連鎖構成実験により，[MATH]より小さいとまとまり過ぎ，[MATH]より大きいと細かくなり過ぎる傾向が見られたため，この範囲に決定した．
なお，共起スコアの計算では大規模なコーパスが必要となるため，テストコレクションと同じ毎日新聞94年の記事1年分(約10万記事)を使用する．
形式段落，ウィンドウおよび語彙的連鎖に基づくパッセージ検索とキーワード検索とを統合した検索を行う．
数多くの統合手法が考えられるが，本研究では次の統合手法を実装して実験を行う．
検索要求[MATH]に対する文書[MATH]のキーワード検索，パッセージ検索における類似度を，それぞれの最大の類似度で割って正規化し足し合わせた値を[MATH]の類似度として計算する．
ここで，[MATH]は[REF_subsec:keyword]節で述べたキーワード検索による文書[MATH]の類似度であり，[MATH]はキーワード検索の中で検索要求[MATH]との類似度が最大の文書の類似度である．
[MATH]はパッセージ検索による文書[MATH]の類似度であり，[MATH]はパッセージ検索の中で検索要求[MATH]との類似度が最大の文書の類似度を表わす．
パッセージ検索の類似度は，形式段落型を使用する場合は[REF_subsec:formpara]節，ウィンドウ型は[REF_subsec:window]節，語彙的連鎖型は[REF_subsec:lexpas]節で述べた手法によりそれぞれ計算する．
この統合手法では，パッセージとキーワードでの検索の両方の類似度が相対的に高い文書が上位にランクされる．
前節の4つの検索手法を使用して以下の組み合わせで実験を行う．
キーワード検索(document)
形式段落に基づくパッセージ検索(formpara)
固定長ウィンドウに基づくパッセージ検索(window)
語彙的連鎖に基づくパッセージ検索
同一タームの反復による語彙的連鎖(repetition)
シソーラスによる語彙的連鎖(thesaurus)
共起タームによる語彙的連鎖(cooccurrence)
(1)と(2)の組み合わせ(formpara_doc)
(1)と(3)の組み合わせ(window_doc)
(1)と(4)の組み合わせ
(1)と(4-a) (repetition_doc)
(1)と(4-b) (thesaurus_doc)
(1)と(4-c) (cooccurrence_doc)
評価尺度には，再現率([MATH])と適合率([MATH])を使用する．
[MATH]は全正解文書の内，システムによって正しく検出された文書の割合を示す．
[MATH]はシステムが関連すると判断した文書の内，実際に正解文書であるものの割合を示す．
[MATH]，[MATH]は次式で表わされる．
但し，各検索要求に対するシステムの出力を上位[MATH]位までとする．
本研究では，[MATH]を上位2位から26位まで2文書刻み([MATH])にし各[MATH]の時点で全検索要求による適合率，再現率の平均を計算する．
実験結果を図[REF_fig:ex5]から図[REF_fig:ex8]に示す．
図[REF_fig:ex5]と[REF_fig:ex6]はセット1の結果であり，図[REF_fig:ex7]と図[REF_fig:ex8]はセット2の結果である．
図[REF_fig:ex5]と図[REF_fig:ex7]は，各パッセージ検索単独と文書全体の検索の結果である．
図[REF_fig:ex6]と図[REF_fig:ex8]は，各パッセージ検索とキーワード検索の統合手法の結果である．
また，前節までで述べた各検索実験にはさまざまなパラメータが存在しているが，各[MATH]における平均適合率が最大になる場合を最適なパラメータ値であると推定した．
パッセージ検索の主な効果としては，キーワード検索に比べ適合率を向上させることが期待される．
そのため，パラメータ値の推定には再現率を考慮せず，適合率のみを考慮した．
図[REF_fig:ex5]から図[REF_fig:ex8]には，最も良かった場合の結果を示している．
最も良い結果が得られた各パラメータの値と，その際の平均パッセージサイズおよびパッセージサイズの標準偏差を表[REF_tab:bestparam]に示す．
パッセージ検索単独では，セット1の場合(図[REF_fig:ex5])，ウィンドウ型がキーワード検索単独とほぼ同じであり，形式段落，語彙的連鎖のパッセージの中では共起による語彙的連鎖型が一番良いものの，キーワード検索単独を上回る精度を得られなかった．
また，セット2(図[REF_fig:ex7])の場合も，セット1の時ほどはっきりした差はないが，概ね同様の結果であった．
一方，キーワード検索との統合による結果では，セット1の場合(図[REF_fig:ex6])，共起による語彙的連鎖型のパッセージ検索によって，多くの部分でキーワード検索単独を上回る良い適合率および再現率を得た．
形式段落型と他の語彙的連鎖型パッセージ検索では，単独の場合よりも統合することによって適合率，再現率が向上したもののキーワード検索単独の結果を上回ることができなかった．
ウィンドウ型は統合によってもキーワード検索単独の結果とほぼ同じであった．
また，セット2(図[REF_fig:ex8])の場合も，セット1の時より差が少ないが，共起による語彙的連鎖型のパッセージ検索により，多くの部分でキーワード検索単独を上回る結果を得た．
結果的にセット1で共起による語彙的連鎖に基づくパッセージ検索とキーワード検索を統合する場合に，最も高い適合率，再現率が得られた．
特に検索文書数が少ない段階での差は顕著であり，上位10位までの文書を見ると，キーワード検索単独では適合率約34%，再現率約53%であるのに対し，統合により適合率約40%，再現率約64%を得ている．
セット1とセット2の結果をキーワード検索を基準として比べると，形式段落以外の各パッセージ検索では，セット1の方がセット2よりも全体的に良い成績を収めている．
セット2には短い文書が含まれているのに対し，セット1は比較的長い文書によるセットであるため，この結果は，本来パッセージ検索は長い文書の方が有効であるという考えに概ね一致し，セット1の方がパッセージ検索の評価に向いていると考えられる．
よって，以降はセット1の結果である図[REF_fig:ex5]と図[REF_fig:ex6]について考察する．
パッセージ検索はキーワード検索とは異なる検索結果を示すことが期待できる．
パッセージ検索の効果として期待されるのは，次の3点である．
キーワード検索とは異なる正解文書を上位に上げる．
キーワード検索で上位にランクされる正解文書をより上位に上げる．
キーワード検索で上位にランクされる不正解文書を下位に下げる．
逆に，悪影響を及ぼす可能性があるのは，次の3点である．
キーワード検索とは異なる不正解文書を上位に上げる．
キーワード検索で上位にランクされる不正解文書をより上位に上げる．
キーワード検索で上位にランクされる正解文書を下位に下げる．
当然のことながら，パッセージ検索がキーワード検索を上回る精度を得るためには，パッセージ検索による効果が悪影響を上回る必要がある．
その意味で図[REF_fig:ex5]の実験結果では悪影響の方が強く出たと考えられる．
しかし，キーワード検索との精度の差がパッセージ検索の優劣を直接示すことにはならない．
パッセージ検索で上位に位置する文書集合がキーワード検索によるものとどのくらい異なるかという点と，集合内で上記効果と悪影響がどのような割合で見られるかという点に注目する必要がある．
パッセージ検索とキーワード検索では，有効に働く文書が異なると考えられるため，パッセージ検索によってキーワード検索とは異なる正解文書の順位を上げ，不正解の文書の順位を下げることができていれば，統合によって全体的な精度を向上させる可能性が高いからである．
そこで，セット1で，各パッセージ検索結果の上位(10位以内)，下位(11位〜26位以内)，圏外(27位以下)にランクされる文書をキーワード検索の結果と比較すると次のような傾向が見られた．
上位の文書集合がキーワード検索の結果と異なる割合いは，シソーラス，共起，同一ターム，形式段落の順に高い．
ウィンドウ型では，順位にほとんど変化が見られずキーワード検索とほぼ同じ文書を同じ順位で選択している．
キーワード検索で下位または圏外にある正解文書を上位に上げる割合(正の働き)は，共起，同一ターム，シソーラス，形式段落の順に高い．
逆に，上位にある正解文書の順位を下げる割合(負の働き)は，形式段落，シソーラス，共起，同一タームの順に高かった．
不正解文書の順位を下げる割合(正の働き)は，上位どうしでは形式段落が高いが，上位から下位，圏外へ下げる割合は，シソーラス，共起，同一ターム，形式段落の順に高い．
逆に，不正解文書の順位を上げる割合(負の働き)は，上位どうしでは，形式段落が高く，下位，圏外から上位へは，シソーラス，形式段落，同一ターム，共起の順に高い．
上記の結果から各パッセージ検索について次のような特徴が言える．
ウィンドウ型は検索される文書集合や順位がキーワード検索とほとんど同じである．
形式段落型は比較的狭い範囲で文書の順位が入れ換わっており，上位および下位の文書集合はキーワード検索とそれほど変わらない．
3タイプの語彙的連鎖型は，他のパッセージ検索に比べて上位にランクされる文書集合が異なる割合が高い．
しかし，シソーラスと同一タームによる語彙的連鎖型は，不正解文書が上位に含まれる割合も高い．
一方，共起による語彙的連鎖型では，上位に正解文書が含まれる割合も他の2つの語彙的連鎖型に比べて高い．
以上の特徴から，共起による語彙的連鎖型のパッセージ検索が，キーワード検索との統合によって精度を向上する可能性がもっとも高い手法であるといえる．
次にパッセージ検索で選択されたパッセージのサイズについて考察する．
表[REF_tab:bestparam]に示すように，選択されたパッセージの長さは各パッセージ検索手法によって異なっている．
ウィンドウ型では260語が最適だった．
これはほとんどの文書よりも大きく，パッセージの単位は文書全体とほぼ同じである．
このことから今回の実験で，ウィンドウ型では有意なパッセージサイズを決定できていないと考えられる．
形式段落では平均パッセージ長が43.4語であった．
これは1段落当りの平均長28.2語よりも大きいが語彙的連鎖型に比べて小さい．
また標準偏差を見るとサイズのばらつきも小さい．
語彙的連鎖型では平均パッセージ長が共起，同一ターム，シソーラスの順に大きく，ばらつきも大きい．
形式段落で選択されるパッセージ長は小さく，変化が少ないのに対して，語彙的連鎖では検索要求や文書によって選択されるパッセージの長さが大きく変化しており，語彙的連鎖型の方が柔軟なパッセージサイズを設定していると考えられる．
3タイプの語彙的連鎖型パッセージ検索の比較では，共起によるものがキーワード検索に近い適合率，再現率を得ている．
他の2つは共起の場合よりも適合率，再現率ともにかなり低い．
語彙的連鎖型パッセージでは生成する語彙的連鎖の良否が精度に大きく関連する．
シソーラスの分類を基に連鎖を計算する場合は，分類が粗過ぎるためシソーラス上では同一概念にあるが文書中ではあまり関連のないタームを含む可能性がある．
このような連鎖がノイズになった可能性がある．
逆に同一タームの反復を基に計算する場合は，連鎖を生成する基準が細か過ぎて文書中では関連があるが異なる表層形式をしたタームを連鎖に含めることができない．
このため良い連鎖を得ることができなかった可能性がある．
一方，タームの共起を基に計算する場合は，検索対象の文書に近いデータをコーパスとして使用したため，関連の高いタームによってうまく語彙的連鎖を生成できたと考えられる．
実際に，キーワード検索との統合結果である図[REF_fig:ex6]において，ウィンドウ型の統合にはほとんど変化が見られない．
また，形式段落型では単独の場合よりも適合率，再現率が向上しているが，キーワード検索単独の場合に比べ，統合によって精度が向上しているとは言えない．
また，シソーラスと同一タームによる語彙的連鎖型の場合も，統合によって単独の場合より適合率，再現率が向上しているものの，キーワード検索単独の場合を上回っていない．
一方，タームの共起関係による語彙的連鎖型では，統合によって良い精度を示すことができている．
以上のことから，共起による語彙的連鎖に基づくパッセージ検索が最も優れたパッセージ検索であるため，文書全体の検索との統合によって，高い精度を得ることができたと言える．
前節までで述べた我々のパッセージ検索の有効性を調べるため，伝統的な文書全体によるキーワード検索(以下，キーワード検索)，パッセージ検索として代表的である形式段落に基づくパッセージ検索およびウィンドウに基づくパッセージ検索と，我々の語彙的連鎖に基づくパッセージ検索による比較実験を行う．
また，各パッセージ検索を単独で行う場合とパッセージ検索とキーワード検索を組み合わせた場合の比較も行う．
実験には，『情報検索システム評価用テストコレクションBMIR-J2』[CITE]を使用する．
BMIR-J2は，対象文書5080件(1994年の毎日新聞から選択した経済および工学，工業技術一般に関連する記事)，検索要求50種と対応する正解がセットとなっているテストコレクションである．
50の検索要求には5種類の機能分類がされており，研究課題に応じて使用する検索要求を選ぶことが出来るようになっている．
また，正解判定にはA，Bの2ランクがあり，Aは検索要求を主題とする記事，Bは検索要求の内容を少しでも記述している記事をそれぞれ表わしている．
パッセージ検索は，文書中で強く関連する部分を取り出すという性質から，本研究の正解判定には，主題を表わすAランクを使用する．
また，パッセージ検索は特に長い文書で有効であると考えられるため，全5080件の内比較的長い文書として1600バイト以上の文書904件を選択したセット(セット1)を使用する．
また，5080件全てを使用するセット2による実験も行う．
検索要求は全50の内，数値・レンジ機能および知識処理機能を必要とする検索要求以外の検索要求から，セット1において正解文書数が5文書を越える検索要求をすべて選択して使用する．
本研究では，後述するように評価尺度として再現率と適合率を使用する．
このような評価尺度を用いる場合，正解文書数の少ない検索要求を使用すると統計的な信頼性が低下する．
そのため，本実験で使用するテストコレクションにおいて信頼性の基準とされている5文書以上の正解を持つ検索要求だけを使用することにした．
また，各文書には見出しが付いているが，本文と合せて1つの文書として扱う．
テストコレクションの特徴を表[REF_tab:collection]にまとめる．
次に本研究で実装した各検索手法について説明する．
すべての手法において，文書を形態素解析し，名詞，動詞，形容詞を取り出しインデキシング用のタームとする．
また，パッセージ検索では同一文書内で検索要求とマッチするパッセージが複数ある場合には，類似度が最大のものを選択し検索要求と各文書の類似度として使用する．
1つの文書内のターム[MATH]の重みは，タームの文書内の出現頻度[MATH]およびタームの文書集合全体での出現文書頻度の逆数[MATH]に基づく一般的な[MATH]の式([REF_equ:tfidf])により計算し，文書をタームの重みつきベクトル[MATH]で表現する．
ここで，[MATH]は文書内でのターム[MATH]の出現頻度，[MATH]は全文書数，[MATH]はターム[MATH]が出現する文書の数である．
検索要求ベクトル[MATH]と文書ベクトル[MATH]との間の類似度は次式で計算する．
ここで，[MATH]は検索要求内のターム[MATH]の検索要求内の頻度である．
このタイプのパッセージ検索では，見出しと形式段落をそれぞれ1つのパッセージとして扱う．
パッセージ毎の各タームの重要度は式([REF_equ:tfidf])と同様であり，検索要求とパッセージの類似度は式([REF_equ:normsim])と同様であるが，[MATH]はパッセージ内に出現するターム[MATH]の数，[MATH]は全段落数であり，[MATH]はターム[MATH]の出現する段落の数となる．
セット1(904文書)は，7949段落に分割され，1文書平均8.8段落であり，1段落当り平均28.2タームである．
セット2(5080文書)は，31904段落に分割され，1文書平均6.3段落であり，1段落当り平均27.9タームである．
サイズ[MATH]の固定長ウィンドウによりパッセージを作る．
Callanの手法[CITE]と同様に，検索要求にマッチするタームが最初に出現した位置から走査を開始し，[MATH]ずつウィンドウをずらしながらクエリーとの類似度を計算する．
ウィンドウ内のタームの重要度は式([REF_equ:tfidf])と同様であり，各ウィンドウと検索要求の類似度は式([REF_equ:normsim])で計算されるが，[MATH]はウィンドウ内に出現するターム[MATH]の数となる．
本研究では，ウィンドウのサイズを，[MATH]までの範囲で20刻みに設定しそれぞれのサイズで実験を行う．
本研究で用いたほとんどの文書データにおいて，文書全体となる値である300をウィンドウサイズの上限とした．
[REF_sec:lexchain]節で述べた手法により語彙的連鎖を計算し，[REF_sec:ourpassage]節で述べた手法によりパッセージと各検索要求の類似度を計算する．
検索要求との類似度が最大のパッセージを検索要求と関連の高いパッセージとし，その類似度を検索要求と文書の類似度とする．
ここで，[MATH]は式([REF_equ:passcr])によって求められる．
[REF_ssec:lexselect]節で述べたように，語彙的連鎖に基づくパッセージでは，有意な連鎖を選択するための2つの制約，ギャップ長の制約と連鎖長の制約を課す．
今回の実験では，両制約とも閾値を文書内のターム数の[MATH]の4通りに変化させ[MATH]通りの組み合わせを用いて実験する．
連鎖長，ギャップ長は，文書内のターム数に対してどのくらいの割合になるかを考慮して，長めである[MATH]から短かめである[MATH]までの範囲とした．
また，タームの共起スコアに基づく語彙的連鎖の計算では，[REF_ssec:cooccurrence]節で述べたように，連鎖の決定に共起スコアの閾値を用いる．
今回の実験では，[MATH]の各閾値について連鎖を計算して実験を行う．
この閾値は，予備的な語彙的連鎖構成実験により，[MATH]より小さいとまとまり過ぎ，[MATH]より大きいと細かくなり過ぎる傾向が見られたため，この範囲に決定した．
なお，共起スコアの計算では大規模なコーパスが必要となるため，テストコレクションと同じ毎日新聞94年の記事1年分(約10万記事)を使用する．
形式段落，ウィンドウおよび語彙的連鎖に基づくパッセージ検索とキーワード検索とを統合した検索を行う．
数多くの統合手法が考えられるが，本研究では次の統合手法を実装して実験を行う．
検索要求[MATH]に対する文書[MATH]のキーワード検索，パッセージ検索における類似度を，それぞれの最大の類似度で割って正規化し足し合わせた値を[MATH]の類似度として計算する．
ここで，[MATH]は[REF_subsec:keyword]節で述べたキーワード検索による文書[MATH]の類似度であり，[MATH]はキーワード検索の中で検索要求[MATH]との類似度が最大の文書の類似度である．
[MATH]はパッセージ検索による文書[MATH]の類似度であり，[MATH]はパッセージ検索の中で検索要求[MATH]との類似度が最大の文書の類似度を表わす．
パッセージ検索の類似度は，形式段落型を使用する場合は[REF_subsec:formpara]節，ウィンドウ型は[REF_subsec:window]節，語彙的連鎖型は[REF_subsec:lexpas]節で述べた手法によりそれぞれ計算する．
この統合手法では，パッセージとキーワードでの検索の両方の類似度が相対的に高い文書が上位にランクされる．
前節の4つの検索手法を使用して以下の組み合わせで実験を行う．
キーワード検索(document)
形式段落に基づくパッセージ検索(formpara)
固定長ウィンドウに基づくパッセージ検索(window)
語彙的連鎖に基づくパッセージ検索
同一タームの反復による語彙的連鎖(repetition)
シソーラスによる語彙的連鎖(thesaurus)
共起タームによる語彙的連鎖(cooccurrence)
(1)と(2)の組み合わせ(formpara_doc)
(1)と(3)の組み合わせ(window_doc)
(1)と(4)の組み合わせ
(1)と(4-a) (repetition_doc)
(1)と(4-b) (thesaurus_doc)
(1)と(4-c) (cooccurrence_doc)
評価尺度には，再現率([MATH])と適合率([MATH])を使用する．
[MATH]は全正解文書の内，システムによって正しく検出された文書の割合を示す．
[MATH]はシステムが関連すると判断した文書の内，実際に正解文書であるものの割合を示す．
[MATH]，[MATH]は次式で表わされる．
但し，各検索要求に対するシステムの出力を上位[MATH]位までとする．
本研究では，[MATH]を上位2位から26位まで2文書刻み([MATH])にし各[MATH]の時点で全検索要求による適合率，再現率の平均を計算する．
実験結果を図[REF_fig:ex5]から図[REF_fig:ex8]に示す．
図[REF_fig:ex5]と[REF_fig:ex6]はセット1の結果であり，図[REF_fig:ex7]と図[REF_fig:ex8]はセット2の結果である．
図[REF_fig:ex5]と図[REF_fig:ex7]は，各パッセージ検索単独と文書全体の検索の結果である．
図[REF_fig:ex6]と図[REF_fig:ex8]は，各パッセージ検索とキーワード検索の統合手法の結果である．
また，前節までで述べた各検索実験にはさまざまなパラメータが存在しているが，各[MATH]における平均適合率が最大になる場合を最適なパラメータ値であると推定した．
パッセージ検索の主な効果としては，キーワード検索に比べ適合率を向上させることが期待される．
そのため，パラメータ値の推定には再現率を考慮せず，適合率のみを考慮した．
図[REF_fig:ex5]から図[REF_fig:ex8]には，最も良かった場合の結果を示している．
最も良い結果が得られた各パラメータの値と，その際の平均パッセージサイズおよびパッセージサイズの標準偏差を表[REF_tab:bestparam]に示す．
パッセージ検索単独では，セット1の場合(図[REF_fig:ex5])，ウィンドウ型がキーワード検索単独とほぼ同じであり，形式段落，語彙的連鎖のパッセージの中では共起による語彙的連鎖型が一番良いものの，キーワード検索単独を上回る精度を得られなかった．
また，セット2(図[REF_fig:ex7])の場合も，セット1の時ほどはっきりした差はないが，概ね同様の結果であった．
一方，キーワード検索との統合による結果では，セット1の場合(図[REF_fig:ex6])，共起による語彙的連鎖型のパッセージ検索によって，多くの部分でキーワード検索単独を上回る良い適合率および再現率を得た．
形式段落型と他の語彙的連鎖型パッセージ検索では，単独の場合よりも統合することによって適合率，再現率が向上したもののキーワード検索単独の結果を上回ることができなかった．
ウィンドウ型は統合によってもキーワード検索単独の結果とほぼ同じであった．
また，セット2(図[REF_fig:ex8])の場合も，セット1の時より差が少ないが，共起による語彙的連鎖型のパッセージ検索により，多くの部分でキーワード検索単独を上回る結果を得た．
結果的にセット1で共起による語彙的連鎖に基づくパッセージ検索とキーワード検索を統合する場合に，最も高い適合率，再現率が得られた．
特に検索文書数が少ない段階での差は顕著であり，上位10位までの文書を見ると，キーワード検索単独では適合率約34%，再現率約53%であるのに対し，統合により適合率約40%，再現率約64%を得ている．
セット1とセット2の結果をキーワード検索を基準として比べると，形式段落以外の各パッセージ検索では，セット1の方がセット2よりも全体的に良い成績を収めている．
セット2には短い文書が含まれているのに対し，セット1は比較的長い文書によるセットであるため，この結果は，本来パッセージ検索は長い文書の方が有効であるという考えに概ね一致し，セット1の方がパッセージ検索の評価に向いていると考えられる．
よって，以降はセット1の結果である図[REF_fig:ex5]と図[REF_fig:ex6]について考察する．
パッセージ検索はキーワード検索とは異なる検索結果を示すことが期待できる．
パッセージ検索の効果として期待されるのは，次の3点である．
キーワード検索とは異なる正解文書を上位に上げる．
キーワード検索で上位にランクされる正解文書をより上位に上げる．
キーワード検索で上位にランクされる不正解文書を下位に下げる．
逆に，悪影響を及ぼす可能性があるのは，次の3点である．
キーワード検索とは異なる不正解文書を上位に上げる．
キーワード検索で上位にランクされる不正解文書をより上位に上げる．
キーワード検索で上位にランクされる正解文書を下位に下げる．
当然のことながら，パッセージ検索がキーワード検索を上回る精度を得るためには，パッセージ検索による効果が悪影響を上回る必要がある．
その意味で図[REF_fig:ex5]の実験結果では悪影響の方が強く出たと考えられる．
しかし，キーワード検索との精度の差がパッセージ検索の優劣を直接示すことにはならない．
パッセージ検索で上位に位置する文書集合がキーワード検索によるものとどのくらい異なるかという点と，集合内で上記効果と悪影響がどのような割合で見られるかという点に注目する必要がある．
パッセージ検索とキーワード検索では，有効に働く文書が異なると考えられるため，パッセージ検索によってキーワード検索とは異なる正解文書の順位を上げ，不正解の文書の順位を下げることができていれば，統合によって全体的な精度を向上させる可能性が高いからである．
そこで，セット1で，各パッセージ検索結果の上位(10位以内)，下位(11位〜26位以内)，圏外(27位以下)にランクされる文書をキーワード検索の結果と比較すると次のような傾向が見られた．
上位の文書集合がキーワード検索の結果と異なる割合いは，シソーラス，共起，同一ターム，形式段落の順に高い．
ウィンドウ型では，順位にほとんど変化が見られずキーワード検索とほぼ同じ文書を同じ順位で選択している．
キーワード検索で下位または圏外にある正解文書を上位に上げる割合(正の働き)は，共起，同一ターム，シソーラス，形式段落の順に高い．
逆に，上位にある正解文書の順位を下げる割合(負の働き)は，形式段落，シソーラス，共起，同一タームの順に高かった．
不正解文書の順位を下げる割合(正の働き)は，上位どうしでは形式段落が高いが，上位から下位，圏外へ下げる割合は，シソーラス，共起，同一ターム，形式段落の順に高い．
逆に，不正解文書の順位を上げる割合(負の働き)は，上位どうしでは，形式段落が高く，下位，圏外から上位へは，シソーラス，形式段落，同一ターム，共起の順に高い．
上記の結果から各パッセージ検索について次のような特徴が言える．
ウィンドウ型は検索される文書集合や順位がキーワード検索とほとんど同じである．
形式段落型は比較的狭い範囲で文書の順位が入れ換わっており，上位および下位の文書集合はキーワード検索とそれほど変わらない．
3タイプの語彙的連鎖型は，他のパッセージ検索に比べて上位にランクされる文書集合が異なる割合が高い．
しかし，シソーラスと同一タームによる語彙的連鎖型は，不正解文書が上位に含まれる割合も高い．
一方，共起による語彙的連鎖型では，上位に正解文書が含まれる割合も他の2つの語彙的連鎖型に比べて高い．
以上の特徴から，共起による語彙的連鎖型のパッセージ検索が，キーワード検索との統合によって精度を向上する可能性がもっとも高い手法であるといえる．
次にパッセージ検索で選択されたパッセージのサイズについて考察する．
表[REF_tab:bestparam]に示すように，選択されたパッセージの長さは各パッセージ検索手法によって異なっている．
ウィンドウ型では260語が最適だった．
これはほとんどの文書よりも大きく，パッセージの単位は文書全体とほぼ同じである．
このことから今回の実験で，ウィンドウ型では有意なパッセージサイズを決定できていないと考えられる．
形式段落では平均パッセージ長が43.4語であった．
これは1段落当りの平均長28.2語よりも大きいが語彙的連鎖型に比べて小さい．
また標準偏差を見るとサイズのばらつきも小さい．
語彙的連鎖型では平均パッセージ長が共起，同一ターム，シソーラスの順に大きく，ばらつきも大きい．
形式段落で選択されるパッセージ長は小さく，変化が少ないのに対して，語彙的連鎖では検索要求や文書によって選択されるパッセージの長さが大きく変化しており，語彙的連鎖型の方が柔軟なパッセージサイズを設定していると考えられる．
3タイプの語彙的連鎖型パッセージ検索の比較では，共起によるものがキーワード検索に近い適合率，再現率を得ている．
他の2つは共起の場合よりも適合率，再現率ともにかなり低い．
語彙的連鎖型パッセージでは生成する語彙的連鎖の良否が精度に大きく関連する．
シソーラスの分類を基に連鎖を計算する場合は，分類が粗過ぎるためシソーラス上では同一概念にあるが文書中ではあまり関連のないタームを含む可能性がある．
このような連鎖がノイズになった可能性がある．
逆に同一タームの反復を基に計算する場合は，連鎖を生成する基準が細か過ぎて文書中では関連があるが異なる表層形式をしたタームを連鎖に含めることができない．
このため良い連鎖を得ることができなかった可能性がある．
一方，タームの共起を基に計算する場合は，検索対象の文書に近いデータをコーパスとして使用したため，関連の高いタームによってうまく語彙的連鎖を生成できたと考えられる．
実際に，キーワード検索との統合結果である図[REF_fig:ex6]において，ウィンドウ型の統合にはほとんど変化が見られない．
また，形式段落型では単独の場合よりも適合率，再現率が向上しているが，キーワード検索単独の場合に比べ，統合によって精度が向上しているとは言えない．
また，シソーラスと同一タームによる語彙的連鎖型の場合も，統合によって単独の場合より適合率，再現率が向上しているものの，キーワード検索単独の場合を上回っていない．
一方，タームの共起関係による語彙的連鎖型では，統合によって良い精度を示すことができている．
以上のことから，共起による語彙的連鎖に基づくパッセージ検索が最も優れたパッセージ検索であるため，文書全体の検索との統合によって，高い精度を得ることができたと言える．
