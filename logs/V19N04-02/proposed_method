評価基準の共通性に関する調査

\begin{figure}[b]
	\begin{center}
	\includegraphics{19-4ia2f1.eps}
	\end{center}
	\caption{各評価者の評点当たりの事例数（$x$軸は評点，$y$軸は小論文の事例数）}
	\label{fig:1}
\end{figure}

図\ref{fig:1}，表\ref{table:Kappa}，表\ref{table:AveAndSD}に同一の文章群に対する複数人の手による評価結果の例を示す．
これは宇佐美の小論文評価に関する研究\cite{Usami2011}の中で示された，高校生による584編の小論文データとそれを4人の国語教育専門家が評価した結果のデータから，評点当たりの事例数とその分布や一致具合をまとめたものである．評価は特定の観点に沿ったものではなく総合的なもので，10段階の絶対評価により施される．評点は10点が最高点，1点が最低点である．

\begin{table}[t]
\caption{評価者間での評点の$\kappa$係数}
\label{table:Kappa}
\input{02table01.txt}
\end{table}
\begin{table}[t]
\caption{各評価者の評点分布の平均と標準偏差}
\label{table:AveAndSD}
\input{02table02.txt}
\end{table}

Krippendorffの考察\cite{Krippendorff1980}によれば，あるデータ間の$\kappa$係数が0.7未満の場合，両データの関連を示すことは困難であることが多いとされる．表\ref{table:Kappa}において評点の$\kappa$係数は全評価者間で0.7を下回っている．また，表\ref{table:AveAndSD}と図\ref{fig:1}より，評点の分布にも異なりが認められる．このことから，本例においては評価者の評価基準が共通のものであるとはいい難い．以上の結果から本研究では，全評価者の評点をまとめた点数ではなく，個々の評価者の評点を再現する評価モデルを推定する方針をとり，前述した10段階で評価する小論文試験の設定に沿って評価行為を模倣する．


評価モデルの学習

\subsection{自動評価の定式化と学習の手法}

文章の自動評価は，入力となる文章についての評点が出力となる．この評点は，順序関係を持った個別のクラスとみなすことができる．そこで本研究では，自動評価を，全順序関係にある多クラスに分類されたスコアを回帰的に推定する問題として定式化し，Support Vector Regression (SVR) を用いて評点の予測を行う．

SVRを用いて全順序関係にある多クラスに分類されたスコアを回帰的に推定する先行研究には，岡野原らの研究\cite{OkanoharaTsujii2007}がある．岡野原らは，評判分類タスクを順序付き多クラス分類問題として定式化した上で，レビューが評価対象に与える評価の度合を二極指標（実数値）で表す手法を提案している．また，SVRの回帰係数の絶対値がモデル上での重要さに相関することを用いて，レビュー記事の評価決定に重要と思われる表現を導出する手法を提案している．この中で岡野原らは，（順序関係を考慮しない）多クラス分類問題を解く分類器であるpairwise Support Vector Machine (pSVM) \cite{Kresel1999}とSVRの間で，順序付き多クラス分類問題に対する適合性を比較している．その結果，SVRがより高い精度で分類を行うことが示されている．pSVMは，予測クラスを間違えた際のペナルティに全クラス間で差が無いため，SVRに比べて分類モデルに大きな誤差を含む可能性が高いと思われる．


\subsection{システムで採用した素性}

評価者は，様々な言語的要素について文章を捉えて評価を行った上で，その判断結果を評点として数値化する．本研究ではこの過程を国語教育で参照される言語的要素を素性にとってモデル化する．

学校教育上考えられる様々な試験を想定して，それらで参照される言語的要素をマージし，素性として扱う．評価対象文章から自動的にそれぞれの素性値を算出する．得られる数値は，SVRの素性として評価モデルの訓練に用いられる．以下，提案手法において素性として用いる言語的要素を，説明の分かり易さのためカテゴリ毎に列挙した上で，一部の素性についてその詳細を述べる．本研究において独自に設定した素性については，素性名の末尾に (*) を付す．


\subsubsection{カテゴリ「表層」の素性群}

文字数や文数，字種などの表層的特徴に関する素性を表\ref{table:FV}\footnote{
	FV8-13は，当該文字種の文字数を，総文字数で割った値とする．}
に列挙し，特にFV2について説明する．この群の素性は，主に，文章の形式面の妥当性についての評価に役立つ．国語教育上扱われる事項に関連する素性として， FV2は「目的や意図に応じて簡単に書いたり詳しく書いたりする」\cite{MonbuKagakuSho2008}という事項に， FV10は「習得した漢字を使用して記述する」という事項にそれぞれ関連する．

\begin{table}[b]
\caption{カテゴリ「表層」の素性群}
\label{table:FV}
\input{02table03.txt}
\vspace{-1\Cvs}
\end{table}

\begin{indent1zw}
{\textbf {\underline{FV2}}}：文字数制限には，(I)「〜字以上」，(II)「〜字以内」，(III)「〜字程度」の3種類が存在する．制限（指定）文字数を $r$，評価対象文章の文字数を $n$ としたとき，下記のように達成度 $d$ を算出することにする．ただし，(I)(II)については制限が守られなかった場合，達成度を 0 とする．
\begin{align*}
 \mbox{(I)}:\ &d=1\quad \mbox{(II)}: d=n/r \\
 \mbox{(III)}:\ &d=
  \begin{cases}
	\frac{n}{r}, & n\leq r\\
	\frac{2r-n}{r}, & n > r
  \end{cases}
  \mbox{（バートレッド窓関数の変形）}
\end{align*}

{\textbf {\underline{FV7}}}：文は長くなるほど，内部の係り受け関係に曖昧さを生じやすいとされており\cite{Morioka1963}，これを用いる．
\end{indent1zw}


\subsubsection{カテゴリ「語」の素性群}

単語\footnote{
	本研究では，形態素解析による出力単位を単語として扱う．}
（特に自立語）の用法や品詞，記法に関する素性を表\ref{table:FW}\footnote{
	これらの素性の素性値は，当該語の延べ数を全自立語の数で割った値とする．このとき複合名詞は一つの自立語として数える．}
に列挙する．国語教育上扱われる事項に関連する素性として，FW3，FW4，FW5は「表現の効果などについて確かめたり工夫したりすること」\cite{MonbuKagakuSho2008}という事項に， FW10は「文章内で数字の表記法を統一する」という事項にそれぞれ関連する．

\begin{indent1zw}
{\textbf {\underline{FW2}}}：自立語の異なり数（タイプ数）を延べ数（トークン数）で割った値とする．ただし用言については活用形を計数の考慮に入れず，異なり数，延べ数ともにその用言の原形を数える．

{\textbf {\underline{FW4}}}：オノマトペは副詞に分類される．しかし，論説文におけるオノマトペの使用は特に着目されることが多いと考えられるため，副詞とは別途に扱う．
\end{indent1zw}

\begin{table}[b]
\caption{カテゴリ「語」の素性}
\label{table:FW}
\input{02table04.txt}
\end{table}


\subsubsection{カテゴリ「文体」の素性群}

文末の形式や文内で用いられる文体等に関する素性を表\ref{table:FF}に列挙する．国語教育上扱われる事項に関連する素性として，FF1，FF9は「表現の効果などについて確かめたり工夫したりすること」\cite{MonbuKagakuSho2008}
という事項に，FF7は「文章の敬体と常体の違いに注意しながら書くこと」\cite{MonbuKagakuSho2008}という事項に，FF10は「話し言葉と書き言葉との違いに気付くこと」\cite{MonbuKagakuSho2008}という事項にそれぞれ関連する．

\begin{indent1zw}
{\textbf {\underline{FF4}}}：述語が“名詞句＋断定の助動詞（「だ」「である」「です」等）”で構成される文の出現数を，文の総数で割った値とする．

{\textbf {\underline{FF7}}}：文中の助動詞に着目し，文体が一貫している場合は0，混用が認められる場合は 1 を素性値とする．

{\textbf {\underline{FF8}}}：式 $-\log (n/N)$ により算出する．ただし，$n$ は文の最終文節の表記異なり数，$N$ は文の総数とする．
\end{indent1zw}

\begin{table}[b]
\caption{カテゴリ「文体」の素性}
\label{table:FF}
\input{02table05.txt}
\end{table}
\begin{table}[b]
\caption{カテゴリ「係り受け」の素性群}
\label{table:FD}
\input{02table06.txt}
\end{table}



\subsubsection{カテゴリ「係り受け」の素性群}

同一表層格の多用や文節間の修飾関係の複雑さを捉える素性を表\ref{table:FD}に列挙する．これらの素性は，主に係り受けの適切さに関わる素性である．国語教育上扱われる事項に関連する素性として，FD1〜4，FD16は「一文の意味が明確になるように語と語の続き方を考える」
\cite{MonbuKagakuSho2008}
という事項，FD5〜8は「文の中における主語と述語との関係に注意すること」\cite{MonbuKagakuSho2008}
という事項にそれぞれ関連する．

\begin{indent1zw}
\textbf{\underline{\mbox{FD6, FD7}}}：格助詞「ガ」，係助詞「ハ」を付属語に持つ文節が文中に出現する回数の最大値を素性値とする．文中で同じ助詞を繰り返し使用することで，文の表す内容が不明瞭になる場合がある\cite{Iwabuchi1979}．

例：
英語の早期教育\underline{が}もたらす効果\underline{が}測れないうちに実行に移すこと\underline{が}問題であることは，言うまでもない．

\textbf{\underline{\mbox{FD14, FD15}}}：一文中における名詞文節の出現回数を用言の出現回数で割った値を全文について平均した値，またその分散を素性値とする．

\textbf{\underline{FD16}}：一文中で，用言の連用形や接続助詞等によって文が途中で中止される回数の最大値を素性値とする．中止法の多用は，係り受け関係を曖昧にする原因となりうる\cite{Iwabuchi1979}．
\end{indent1zw}


\subsubsection{カテゴリ「文章のまとまり」の素性群}

文章のまとまりに関する性質として，「テキスト一貫性」\cite{TakuboEtc2004}と「テキスト結束性」\cite{HallidayHasan1976}が挙げられる．テキスト一貫性は，概念や事象の間の意味的なつながりの良さを指す．テキスト一貫性は，隣り合う二文間における一貫性を示す「局所的な一貫性」と，文章全体での話題遷移の一貫性を示す「大域的な一貫性」に区別できる．一方テキスト結束性は，意味的なつながりではなく，文法的なつながりの良さを指す．Barzilayら\cite{BarzilayLapata2008}は，局所的な一貫性のモデルとして「entity gridモデル」{\kern-0.5zw}\footnote{
	文を行，文章中の語句要素を列，文における語句要素の構文役割を成分とする行列を用いて，語句要素の分布パターンを表現するモデル．行列から構文役割の遷移確率と構文役割の出現確率を成分とするベクトルを導出し，局所的一貫性の評価等に用いる．表\ref{table:FC}のFC1〜FC120は，構文役割についての2-gram生起確率に対応する．}
を提案している．横野ら\cite{YokonoOkumura2010}は，結束性に寄与する要素\footnote{
	Hallidayら\cite{HallidayHasan1976}は，参照，接続，語彙的結束性，省略を挙げている．}
をentity gridモデルに組み込むことで，結束性と局所的一貫性を同時に捉えるモデルを提案している．

\begin{table}[b]
\caption{カテゴリ「文章のまとまり」の素性群}
\label{table:FC}
\input{02table07.txt}
\end{table}

横野らは，結束性を考慮する目的で既存手法に下記の手法を組み込んでいる．

\begin{enumerate}
\item[i.] 語句要素の文間遷移確率の計算に文間の接続関係の考慮を加え，接続関係の種類別に遷移確率を計算する．
\item[ii.] 意味的な類似性に基づいて語句要素のクラスタリングを行う．
\item[iii.] 参照表現が正しく機能している割合を素性として導入する．
\end{enumerate}

また，Barzilayらのentity gridにおいて扱われる構文役割は4種類（S: 主語，O: 目的語，X: その他，---: 出現せず）であるが，横野らは構文役割の体系を日本語に特化する目的で，2 種類の構文役割（H: 主題，R: 述部要素）を加えている．

本研究では，文章のまとまりについての特徴を捉える目的に，横野らのモデルに基づいた素性を用いる（表\ref{table:FC}）．ただし，FC122のみ筆者らが独自に設定する素性である．接続関係の分類・同定方法，語句要素が持つ構文役割の同定方法，参照表現が機能している割合の導出方法は，それぞれ横野らの方法に従う．類似性に基づいた語句要素のクラスタリングについては，EDR電子化辞書\cite{NihonDenshikaJishoKenkyujo2010}
の日本語単語辞書内で同一の概念識別子を持つ語句要素を同じクラスタとして扱う．クラスタの持つ構文役割は，$\text{H}>\text{S}>\text{O}>\text{R}>\text{X}$という優先順位(cf., \cite{WalkerIidaCote1994})に基づいて，クラスタ毎に一つの構文役割を決定する．また，考慮する遷移確率は文2-gramのみとする．国語教育上扱われる事項に関連する素性として，FC1〜121は「語と語や文と文との続き方に注意しながら，つながりのある文章を書くこと」\cite{MonbuKagakuSho2008}
という事項，FC122は「自分の考えを明確に表現するため，文章全体の構成の効果を考えること」
\cite{MonbuKagakuSho2008}
という事項にそれぞれ関連する．

\begin{indent1zw}
{\textbf {\underline{FC122}}}：並列的に展開して述べる接続関係が文章中に存在する場合に1，存在しない場合に 0 を素性値とする．並列的な接続を明示する特定の表現（人手で設定）の有無により，同定する．
\end{indent1zw}

\begin{table}[b]
\caption{結束性と局所的一貫性を同時に捉える entity grid の例}
\label{table:EntityGrid}
\input{02table08.txt}
\end{table}

\begin{iindent1zw}
以下に，FC1〜FC120の素性値の算出方法を示す．表\ref{table:EntityGrid}においてentity gridで表される文章は，文 1 と文2の間，文3と文4の間がそれぞれ論理的結合関係，文2と文3の間が多角的連続関係と捉えられている．語句要素 1 は文1で主題，文2で主語，文4でその他の構文役割として，語句要素2は文1と文3で目的語として捉えられている．

このとき，FC1〜36の素性値は以下のようにして求める．2文間での構文役割の遷移パターンは，合計36通り（「HH」「HS」「HO」…「R-」「X-」「--」）ある．論理的結合関係で接続する2文間では，合計4カ所の遷移箇所のうち，「HS」「-X」の遷移が1回ずつ，「O-」の遷移が2回出現している．従って，FC1〜FC36の素性のうち，「HS」と「-X」の遷移確率を表す素性の値は0.25，「O-」の遷移確率を表す素性の値は0.5となる．その他の33個の素性の値は全て0となる．FC37〜72の素性値も同様にして求め，「S-」と「-O」の遷移確率を表す素性の値は0.5，その他の34個の素性の値は全て0となる．拡充的合成関係の接続関係は文章中に出現しないので，FC73〜FC108の素性値は全て0となる．FC109〜FC114，FC115〜FC120はそれぞれ，文章始端と文章終端にダミー要素（始端をB，終端をE）を持つとした時の遷移パターン「BH」{\kern-0.5zw}〜{\inhibitglue}「B-」，「HE」{\kern-0.5zw}〜{\inhibitglue}「-E」の出現確率をFC1〜FC108と同様に算出した結果を値とする．
\end{iindent1zw}


\subsubsection{カテゴリ「モダリティ」の素性群}

松吉ら\cite{MatsuyoshiEtAl2010}は，
情報発信者の主観的な態度（モダリティ）に真偽判断や価値判断などの情報を統合した「拡張モダリティ」を提案し，体系化している．拡張モダリティは主に「態度表明者」，「相対時」，「仮想」，「態度」，「真偽判断」，「価値判断」の6項目から成る（文献\cite{MatsuyoshiEtAl2011}を参考にした）．
このうち態度\footnote{
	言語学における「表現類型のモダリティ」\cite{Masuoka1991}に相当する．}
と真偽判断について文の特徴を捉え，素性として扱う（表\ref{table:FM}）．国語教育上扱われる事項に関連する素性として，FM1〜8，FM12は「事実と感想，意見などとを区別すること」\cite{MonbuKagakuSho2008}という事項にそれぞれ関連する．

\begin{table}[b]
\caption{カテゴリ「モダリティ」の素性群}
\label{table:FM}
\input{02table09.txt}
\end{table}

松吉らは態度を8種類に，真偽判断を9種類に分類している．この分類に基づいて，機能表現辞書つつじ
\cite{MatsuyoshiEtAl2007}
に助動詞型機能表現として収録される機能表現と，分類語彙表
\cite{KokuritsuKokugoKenkyujo2004}
に「精神および行為／心」として収録される用言を手がかりにしたルールベース手法で，文の態度，真偽判断について分類を行う．ただし，真偽判断については，肯否極性とアスペクトに関する区別をせずに判断の程度（強さ）のみを扱うこととし，断定，推量，判断程度不明の3種類を扱う．これら拡張モダリティ体系に準拠する素性(FM1〜FM11)は全て，当該拡張モダリティカテゴリに分類される文が出現する回数を文の総数で割った値とする．

\begin{indent1zw}
{\textbf {\underline{FM12}}}：最終文節で思考動詞，知覚・感覚動詞が用いられる文の出現回数を文の総数で割った値を素性値とする．思考動詞，知覚・感覚動詞であるか否かの判断は，分類語彙表
\cite{KokuritsuKokugoKenkyujo2004}
を典拠とする．
\end{indent1zw}


\subsubsection{カテゴリ「内容」の素性群}

文章の内容（筆者により書かれた行動，出来事，状態）について，その正しさを意味面で判断することは，本研究の目的としない．その代わりに，与えられた論題に対して適合した語彙が使用されていることを捉えるための素性を用意する．論題に含まれる名詞と文章中の名詞が，EDR電子化辞書
\cite{NihonDenshikaJishoKenkyujo2010}
において同一の概念識別子を持つ，もしくは所属概念が直接の上位または下位関係にある場合，論題に適合する語彙として判断する．このように判断される語彙が文章中の全名詞中で占める割合を素性(FS1)とする．



\subsection{評価モデルの構築とそのための素性値の正規化}

SVRは，線形カーネルを使用して学習する場合，回帰係数 $w$ の成分値（以下，成分値）を参照することで，各素性がスコア推定モデルに寄与する度合を知ることができる．これにより，教師データにラベル（評点）をつけた評価者が，各素性に対して「どの程度の配分で評価していたか」，また「加点要素としたか減点要素としたか」を定量化することができる．前者は成分値の絶対値，後者は成分値の正負に着目することでそれぞれ明らかになる．この方法により個々の評価者の評価モデルにおいて重要な変量を明らかにする．

これらの特徴を素性間で比較する目的で，下記の2通りの方法で素性値を正規化する．

\begin{dingautolist}{192}
\item $x_{regularized}=(x_{original}-minX)/(maxX-minX)$ 
\item $x_{regularized}=(x_{original}-Q_{1})/(Q_{3}-Q_{1})$
\end{dingautolist}

$x_{original}$は任意の文章データにおける任意の素性の素性値，$X$ は全教師データにおける任意の素性の素性値の集合，$Q_{1}$ は集合$X$ 中の第 1 四分位値，$Q_{3}$ は集合$X$ 中の第 3 四分位値である．

\ding{"C0}は，全教師データ中の素性値が0から1の間に分布するように正規化する方法である．一方
\ding{"C1}は，全教師データの四分位数範囲に位置する素性値が0から1の間に分布するように正規化する方法である．



