\section{実験・評価}

\subsection{実験方法}

TREC6のドキュメントとトピックを用いて, GDMAX法を実験・評価する
\cite{trec,trec4}. TREC6 では, 図~\ref{topic1e}に示すように, トピック
と呼ばれる英語検索要求文が用意されている. それぞれのトピックには, 関連
があることが人手により確認されたリレバントドキュメントと呼ばれる正解デー
タが準備されている. 今回の実験では, 図~\ref{topic1j} に示すように, 英
語トピックと等価な日本語トピックを15作成した. つまり, 15の日本語トピッ
クに関しては, 英語ドキュメントのリレバントドキュメントが存在しており, 
この15の日本語トピックを入力として実験を行なう. トピックの内容は, 政治, 
経済, 科学, 社会的なもので, およそ, 50から100のタームのキュエリで表現さ
れる. 検索対象となる英語ドキュメントは, ウォールストリートジャナールや
AP通信などから抽出された約50万件の記事である. 

\begin{figure}[tb]
\vspace*{-4mm}
      \begin{center}
\epsfile{file=./topic1e.prn,height=5cm,width=8cm}
      \end{center}
  \caption{TREC 英語トピック例}
  \label{topic1e}
\end{figure} 

\begin{figure}[tb]
      \begin{center}
\epsfile{file=./topic1j.prn,height=5cm,width=8cm}
      \end{center}
  \caption{TREC 日本語トピック例}
  \label{topic1j}
\end{figure} 

訳語集合による検索の効果を確認するために, 英語トピックから生成したキュ
エリによる検索, 日本語キュエリの各タームの可能な英語訳語をすべて用いた
検索, 日本語キュエリの各タームの英語訳語を一つに絞った検索との比較を行
なう. 図~\ref{expenv} に示すように, 以下の4種類の方法で生成された英語
キュエリに関して, 実験・評価を行なう. 英語のキュエリタームの重みは, そ
れぞれのトピックに対するリレバントドキュメントを含むトレーニングデータ
から与える. 評価用のドキュメントには, トレーニングデータは含まない. 重
みの与え方としては, キュエリタームの全ドキュメント中の出現頻度とリレバ
ントドキュメント中の出現頻度に基づく対数尤度比を用いて行なう
\cite{trec4}. 検索は, ベクトル空間モデルを用いており, 重みつきのベクト
ルとして表現されたキュエリとドキュメントの内積を計算することでランキン
グする
\cite{trec}. 

\begin{figure}[tb]
      \begin{center}
\epsfile{file=./expenv2.prn,height=8cm,width=12cm}
      \end{center}
  \caption{実験環境}
  \label{expenv}
\end{figure}

\noindent {\bf ・理想訳語キュエリ (理想訳):}

キュエリタームは, 人手によって作成された英語タームである. TRECの英語ト
ピックから約50のストップワードを除外し, キュエリのタームとなる英単語を
抽出して生成した英語キュエリで, 理想訳として扱う. シソーラスや人手によ
るキュエリの拡張は行なわない. 

\noindent {\bf ・可能訳語キュエリ (可能訳):}

キュエリタームは, 日英対訳辞書による訳語すべてである. 日本語トピックは, 
形態素解析によって単語単位に分割され, 約50のストップワードを除く自立語
をタームとし, 日英機械翻訳システムの約5万語の一般辞書(対訳辞書)を用い
て, それぞれの日本語タームにリンクされた英語訳語すべてを可能訳としてキュ
エリタームとする. 

\noindent {\bf ・機械翻訳キュエリ (機械翻訳):}

キュエリタームは, 日英機械翻訳システムによって選択されたものである. 日
本語トピックは, 約5万語の一般辞書(対訳辞書)をもつ日英機械翻訳システム
によって英語に翻訳される. 英語に翻訳されたトピックは, 理想訳語キュエリ
生成と同様の手順で, 英語キュエリに変換される. 対訳辞書は, 可能訳語キュ
エリ生成に用いたものと同一のものである. 訳語を一つに絞る方法としては, 
機械翻訳システム以外に, 代表訳語によるもの, DMAX法などコーパスを用いる
方法などが考えられるが, ドメインに影響されずに安定した訳出を行なうルー
ルベースの機械翻訳システムを用いることとした. 

  \noindent {\bf ・GDMAXキュエリ (GDMAX):}  

キュエリタームは, GDMAX 法によって 日英対訳辞書から選択されたもの
である. 共起頻度データは, 図~\ref{datamake}に示すように, コンパラブル
コーパスと対訳辞書を用いて準備する. 日本語トピックは, 形態素解析によっ
て単語に分割され, 約50のストップワードを除く自立語をタームとして, すべ
ての2つのタームの文書内共起頻度を日本語コーパスにおいてカウントする. 日本語
タームは, 対訳辞書を用いて訳語となり得るすべての英語タームに変換する. 
対訳辞書は, 可能訳と機械翻訳に用いたものと同一のものである. 
日本語コーパスとコンパラブルな英語コーパスにおいて, 英語タームについて
も, すべての2つの組み合わせの文書内共起頻度をカウントする. 例えば, 図~
\ref{datamake}に示すように, 日本語ターム, 「危機」と「水」には, 英語ター
ムとして, それぞれ,  ``crisis, precipice, critical situation, pinch,
imminent danger, emergency'' と``water, aqua, plasma''が存在し, それぞ
れの組み合わせに対する共起頻度がカウントされる. 日本語キュエリと英語キュ
エリから共起頻度を成分とするベクトルを生成し, ベクトルの類似度計算によっ
て, 類似した英語キュエリを求める. 今回, ひとつのタームあたり平均3個程
の訳語となるように, 実験的にベクトルの類似性の閾値を0.85とした. この閾
値を越える共起頻度ベクトルをもつすべての英語キュエリを類似キュエリとし, 
類似キュエリのすべてのタームから構成されるキュエリを作成して検索を行な
う. 

\begin{figure*}[tb]
\vspace*{-6mm} 
     \begin{center}
\epsfile{file=./datamake.prn,height=8.2cm,width=14cm}
      \end{center}
  \caption{共起頻度データの作成フロー}
  \label{datamake}
\end{figure*}

\subsection{日英コンパラブルコーパス}

共起頻度データは, 50万記事ずつの日英コンパラブルコーパスから抽出する. 
コーパスは, ドメインとサイズに関して, 以下の点を考慮して収集した. 

  \noindent {\bf ・ドメイン:}

実験対象となるドメインが, 政治, 経済, 社会, 科学の分野であることから, 
これらの分野に関する新聞, 雑誌記事を収集する. コンパラブルコーパスを用
いることの利点の一つは, その収集しやすさであることから, ジャンルや話題
の一致などの特別な調整は行なわずに収集を行なう. ただし, 新聞記事の時間
情報に着目して, 日英ともに10年未満のものとし, 時間的な共有を図る. 
実験をオープンテストとするために, 検索対象となるドキュメント(TRECドキュ
メント)は, コーパスの中に含めない. 

\newpage

  \noindent {\bf ・サイズ:}

コンパラブルコーパス作成のために収集した記事の平均的サイズは, 日本語約
500文字, 英語約300単語であり, 共起頻度は記事毎にカウントする. コーパス
のサイズが小さく共起頻度データがスパースになると, GDMAXの有効性が低下
すると予想されるので, 共起頻度データが0となるタームの対が, 極力少なく
なるまでデータを収集する. データサイズは, 大きければ大きいほどデータス
パースネスの問題は解消されるが実験コストが大きくなる. 今回のトピックを
用いて実験するために, 9,815対の日本語キュエリタームの共起頻度データが
必要であり, 英語タームは, すべての訳語候補の組合せとして, 166,111対 の
共起頻度データが必要であった. 日英50万件の記事を収集した時点で, 頻度0
の日本語ターム対は96対, 英語ターム対は2,503対となった. ターム対総数に
対する0件のターム対の割合が, 日英ともに1〜2\%程度であり, 共起頻度0のター
ム対がほとんど増加しなくなったので, データスパースネスの問題は少ないと
判断し, かつ, 現実的に実験可能なサイズであることから, 50万件ずつのコン
パラブルコーパスを用いて実験を行なうこととした. 

\subsection{実験結果}

4つの方法で生成されたキュエリの各タームに先に述べたように対数尤度比に
よって重みをつけ, ベクトル空間モデルによってドキュメントとの類似
性を計算する. キュエリベクトルとドキュメントベクトルとの内積によってラ
ンキングされた1000件のドキュメントが, 各キュエリ毎に出力される. 適合
率/再現率は, TRECの評価方法に基づいて4種類のキュエリによる検索結果に対
して計算した\cite{trec}. TRECでは, 各キュエリ毎にリレバントドキュメント
が用意されており, このデータをもとに, interpolated
precision-recall curve を描く. これは, リレバントドキュメントの10\%, 
20\%, 30\%, 40\%, 50\%, 60\%, 70\%, 80\%, 90\%, 100\%を含むように上位
の検索結果をとった場合の精度をプロットして曲線を描くもので, それぞれ4
つの方法に対して, 15件のキュエリの平均をプロットした結果, 
図\ref{result}に示すような適合率/再現率曲線(precision-recall curve)を得
ることができた. 
\vspace*{0.5cm}


\begin{figure}[htbp]
\vspace*{-8mm}
      \begin{center}
 
\epsfile{file=./eval2.prn,height=10cm,width=12cm}
      \end{center}
\vspace*{-1cm}
       \caption{適合率/再現率曲線}
  \label{result}
\end{figure}
\vspace*{0.5cm}


