本稿では，与えられた訓練コーパスから得た文字間共起情報のみを利用した文字列抽出実験の結果を報告する．
本稿では，口語文を実験対象とし，これに含まれる頻出文字列を抽出することで，口語文に多く含まれその処理を困難にする要因となっている辞書未登録語の自動認識および自動抽出を行なうことを目的とする．
本稿で報告する実験では，その結果を評価するため，同じ入力コーパスを日本語形態素解析ツール茶筌ver. 1.51[CITE]で処理した結果と比較し，茶筌が未登録語とした文字列および茶筌が解析に失敗した文字列について，これを本システムで抽出できたかについて調査する．
本実験では，コーパスとして電子メール文書を利用した．
口語の記述文としては対話コーパス等他にも利用可能な文書が存在するが，これらはほとんどの場合話し言葉を他者が記述したものであり，その正確性や発話者の意図の反映等の点では電子メール文書が優ると考える．
また，電子メール文書の場合，特に口語で記述されるものは一般の文書に比べて未登録語が多いためかな漢字変換等の失敗が多く，他の文書を対象にしたものに比べてユーザの不満が多いと推測される．
従って，一般の辞書では未登録語とされるような頻出文字列が自動的にユーザ辞書等の形で組み込まれるシステムへのニーズは大きい．
さらに，電子メール文書はそのままで機械処理可能な状態で存在しかつある程度の量を収集することが少なくとも物理的には簡単であることも，電子メール文書を実験コーパスとして選択したことの大きな理由に挙げられる．
統計情報を利用した処理システムの場合，十分な量のコーパスの確保が問題になることを考えると，ほとんど労力を掛けずに大量のコーパスを取得できる電子メールは非常に有用である．
なお，電子メールでは他のメールの引用が含まれることが多いが，同じ文を複数回記録することを避けるため，本実験で用いたコーパスでは引用部分はすべて削除した．
有繋評価値の算出に利用する共起情報を得るための訓練コーパスとして，本実験では，1998年から1999年にかけて友人宛てに書かれた口語調の電子メールを利用した．
送信者は17人(全員10代から30代の女性)で，送られたメールはすべて同一の受信者(女性)に宛てたものである．
本コーパスは351の電子メール中の7,865文から成っており，含まれる文字数は176,380 (一文当たりの平均文字数22.4)である．
テストコーパスは，1999年に友人宛てに書かれた口語調のメール文書を利用した．
送信者は3人(訓練コーパスの送信者の一部)であり，同一の受信者(訓練コーパスの受信者と同じ)に宛ててメールを書いている．
テストコーパスは訓練コーパスの一部ではなく，独立したものである．
テストコーパスは1,118文24,160文字から成っており，一文当たりの平均文字数は21.6である．
本実験における有繋評価値の分布を図[REF_fig:scoredistribution]に示す．
有繋評価値の平均値は[MATH]であった．
この値を受けて，文字列抽出実験では，抽出の閾値を[MATH]に設定した．
[htb]
本システムが抽出した文字列を分類すると，表[REF_tab:over05seq]のようになった．
ここで，「抽出成功」とは単語や熟語のような文字列が過不足なく抽出された数，「過接合」とは複数の単語等が一つの文字列として抽出されたものおよび意味のある文字列にその前後の文字列の要素である文字が付着した形で抽出されたもの，「過分割」とは文字列が途中で分割されたもののうち元の文字列が推測できるもの，「抽出失敗」とは過分割・過接合のため意味をなさなくなったものを指す．
文字列の例のうち，過分割，抽出失敗として挙げたものは，抜け落ちた部分を括弧内に示した．
定義にあるように，過接合とは複数の文字列が接合した形であり，頻出文字列の抽出を行なう本システムの手法では多く抽出されるものである．
過接合文字列は，複数の文字列が繋がる場合と，文字列の前後に他の文字列が付着する場合とに大きく二つに分類できる．
複数の文字列の有意味な繋がり
頻出文
頻出言い回し
文字列の前後に他の文字列の全部または一部分が付着したもの
助詞，文末記号の付着
前後の文字列が過分割され付着
これらのうち，頻出文，頻出言い回しが一塊として抽出されることは，本システムの手法を考えると自然であり，失敗とは言えない．
また，文字列の前後に助詞や文末記号が付着することは，例えば「と思う」の助詞「と」の付着のように，その文字列の主たる利用法によるものであり，頻出言い回しの一種と考えることができる．
表[REF_tab:over05u]に，過接合とされた文字列の内訳を示す．
文の形をしたもの等意味のある文字列が過接合とされたのは531例であり，これらを含めた有意味文字列の抽出文字列全体に対する割合は54.59%となる．
この割合は，本システムの適合率と考えてよい．
さらに，文末記号・助詞付着を原因とする過接合をも加えると，その割合は84.70%に上がる．
表[REF_tab:over05seq]にある「過分割」は，そのほとんどが動詞である．
これは，動詞についての判定を，助動詞等まで含めた一塊を抽出した場合にのみ抽出成功としたためである．
本稿では，複合動詞「書き直す」が二つの動詞に切り分けられた例や「言っちゃった」のように活用し助動詞等が付着した文字列で「っちゃった」等付着部分が切り分けられた例等もすべて過分割に分類している．
表[REF_tab:strongstring2]に，高い有繋評価値を示した隣接文字ペアの一部を示す．
ここに挙げられた隣接文字ペアは有繋評価値の値が[MATH]を越えたものであり，表中の数字はそのペアが評価値[MATH]以上で出現した頻度を示す．
表[REF_tab:strongstring2]に挙げたような特に評価値の高い隣接文字ペアは，評価値の高い文字列の一部であることが多い(表[REF_tab:over5seq])．
表[REF_tab:over5seq]に本システムが抽出した文字列の一部を示す．
ここでは，文字列に含まれるすべての隣接文字間の評価値が[MATH]以上の文字列のみを示し，この場合の頻度のみを掲載した．
未登録語として扱われる文字列のカテゴリとしては以下のものが挙げられる．
新しい語句
新語
俗語
固有名詞
既存の語句の異表記
カタカナ表記(「私」を「ワタシ」と表記する等)
アルファベット表記(「グッド」を「GOOD」と表記する等)
発音変化に伴う表記変化
擬音語，擬態語等
解析エラー
比較に用いた日本語形態素解析ツール茶筌は辞書ベースのシステムであり，未登録語は「未定義語」のタグを付加して出力される．
表[REF_tab:unk]は，テストコーパスを茶筌にかけた結果未定義語タグを付加されて出力された文字列を出現頻度毎にまとめたものである．
本稿で利用するシステムでは品詞タグを利用しないため，茶筌の品詞タグ付けエラー(文字列の切り出し方は正しいが付加された品詞タグが不適切なもの)については無視し，未定義語タグが付加された文字列および切り分けに失敗した文字列のみを茶筌における抽出失敗とみなす．
表[REF_tab:unk]では，茶筌が未定義語タグを付加して出力した文字列の本システムでの抽出状況についても示している．
「抽出成功」とは本システムが抽出に成功した文字列の数，「抽出失敗」は本システムが認識できなかった文字列の数，「部分抽出」とした欄は文字列の一部が認識されなかった文字列の数を示す．
茶筌は，テストコーパスの形態素解析処理の結果627の未定義語タグ付き文字列を出力した．
テストコーパスは1,118文から成っているため，単純に平均すると56.08%の文に未登録語が含まれていたことになる．
表[REF_tab:unk]に示すように，本稿で提案する手法により，茶筌が未定義語タグを付加した文字列の69.06%を回復することが可能である．
この割合は，本システムの再現率に相当する値である．
本システムは，頻度の高い文字列についてさらによい結果を示す(表[REF_tab:unk])．
茶筌が未定義語タグを付加した文字列のうち，テストコーパスでの出現頻度が10回を越す文字列では，81.85%が正しく抽出されている．
本実験で用いたテストコーパスは訓練コーパスの一部ではないが，条件が近いものであるため，テストコーパスでの出現頻度は訓練コーパスとある程度似ているものと考えることができる．
テストコーパス中に二度以上出現した未登録語に限った場合，本システムでの抽出成功の割合は77.71%となる．
テストコーパスに一度しか現れていない未登録語も，本システムを用いることで40.82%を抽出することができた．
本システムが抽出した意味のある文字列中，茶筌が未定義語タグを付加した文字列の割合は11.22%であった．
抽出の閾値を上げると，出現頻度の低い文字列の抽出に失敗する可能性が高くなるが，この割合の値は大きくなる．
茶筌が未定義語タグを付加して出力した文字列のうち，本システムが抽出に成功したものの有繋評価値の平均は6.11であり，実験の閾値0.50を大きく上回る．
有繋評価値の分布(図[REF_fig:scoredistribution])から見ても，この数値は十分高いものである．
表[REF_tab:unk-category]は，茶筌が未登録語とした文字列を分類しそれぞれについての本システムでの抽出結果を示したものである．
表[REF_tab:unk-category]が示すように，未登録語の最大の原因は表記の変化である．
口語調の文章では，文字列を強調する等の場合にその表記方法を変えることがあり，これによって，辞書に載っている語でも見出し語と異なる表記のために辞書とマッチせず未登録語とされる．
文字挿入も，強調等の目的で行なわれることが多く，その意味では表記変化の一部と見ることができる．
この2種類を足し合わせると，茶筌が未登録語として出力した627文字列のうち356個，56.78%が表記の変化によるものということになる．
文末記号が一部未登録語とされたのは，(1)記号が文末記号の代わりに用いられた事例と(2)複数の文末記号が並んで使われた事例の2種類の場合であった．
文末記号として頻繁に利用された記号には「♪」や「…」等がある．
本システムは辞書を利用せず訓練コーパスから得た共起情報のみを用いるため，これらの記号も他の通常の文末記号と同様に文末に来る確率が高い文字列として抽出している．
また(2)では「！！」や「？？」等，同じ記号を並べて利用することが多い．
並ぶ個数には規則はないが，記号同士の並び方(「！？」や「…！」は頻繁に起こるが「！．
」は起こらない，等)にはある程度規則があり，d-bigram共起情報を利用することで習得可能である．
表[REF_tab:unk-category]のカテゴリ中未登録語とされるべきものは新語および固有名詞だが，これは未登録語全体の20.73%であった．
本実験ではこれらのうち66.92%を正しく抽出することに成功した．
表[REF_tab:unk-lettertype]に，茶筌が「未登録語」とした文字列に含まれる文字の字種を示す．
数字は各字種の文字の数であり，文字種とあるのはその字種に該当する文字の異なり数である．
茶筌が未登録語として出力した627語(表[REF_tab:unk])は，合計1,493の文字から成っており，平均文字数は2.38であった．
未定義語タグを付加された文字列に含まれる文字の70.40%はカタカナであった．
漢字および数字については，それぞれ1つずつしか未登録語とされていない．
数字は一文字一文字を独立した数字として扱うことが可能であり，このため，未登録語となる可能性が非常に低い．
また，漢字は表意文字であり，一文字でもなんらかの意味を持つ．
そのため，誤分割によって一文字だけ独立して切り分けられた場合でも，その一文字で一つの文字列と扱われることがあり，その結果，未登録語として出力される可能性が低くなっている．
例えば，「この世界」を「この世」と「界」とに切り分けた例があったが，この場合，「界」は「文学界」等に見られるような名詞接尾語とされていた．
このように，漢字文字列の未登録語は，未登録語とされずに無理な切り分けをされ，タグ付けの誤りを引き起こす原因となっている．
表[REF_tab:unkrep]に，茶筌が未登録語としたもののうち，表記変化が原因となっているものを示す．
ほとんどの辞書は，基本的に，それぞれの語について見出し語を一つしか持たないため，例えば同じ語をカタカナで表記された場合これを同じと判定することは困難である．
しかし，口語表現等では語の強調や表記の簡素化等のため，基本的な表記を用いずかなで表記することも多い．
日本語では「ん」以外の音がすべて母音を伴うため，ある音を伸ばす場合にはその音の含む母音をさらに付加する．
表[REF_tab:unkrepsmall]に，発音の延長のために添付された文字が未登録語となった119例について，本システムによるその抽出結果を示す．
未登録語とされた添付文字は7種類の小字および「ン」の8種類である．
表[REF_tab:unkrepsmall]の「抽出失敗」は，添付文字は文字列に付加されたが，文字列自体の抽出に失敗したものを示す．
表[REF_tab:unkrepsmall]に示すように，本システムを利用することで，茶筌で未登録語とされた添付文字の74.79%が元の文字列に添付された形で抽出された．
これにより，添付文字に起因する未登録語のおよそ75%が，未登録語としてでなく，文字列の一部として抽出することが可能になった．
この場合，抽出される文字列は添付文字を付けた形であり辞書の見出し語と異なるが，これは見出し語が変形したものであり，添付文字まで含めて一塊の文字列であることは否めない．
従って，語形変化した文字列と見出し語とを結びつけることができれば，語形変化した文字列を辞書に登録することが可能である．
未登録語とされた文字と元の文字列との関係が明らかになり元の文字列の語形変化であることが示されれば，元の文字列の属性を継承することで語形変化した文字列に十分な情報を与えることが可能である．
例えば，「すごく」を強調するため添付文字「っ」を挿入して「すっごく」とした場合，茶筌のような辞書ベースのツールでは，「す」「っ」「ごく」等分割されて出力される．
この時，挿入された「っ」は未登録語とされる．
本システムでは辞書とは関係なく文字単位の共起情報を基に文字列を抽出するため，頻出語である「すっごく」は一塊の文字列として抽出される．
ここで，「っ」が茶筌では未登録語とされていること，この「っ」を抜かした「すごく」が辞書に登録されていること，周りの語句との共起情報等から，「すっごく」が「すごく」の語形変化であることを推測することが可能となる．
表[REF_tab:fail-category]に，茶筌が解析に失敗した文字列の抽出結果を示す．
本システムは茶筌が解析に失敗した文字列のうち70.88%の認識に成功した．
カテゴリBは数字を含む文字列であり，このカテゴリに含まれる文字列はすべて数字に助数詞が付加された形になっている．
本システムは25の文字列の抽出に失敗しているが，「３０日」が「３０」と「日」に切り分けられたもの等，25のうち12は助数詞が切り分けられてしまったものである．
カテゴリFとGとHが，文字列の語形変化に起因する誤りである．
カテゴリFは，口語での利用等のための発音変化に起因する表記変化のため茶筌が認識に失敗した文字列である．
「やはり」の口語化である「やっぱ」等がこのカテゴリに入る．
カテゴリGは強調等のため他の字種で書かれた文字列である．
カテゴリJは解析誤りによる失敗である．
本システムでは解析誤りのため茶筌が切り分けに失敗した文字列のうち71.30%の認識に成功した．
カテゴリHで，本システムで抽出に失敗した103の文字列のうちの53個は，長音化のための附属文字が欠落したものであり，抽出された文字列は意味的に正しいものであった．
口語等で強調のために添付する文字は，複数個になることもある．
例えば，「まさか」を強調するために「まさかーーー」等と長音記号を複数添付することも可能だが，この場合，添付する文字の個数には特に制限がない．
本システムでは，例えば長音記号は複数回並ぶ可能性がある，という情報をd-bigramの形で保有しているため，このような複数個の文字の添付に対応可能である．
これは添付文字に限ったことではなく，例えば笑い声を示す「ははははは」や文末の「！！！」等の抽出も可能である．
辞書ベースのツールでは一般に語句の登録を許しているが，その登録は主に人手によるものである．
本システムは，辞書ベースの解析ツールのための辞書作成支援システムとして利用することが可能である．
本手法は文字間の統計情報のみを利用して自動的に文字列の抽出を行なうため過分割・過接合の問題があるが，文字列抽出の閾値を上げることでかなり抽出文字列を絞ることが可能である．
例えば茶筌では，新規ファイルを用意し図[REF_fig:chasendic]のフォーマットで各語句を記述することで，語句の登録を行なうことができる[CITE]．
茶筌の辞書の見出し語に付加されている数値は単語コストである．
この値の決定には，本システムが文字列抽出に際して計算した有繋評価値を加工して利用することが可能である．
本システムでは読みがなや品詞の決定はできないが，読みがな付加に関してはKAKASI等のツールを利用も可能である．
未登録語とされる文字列のうち，カタカナ表記に起因するものについては，カタカナとひらがなは一対一に対応するので，読みがな付加は容易である．
また品詞情報については，既存の辞書の情報との差別化が必要な場合，本システムの出力した文字列を対象とした新たな品詞名を設定すればよい．
品詞情報を必要としないシステムでは，本システムの出力結果をそのまま，あるいは人手による選別を得て，利用することが可能である．
特に，かな漢字変換システム等では，本システムの利用により頻出言い回しの登録が容易となることで精度の向上が期待できる．
日本語における語句抽出の研究は，主に，名詞句の抽出，固有名詞の抽出，および語句切り分けに関するものである．
統計情報を利用した語句抽出の手法は，主として品詞情報を利用するもの，単語の共起情報を利用するもの，文字の共起情報を利用するものに大別できる．
Nagaoらは[MATH]-gram頻度を用いた文字列抽出を提案した[CITE]．
[MATH]-gramは[MATH]の値が大きくなるにしたがって出現頻度が低下するが，有意味文字列は他の文字列に比べて高い頻度で出現する．
Nagaoらの手法はこの性質を利用したものであり，本稿と同様品詞等の情報を利用せずに文字列の抽出を行なっている．
Kitaniらは固有名詞全般を対象に，固有名詞の前後に出現しやすい語を接辞として扱うことで固有名詞の抽出を行なっている[CITE]．
また，久光らは対象を人名に絞り，辞書と共起情報を利用した手法を提案している[CITE]．
久光らの手法でも，人名の直後に現れる接辞を手がかりとして抽出を行なっており，さらに，人名接辞の獲得支援や，姓と名との分割・判別についても提案している．
また，福本らは，接辞の他，固有名詞の特性に基づいたヒューリスティクスを導入し精度の向上を図っている[CITE]．
また，Chaらは韓国語を対象として，構文解析中に出現した未登録語の抽出を行なっている[CITE]．
Chaらは，未登録語発見のための形態素パターン辞書を利用して，未登録語に対しても他の語と同様にタグ付けを行なうという手法を提案している．
単語間共起情報や品詞情報を利用する手法では，前処理として切り分けおよびタグ付けが必要となる．
辞書を利用した手法では未登録語の問題は避けられないが，未登録語に起因する解析エラーがその後の処理の精度を下げるという問題が生じる．
本稿で提案する手法では，辞書を利用せず，前処理にあたる訓練フェーズも文字単位の共起情報の取得だけであるため完全に自動的に行なうことが可能である．
