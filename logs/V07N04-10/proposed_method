まず，提案手法における処理の全体の流れから説明する．
ここでは，入力として``和室のほうですと18000円いずれも税サービス料は別になります''が発話され，音声認識結果として下線部に誤りを含んだ``和室のほうですと18000円いずれの戦サービス料は別になります''が得られた場合を想定する．
図[REF_process-flow]にその訂正処理の流れを示している．
以下，図中の各ステップごとに順を追って説明する．
認識結果の訂正必要性判断
構文解析および意味距離計算
音声認識結果を入力として構文解析[CITE]を行ない，認識結果の構文解析木と意味的距離の値を得る．
図の構文解析木の各ノードには意味的距離の値が示されており，これらの値の総和は[MATH]である．
意味的距離による訂正必要性判断
意味的距離に対して適切な閾値[MATH]を設定する．
意味的距離の総和がこの閾値以下の場合は``訂正不要''，閾値より大きい場合は``訂正必要''と判断する．
``訂正不要''の場合，入力に対する判断``訂正不要''と共に元の音声認識結果を出力する．
本研究では意味的距離の閾値を[MATH]とした．
図の音声認識結果に対する意味的距離の総和[MATH]は閾値[MATH]より大きいため``訂正必要''と判断される．
訂正箇所の特定
I-2で``訂正必要''と判断された場合，全ての部分木のうち意味的距離の総和が閾値[MATH]を越えるものに対応する部分列を全て訂正箇所とする．
図中では，部分木に対応する形態素列を，形態素列``和室のほうですと18000円いずれの戦サービス料は別になるます''上に領域[MATH]として示している．
これらの領域のうち，部分構造に対する意味的距離の総和が閾値[MATH]を超える領域[MATH]が訂正箇所である．
訂正候補の作成
テキストコーパスからの用例検索
I-3で求められた訂正箇所に対してテキストコーパスから訂正箇所と音韻的に類似した部分を含む用例を検索する．
図の訂正箇所5 ``いずれの戦サービス料''に対しては，類似した文字列を含む用例``いずれも税サービス料は別になるますので''が検索される．
訂正箇所の用例との置換
認識結果の訂正箇所を，用例文の対応箇所と置換し，訂正候補を得る．
認識結果の訂正箇所5 ``いずれの戦サービス料''が，II-1によって得られた用例の対応箇所``いずれも税サービス料''との置換により訂正され，訂正候補``和室のほうですと18000円いずれも税サービス料は別になるます''を得る．
音韻的距離による妥当性判断
音韻的距離に対して適当な閾値[MATH]を設定する．
II-2で得られた訂正候補と音声認識結果の間の音韻的距離を計算し，その値が閾値[MATH]を越える候補は妥当性が低いと判断し，排除する．
本研究では音韻的距離の閾値として[MATH]を用いている．
図中の訂正候補に対する音韻的距離は[MATH]であるため，妥当と判断される．
訂正候補の妥当性判断
構文解析および意味距離計算
II-3で音韻的に妥当と判断された訂正候補に対して図中，訂正箇所5に関して得られた訂正候補の``意味的距離の総和'' [MATH]を得る．
意味的距離による妥当性判断
意味的距離の総和が閾値[MATH]を越える候補は妥当性が低いと判断し，排除する．
訂正候補が全て排除された場合，入力に対する判断``訂正不可''と共に音声認識結果を出力する．
図の訂正箇所5に関して得られた訂正候補の意味的距離の総和[MATH]は，意味的距離の閾値[MATH]より小さいため，妥当と判断される．
訂正結果の出力
III-2で妥当と判断された訂正候補が存在する場合，入力に対する判断``訂正可能''と共に音韻的距離が最小のものを訂正結果として出力する．
図中，日英音声翻訳において，音声認識結果からの翻訳結果，および訂正結果(訂正箇所5に関して得られた訂正候補と同一)からの翻訳結果を示している．
音声認識結果からの翻訳における下線部の誤りは，日本語認識結果における下線部の誤り``いずれの戦サービス料''に起因しているが，``いずれも税サービス料''と訂正されることにより，日本語正解文の意味が適切に伝わる翻訳結果を得る．
I-1およびIII-1の構文解析および意味距離計算では，構成素境界解析[CITE]を用いている．
この解析法は，入力文に対して，変項と構成素境界よりなる表層パタンの照合を行ない，入力と学習文の単語の意味的距離の値によって意味的妥当性を判断し，構造の曖昧性による候補の爆発を抑えながら構文木の構築をボトムアップに行う方法である．
ここで，単語間の意味的距離としてシソーラス[CITE]上での意味属性の位置関係に基づいた[MATH]の値が用いられており，さらにパタンに対する意味的距離は，各変項の入力単語とパタンに定義された学習単語との意味的距離の合計で計算される．
脇田等[CITE]は，誤りを含んだ音声認識結果に対してこの構成素境界解析を適用し，構文木と意味的距離から正解部分が特定できることを示している．
また，音声翻訳における正解部分の特定にこの解析法を適用する利点として，次の３点を挙げている．
(1)厳格な文法規則では扱いが難しい話し言葉特有の表現の受理に優れているため，文法規則から逸脱する部分を認識誤りと判断しやすい．
(2)解析で扱う表現パターンは，音声認識の言語モデルとして用いられているN-gramより長く，より大局的な部分での妥当性が考慮される．
(3)解析がボトムアップのため，誤りによって文全体の構文木が得られなくても，正解部分に対する結果が得られる．
前節で述べたI-2意味的距離による訂正必要性判断，I-3訂正箇所の特定，およびIII-2意味的距離による妥当性判断の有効性は，構成素境界解析の持つ以上のような性質に基づいている．
II-1のテキストコーパスからの用例検索では，I-3で求められた訂正箇所に対して音韻的に類似した部分を含む用例の検索を行なう．
まず，テキストコーパス中から訂正候補の作成に有用な用例を大まかに絞り込む．
具体的には，訂正箇所とテキストコーパス中の各用例の文字列近似照合を行なうことにより，訂正箇所に対して文字列に関する類似度(文字の一致率)が一定以上の部分を含むような用例が抽出される．
このような文字列近似照合の手法としては，agrepに実装されているアルゴリズム[CITE]がよく知られている．
agrepは，grepの機能と同じように指定されたパターンを含む行を検索し出力するが，パターンと行の対応部分が完全に一致していなくても，それらの間の編集距離が閾値以下であればその行を出力する．
ここでは，長い文字列の照合に関してより高速なY. Lepageの方式[CITE]を用いている．
さらに，II-2において訂正箇所の用例との置換を行なうため，検索によって絞り込まれた用例の形態素単位での対応付けが必要となる．
ここでは，用例の形態素列中の可能な部分列のうち，訂正箇所に対して形態素の編集距離が最小となる形態素部分列をDPマッチングによって求め，訂正箇所への対応部分とする．
II-3の音韻的距離による妥当性判断では，II-2で得られた訂正候補の妥当性を，認識結果に対する音韻的距離に基づいて判断する．
認識結果と訂正候補の間の音韻的距離は，認識結果の音素列を[MATH]，訂正候補の音素列を[MATH]とすると，音素列[MATH]と[MATH]の間の編集距離に基づいて次のように定義される．
ここで，[MATH]は，DPマッチングによって計算される音素列[MATH]の音素列[MATH]に対する編集距離である．
図中の訂正候補に対する音韻的距離の計算に関しては次のようになる．
認識結果の形態素列``和室のほうですと18000円いずれの戦サービス料は別になるます''に対する認識結果の音素列[MATH]は``w_a_sh_i_ts_u n_o h_o_o d_e_s_u t_o 18000_e_ng i_z_u_r_e n_o s_e_ng s_a_a_b_i_s_u_r_j_o_o w_a b_e_ts_u n_i_n_a_r_u m_a_s_u''であり，また訂正候補の形態素列``和室のほうですと18000円いずれも税サービス料は別になるます''に対する訂正候補の音素列[MATH]は``w_a_sh_i_ts_u n_o h_o_o d_e_s_u t_o 18000_e_ng i_z_u_r_e m_o z_e_e s_a_a_b_i_s_u_r_j_o_o w_a b_e_ts_u n_i_n_a_r_u m_a_s_u''である．
認識結果に対する訂正結果の音素編集は，[MATH]，[MATH]，[MATH]であるから，音韻的距離は[MATH]となる．
提案手法が用いている訂正候補の妥当性判断の考え方，および効果について説明する．
図[REF_phonetic-relations]は，正解，認識結果，訂正結果の音韻的距離における関係を摸式的に表している．
[MATH]は正解，[MATH]は認識結果，[MATH]はそれぞれ訂正候補を表す．
正解[MATH]と認識結果[MATH]の間の距離は，認識誤りによって生じた音韻的距離を表す．
また，認識結果[MATH]と訂正候補[MATH]の間の距離は，訂正処理によって生じた音韻的距離を表す．
訂正候補[MATH]のうち，妥当なのは正解[MATH]に最も近い[MATH]であると予想される．
しかしながら，実際の音声翻訳において正解[MATH]は未知である．
提案手法では，訂正候補の妥当性を次の仮定に基づいて判断する．
ある値の誤り率を持つ認識結果に対して，その認識結果から一定の音韻的距離以内に正解が含まれるような音韻的距離の閾値が存在する．
ある意味的に妥当な認識結果に対して，その認識結果の意味的距離が一定の値以下となるような意味的距離の閾値が存在する．
(1)まず音韻的距離の仮定に基づき，認識結果[MATH]からの音韻的距離がある閾値を越える訂正候補は，正解には該当しないとして排除する．
図の候補[MATH]は，認識結果[MATH]からある閾値以上(円外)にあるため，排除される．
(2)次に意味的距離の仮定に基づき，意味的距離がある閾値を越える訂正候補は，意味的に妥当でないとして排除する．
図の候補[MATH]は誤りが部分的，もしくは誤って訂正された不完全な訂正候補である．
認識結果からの音韻的距離は近いが，意味的距離の値が閾値より大きいため意味的妥当性が十分には回復していないと判断して排除する．
(3)最後に，(1)，(2)での条件を満たす訂正候補が複数ある場合，その内音韻的距離が最小のものを最終的な訂正結果として出力する．
図では，音韻的，意味的に妥当な候補[MATH]のうち，認識結果により近い候補[MATH]を最終的な訂正結果として出力する．
このように，訂正候補に対して音韻的妥当性と意味的妥当性の異なる判断を組み合わせる事によって，妥当性判断における信頼性をより高める効果が得られる．
