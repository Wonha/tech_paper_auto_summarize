提案手法

\subsection{処理の流れ}

まず，提案手法における処理の全体の流れから説明する．
ここでは，入力として``和室のほうですと18000円いずれ\underline{も税}サー
ビス料は別になります''が発話され，音声認識結果として下線部に誤りを含ん
だ``和室のほうですと18000円いずれ\underline{の戦}サービス料は別になり
ます''が得られた場合を想定する．
図\ref{process-flow}にその訂正処理の流れを示している．
以下，図中の各ステップごとに順を追って説明する．

\begin{description}
\item[I] {\bf 認識結果の訂正必要性判断}
  \begin{description}
    \item[I-1] {\bf 構文解析および意味距離計算}

音声認識結果を入力として構文解析\cite{Furuse1999}を行ない，
認識結果の構文解析木と意味的距離の値を得る．
図の構文解析木の各ノードには意味的距離の値が示されており，
これらの値の総和は$1.42$である．

    \item[I-2] {\bf 意味的距離による訂正必要性判断}

意味的距離に対して適切な閾値$\theta$を設定する．
意味的距離の総和がこの閾値以下の場合は``訂正不要''，
閾値より大きい場合は``訂正必要''と判断する．
``訂正不要''の場合，入力に対する判断``訂正不要''と共に
元の音声認識結果を出力する．
本研究では意味的距離の閾値を$\theta = 1.00$とした．
図の音声認識結果に対する意味的距離の総和$1.42$は
閾値$\theta$より大きいため``訂正必要''と判断される．

    \item[I-3] {\bf 訂正箇所の特定}

{\bf I-2} で``訂正必要''と判断された場合，
全ての部分木のうち意味的距離の総和が閾値
$\theta$を越えるものに対応する部分列を
全て訂正箇所とする．
図中では，部分木に対応する形態素列を，
形態素列``和室 の ほう です と 18000円
 いずれ の 戦 サービス料 は 別 になる ます''
上に領域 $1 \sim 8$ として示している．
これらの領域のうち，部分構造に対する意味的距離の総和が
閾値$\theta = 1.00$を超える領域 $2, 5, 6, 7, 8$ が
訂正箇所である．

  \end{description}

\item[II] {\bf 訂正候補の作成}

  \begin{description}

    \item[II-1] {\bf テキストコーパスからの用例検索}

{\bf I-3}で求められた訂正箇所に対して
テキストコーパスから
訂正箇所と音韻的に類似した部分を含む用例を検索する．
図の訂正箇所5 ``\fbox{いずれ \underline{の 戦} サービス料}''
に対しては，類似した文字列を含む用例
``\fbox{いずれ \underline{も 税} サービス料} は 別 になる ます ので''
が検索される．

        \item[II-2] {\bf 訂正箇所の用例との置換}

認識結果の訂正箇所を，用例文の対応箇所と置換し，
訂正候補を得る．
認識結果の訂正箇所5 
``\fbox{いずれ \underline{の 戦} サービス料}''
が，{\bf II-1}によって得られた用例の対応箇所
``\fbox{いずれ \underline{も 税} サービス料}''
との置換により訂正され，訂正候補
``和室 の ほう です と 18000円
 \fbox{いずれ \underline{も 税} サービス料} は 別 になる ます''
を得る．

    \item[II-3] {\bf 音韻的距離による妥当性判断}

音韻的距離に対して適当な閾値$\delta$を設定する．
{\bf II-2}で得られた訂正候補と音声認識結果の間の音韻的距離を
計算し，その値が閾値$\delta$を越える候補は妥当性が低いと判断し，排除する．
本研究では音韻的距離の閾値として$\delta = 0.3$を用いている．
図中の訂正候補に対する音韻的距離は$0.05$であるため，妥当と判断される．

  \end{description}

\item[III] {\bf 訂正候補の妥当性判断}

  \begin{description}

    \item[III-1] {\bf 構文解析および意味距離計算}

{\bf II-3}で音韻的に妥当と判断された訂正候補に対して
図中，訂正箇所5に関して得られた訂正候補の``意味的距離の総和''
$0.00$を得る．

    \item[III-2] {\bf 意味的距離による妥当性判断}

意味的距離の総和が閾値$\theta$を越える候補は妥当性が低いと判断し，排除する．
訂正候補が全て排除された場合，
入力に対する判断``訂正不可''と共に音声認識結果を出力する．
図の訂正箇所5に関して得られた訂正候補の意味的距離の総和$0.00$は，
意味的距離の閾値$\theta = 1.00$より小さいため，妥当と判断される．

    \item[III-3] {\bf 訂正結果の出力}

{\bf III-2}で妥当と判断された訂正候補が存在する場合，
入力に対する判断``訂正可能''と共に
音韻的距離が最小のものを訂正結果として出力する．
図中，日英音声翻訳において，音声認識結果からの翻訳結果，および
訂正結果(訂正箇所5に関して得られた訂正候補と同一)
からの翻訳結果を示している．
音声認識結果からの翻訳における下線部の誤りは，
日本語認識結果における下線部の誤り
``\fbox{いずれ \underline{の 戦} サービス料}''
に起因しているが，
``\fbox{いずれ \underline{も 税} サービス料}''
と訂正されることにより，
日本語正解文の意味が適切に伝わる翻訳結果を得る．

  \end{description}
\end{description}

\begin{figure}[hp]
\begin{center}
\atari(132,190)
\caption{提案手法の処理の流れ}
\label{process-flow}
\end{center}
\end{figure}


\subsection{構文解析および意味的距離計算}

{\bf I-1}および{\bf III-1}の{\bf 構文解析および意味距離計算}では，
構成素境界解析\cite{Furuse1999}を用いている．
この解析法は，入力文に対して，変項と構成素境界よりなる表層パタンの照合
を行ない，入力と学習文の単語の意味的距離の値によって意味的妥当性を判
断し，構造の曖昧性による候補の爆発を抑えながら構文木の構築をボトムアッ
プに行う方法である．
ここで，単語間の意味的距離としてシソーラス\cite{Kadokawa1981}上での意
味属性の位置関係に基づいた $0 \sim 1$ の値が用いられており，さらにパタ
ンに対する意味的距離
\footnote{図\ref{process-flow}中の構文木中の各ノードに示した数値}
は，各変項の入力単語とパタンに定義された学習単語
との意味的距離の合計で計算される．

脇田等\cite{Wakita1998}は，誤りを含んだ音声認識結果に対してこの構成素
境界解析を適用し，構文木と意味的距離から正解部分が特定できることを示し
ている．
また，音声翻訳における正解部分の特定にこの解析法を適用する利点として，
次の３点を挙げている．

(1)厳格な文法規則では扱いが難しい話し言葉特有の表現の受理に優れている
ため，文法規則から逸脱する部分を認識誤りと判断しやすい．

(2)解析で扱う表現パターンは，音声認識の言語モデルとして用いられている
N-gramより長く，より大局的な部分での妥当性が考慮される．

(3)解析がボトムアップのため，誤りによって文全体の構文木が得られなくて
も，正解部分に対する結果が得られる．

前節で述べた{\bf I-2}意味的距離による訂正必要性判断，{\bf I-3}訂正箇所の
特定，および{\bf III-2}意味的距離による妥当性判断の有効性は，構成素境
界解析の持つ以上のような性質に基づいている．


\subsection{テキストコーパスからの用例検索}

{\bf II-1}の{\bf テキストコーパスからの用例検索}では，
{\bf I-3}で求められた訂正箇所に対して
音韻的に類似した部分を含む用例の検索を行なう．

まず，テキストコーパス中から訂正候補の作成に有用な用例を大まかに絞り込
む．
具体的には，訂正箇所とテキストコーパス中の各用例の文字列近似照合を行な
うことにより，訂正箇所に対して文字列に関する類似度(文字の一致率)が一定
以上の部分を含むような用例が抽出される．
\footnote{
音韻的に類似度の高いものは，多くの場合文字列の類似度も高いため，音韻的
に類似した用例の大まかな絞り込みには文字列近似照合が十分有効である．
}
このような文字列近似照合の手法としては，agrepに実装されているアルゴリ
ズム\cite{Wu1992}がよく知られている．
agrepは，grepの機能と同じように指定されたパターンを含む行を検索し出力
するが，パターンと行の対応部分が完全に一致していなくても，それらの間の
編集距離が閾値以下であればその行を出力する．
ここでは，長い文字列の照合に関してより高速なY. Lepageの方式
\cite{Lepage1997}を用いている．

さらに，{\bf II-2}において{\bf 訂正箇所の用例との置換}
を行なうため，検索によって絞り込まれた用例の形態素単位での
対応付けが必要となる．
ここでは，用例の形態素列中の可能な部分列のうち，
訂正箇所に対して形態素の編集距離が最小となる
形態素部分列をDPマッチングによって求め，
訂正箇所への対応部分とする．


\subsection{音韻的距離の計算}

{\bf II-3}の{\bf 音韻的距離による妥当性判断}では，
{\bf II-2}で得られた訂正候補の妥当性を，
認識結果に対する音韻的距離に基づいて判断する．
認識結果と訂正候補の間の音韻的距離は，
認識結果の音素列を$s_1$，訂正候補の音素列を$s_2$とすると，
音素列$s_1$と$s_2$の間の編集距離に基づいて次のように定義される．

\begin{displaymath}
音韻的距離 (s_1, s_2) 
= \frac{編集距離(s_1, s_2)}{全音素数(s_1)}
\end{displaymath}
ここで，$編集距離(s_1, s_2)$は，DPマッチングによって計算される
音素列$s_2$の音素列$s_1$に対する編集距離である．

図中の訂正候補に対する音韻的距離の計算に関しては次のようになる．
認識結果の形態素列
``和室 の ほう です と 18000円
 いずれ \underline{の 戦} サービス料 は 別 になる ます''
に対する認識結果の音素列$s_1$は
``w\_a\_sh\_i\_ts\_u n\_o h\_o\_o d\_e\_s\_u t\_o 18000\_e\_ng
 i\_z\_u\_r\_e \underline{{\bf n}\_o {\bf s}\_e\_{\bf ng}} s\_a\_a\_b\_i\_s\_u\_r\_j\_o\_o
 w\_a b\_e\_ts\_u n\_i\_n\_a\_r\_u m\_a\_s\_u''
であり，また訂正候補の形態素列
``和室 の ほう です と 18000円
 いずれ \underline{も 税} サービス料 は 別 になる ます''
に対する訂正候補の音素列$s_2$は
``w\_a\_sh\_i\_ts\_u n\_o h\_o\_o d\_e\_s\_u t\_o 18000\_e\_ng
 i\_z\_u\_r\_e \underline{{\bf m}\_o {\bf z}\_e\_{\bf e}}
 s\_a\_a\_b\_i\_s\_u\_r\_j\_o\_o w\_a
 b\_e\_ts\_u n\_i\_n\_a\_r\_u m\_a\_s\_u''
である．
認識結果に対する訂正結果の音素編集は，
$挿入: 0$，$削除: 0$，
$置換: 3({\bf n} \rightarrow {\bf m}, {\bf s} \rightarrow {\bf z}, {\bf ng} \rightarrow {\bf e})$
であるから，音韻的距離は$3 / 58 = 0.05$となる．


\subsection{訂正候補の妥当性判断}

提案手法が用いている訂正候補の妥当性判断の考え方，および効果
について説明する．
図\ref{phonetic-relations}は，
{\bf 正解}，{\bf 認識結果}，{\bf 訂正結果}の音韻的距離
における関係を摸式的に表している．
$\odot$は{\bf 正解}，
$\otimes$は{\bf 認識結果}，
$\circ(a, ..., e)$はそれぞれ{\bf 訂正候補}を表す．
{\bf 正解}$\odot$と{\bf 認識結果}$\otimes$
の間の距離は，認識誤りによって生じた音韻的距離を表す．
また，{\bf 認識結果}$\otimes$と{\bf 訂正候補}
$\circ(a, ..., e)$の間の距離は，
訂正処理によって生じた音韻的距離を表す．
訂正候補$\circ(a, ..., e)$のうち，
妥当なのは{\bf 正解}$\odot$ に最も近い$b$であると予想される．
しかしながら，実際の音声翻訳において正解 $\odot$ は未知である．

\begin{figure}[hbt]
\begin{center}
\atari(105,77)
\caption{正解，認識結果および訂正候補の間の音韻的な関係(摸式図)}
\label{phonetic-relations}
\end{center}
\end{figure}

提案手法では，訂正候補の妥当性を次の仮定に基づいて判断する．

\begin{description}
\item[音韻的距離の仮定] 
ある値の誤り率を持つ認識結果に対して，
その認識結果から一定の音韻的距離以内に
正解が含まれるような音韻的距離の閾値が存在する．

\item[意味的距離の仮定] 
ある意味的に妥当な認識結果に対して，
その認識結果の意味的距離が一定の値以下となるような
意味的距離の閾値が存在する．
\end{description}

(1) まず{\bf 音韻的距離の仮定}に基づき，
{\bf 認識結果}$\otimes$からの音韻的距離がある閾値を越える
{\bf 訂正候補}は，正解には該当しないとして排除する．
図の候補 $a, c$ は，{\bf 認識結果}$\otimes$からある閾値
以上(円外)にあるため，排除される．

(2) 次に{\bf 意味的距離の仮定}に基づき，
意味的距離がある閾値を越える{\bf 訂正候補}は，
意味的に妥当でないとして排除する．
図の候補 $d$ は誤りが部分的，もしくは誤って訂正された
不完全な訂正候補である．
{\bf 認識結果}からの音韻的距離は近いが，
意味的距離の値が閾値より大きいため
意味的妥当性が十分には回復していないと判断して排除する．

(3) 最後に，(1)，(2)での条件を満たす{\bf 訂正候補}が複数ある場合，
その内音韻的距離が最小のものを最終的な訂正結果として出力する．
図では，音韻的，意味的に妥当な候補 $b, e$ のうち，
認識結果により近い候補 $b$ を最終的な訂正結果として出力する．

このように，訂正候補に対して
音韻的妥当性と意味的妥当性の異なる判断を
組み合わせる事によって，
妥当性判断における信頼性をより高める効果が得られる．



