本研究では，風邪およびその症状に関するTwitter上での発言を集めたコーパス（以下，風邪症状コーパス）と，インフルエンザに関するTwitter上での発言を集めたコーパス（以下，インフルエンザ・コーパス）の2つを用いる．
風邪症状コーパスは誤り分析及び主体解析の検証に，インフルエンザ・コーパスは事実性判定の検証に用いる．
これらは2008年11月から2010年7月にかけてTwitter APIを用いて30億発言を収集し，そこから「インフルエンザ」や「風邪」といったキーワードを含む発言を抽出したものである（表[REF_keywords]）．
先行研究においても，風邪やインフルエンザなど感染症に関する研究は多く[CITE]，他にも西ナイル熱[CITE]などが扱われている．
これらの多くは，経験則により「風邪」や「インフルエンザ」などのキーワードとなる単語を選択し，その頻度を集計し，感染状況の把握を行っている[CITE].
本研究では，先行研究の1つである[CITE]で使われたインフルエンザコーパス，及び，[CITE]や商用サイト「カゼミル・プラス」で用いられた風邪症状コーパスを用いる．
風邪症状コーパスは，「風邪・咳・頭痛・寒気・鼻水・熱・喉の痛み」の7種類の症状に関して，ツイートの発言者が疾患・症状にあるかどうか（正例か負例か）をラベル付けしたものである．
このコーパスでは，投稿者が以下の除外基準に照らし，1つでも該当するものがあれば負例とみなした．
発言者（または，発言者と同一都道府県近郊の人間）の疾患でない．
居住地が正確に分からない場合は負例発言とみなす．
例えば，「風邪が実家で流行っている」では，「実家」の所在が不明であるので，負例とみなす．
現在または近い過去の疾患のみ扱い，それ以外の発言は除外する．
ここでいう「近い過去」とは24時間以内とする．
例えば，「昨年はひどいインフルエンザで参加できなかった」は，負例とみなす．
「風邪でなかった」等の否定の表現は負例とする．
また，疑問文や「かもしれない」といった不確定な発言も負例とする．
コーパスサイズは，疾患の種類ごとに異なる．
それぞれの疾患・症状ごとのコーパスサイズと疾患のラベル数を表[REF_corpus_size]に示す．
インフルエンザ・コーパスは，「インフルエンザ」を含む10,443件の発言に対して，正例か負例かをラベル付けしたものである．
アノテーションの基準については，風邪症状コーパスに準拠している．
なお，正例数が1,319件，負例数が9,124件となっている．
実際のコーパスからアノテーションの具体例を示す（表[REF_annotation_example]）．
本章では，疾患・症状を検出するタスク（以降，罹患検出）について取り組み，風邪症状コーパスを用いて既存のシステムの誤り分析を行った．
既存システムとして，単語n-gram素性を用いた手法[CITE]と同等の分類器をSupport Vector Machine (SVM)にて構築し，その誤りを人手で分類した．
誤りには，本来，疾患・症状の事実があると判定すべきであるのに，それができなかった場合であるFalse Negative（以降，FN）の事例と，その逆に，疾患の事実がないのに誤って疾患とみなしてしまう場合であるFalse Positive（以降，FP）の事例がある．
罹患検出は大規模な母集団に対して行われるので，再現率はさほど重要ではなく，適合率が重要になる．
そこでFPに注目し，解析を進めた．
FPと判定された事例に対して，なぜそれがNegativeな事例なのかという観点から，人手で誤りを分類した．
誤り原因の分類と発言例を表[REF_FP_eg]に示す．
誤りの分類は以下の通りである．
非当事者：疾患・症状を所有する対象が，発言者およびその周辺の人物ではない．
特定の二人称，三人称の人物が疾患・症状を保有する場合や，「みんな風邪ひかないように」といった発言のように一般的な人に向けたものも含める．
比喩：比喩的に疾患表現が利用されている場合が当てはまる．
「凄すぎて鼻水ふいた」という発言は，実際に疾患として鼻水が出ているとは考えにくく，「鼻水をふいた」という表現を利用することで大変驚いた様子を比喩的に表しているものだと推測される．
一般論：そもそも疾患・症状の保有に関する話題ではなく，疾患そのものについて議論していたり，「風邪予防マスク」のように疾患が名詞句の一部として出現した場合である．
モダリティ：「かもしれない」（疑い），「かな？」（疑問）などのモダリティ表現により，疾患の事実が認められない場合を指す．
ここでは以下に示す否定，時制を除いた狭義のモダリティ表現を意味し，英語表現で置き換えれば，``must''，``might''，``have to''などの助動詞が当てはまる．
時制：疾患のあった時間が異なる．
否定：「風邪でなくてよかった」など，疾患の事実が否定されている．
その他：その他の理由によるもので，人でも理解不能な発言や，発言が短すぎて解析に失敗したものが含まれる．
表[REF_FP]に，風邪症状コーパスの6つの疾患・症状について，それぞれ100件の誤り(False Positive)事例について分析を行った結果を示す（600事例）．
表[REF_FP]より，疾患・症状の種類ごとに誤り方に大きな違いがあることがわかった．
風邪，咳，熱は「非当事者」が原因となる解析誤りが多く，疾患・症状を保有する主体を識別する部分に課題がある．
一方で寒気，鼻水は「非当事者」による解析誤りが少ない．
これは，例えば，鼻水は他人の鼻水について言及することが少ないことが原因としてあげられる．
また，頭痛，寒気，鼻水は比喩的な解析誤りが多く，改善すべき点が大きく異なる．
事実性の問題（時制，モダリティ，否定）に注目すると，どの疾患・症状においても一定数見られ，一般的な問題と捉えることができる．
これらのエラー分析の結果から，言語処理の研究課題という観点から整理すると，疾患があったのかという事実性（時制，モダリティ，否定）と，仮に疾患の事実があったとして，疾患を所有しているのは誰なのかという主体性（非当事者や一般論の問題）と，比喩の3つの大きな言語現象に大別できる．
これらの現象について，少し詳しく説明する．
事実性は，一般的かつ重要な課題でありながら，解析の難しさから高い精度に到達できていない[CITE]．
疾患があったのかという事実性の問題を解消することができれば，7つの誤りの分類のうち，モダリティ(10.8%)，時制(10.1%)，否定(5.9%)を改善することができ，最大で合計26.8%のエラーを解消する可能性がある．
事実性の問題はWeb文書に特化した話ではなく，言語処理全般における課題である．
仮に疾患・症状の事実があったとして，疾患・症状を保有しているのは誰なのかという主体を認識するタスクも重要である．
疾患・症状を認識するタスクでは，地域ごとに疾患・症状の流行状況を把握したいために，一次情報（本人が観測・体験した情報）であるかどうかの識別が重要となる．
エラー分析を行った結果，発言者とは関係のない有名人や発言者との物理的な位置関係が明確でない返信先の人物が疾患・症状に罹っている発言が多数見受けられた．
一方で，疾患・症状を意味する表現が名詞句の一部として現れることで，特定の主体を言及するものではない場合もある．
例えば，「風邪予防マスク」のように風邪が名詞句の一部として使われているだけの発言が存在する．
この場合，「風邪」という単語はただの名詞句の一部として「予防」を修飾しており，疾患のイベントを保有していないため，その主体も存在しない．
この問題を合わせると，疾患・症状を保有した対象は存在するのか，存在する場合は誰なのか，という主体を認識するタスクを考えることができる．
7つの誤りの分類のうち，非当事者(23.5%)，一般論(14.8%)がこのタスクで解決できる課題であり，合わせれば最大で38.3%のエラーを解消することが可能である．
主体解析の問題は，疾患に限ったことではなく，評判抽出（だれの評判なのか？），感性情報処理（だれが喜び／悲しんでいるのか？）など，Web文章，特にブログなど個人が発言する情報を扱う上で基盤となる技術であり，言語処理がWebを通して世の中を把握するため，解くべき大きな課題である．
Web上のテキストを扱う上で，比喩(20.4%)の問題も見過ごせない．
例えば「凄すぎて鼻水でた」という発言があった場合，事実性解析的にはイベントが成立していて，かつ，主体も発言者（一人称）と推定されるが，常識的に考えて症状は発生していない．
私たちはこの発言において，直感的に，何かのイベントが起きて驚いたことに対する口語的表現として，「鼻水出た」という表現が利用されたと判断することができる．
この比喩的な表現の問題を解決するには，比喩に関する人間の常識的な推論が必要である．
例えば，「頭が痛い」「寒気がする」「発熱がある」など，疾患・症状が比喩的に使用される例は多くある．
実用面を考えると，比喩の問題は重要であるが，特定の疾患・症状に依存した処理になりがちである．
そこで，本論文では一般性が高いサブタスクとして，先に挙げた2つの課題（事実性解析，主体解析）に取り組み，罹患検出器の改善に取り組む．
以降，[REF_sec:factuality]章にて事実性解析，[REF_sec:subject]章にて主体解析において罹患検出器を改善した結果を報告し，[REF_sec:factandsub]章にて事実性解析と主体解析を組み合わせた結果を示す．

事実性解析については，[REF_sec:used-corpus]章で説明されたインフルエンザ・コーパスを対象とし実験を行った．
ここで，インフルエンザ・コーパスを使用して事実性解析を行ったのは，インフルエンザ・コーパスにおいては，予防方法やニュース等といった「インフルエンザに感染している」という事実をもたない発言が多いという傾向が強く見られたことから，事実性解析の必要性が高いと判断したためである．
実際に，他のコーパスに比べて，負例の割合が極端に高い傾向がある．
インフルエンザの流行の検出のためには，実際にインフルエンザに感染している人がどの程度いるのかを判断する必要がある．
しかし，機械的に「インフルエンザ」を含む発言を集めるだけでは感染している人がどの程度存在するかはわからない．
このために，集めた発言を感染者に関する発言かそうでないかの分類を行うことにより流行の検出を行う．
このような分類のためには，文に記述されている事象が，実際に起こったことなのか，そうでないことなのかの事実性を判定する技術が必要となる．
これは，事実性解析(Factuality analysis)と呼ばれる[CITE]．
事実性解析が必要な例は以下のような例である．
(1)熱があったので、病院に行ったらインフルエンザだった。
(2)インフルエンザに罹ったかもしれない。
(3)インフルエンザに罹っていたら、休まざるを得ないだろう。
例を見ると，インフルエンザであることを「だった」として断定したり，「かもしれない」と推量をしたり，「たら」と仮定をしたりしていることがわかる．
これにより，(1)は，「インフルエンザに感染する」という事実を持っており，反対に(2)，(3)はこの事実を持たないと判断できる．
このような表現はモダリティと呼ばれ，人間が情報の真偽を考える上で重要な手がかりになる．
本研究における事実性解析の目標は，「インフルエンザに感染している」という事実を持つ発言を検出することである．
我々は，これを「対象とする事実」をもつかもたないかの2値分類タスクとして考え，分類器を構築し分類を行った．
本章では，モダリティを利用した2つの手法について説明する．
事実性解析を罹患検出に活用する1つの方法として，つつじの利用を試みた．
日本語の文を構成する要素には，主に内容的な意味を表す要素（内容語）以外に，助詞や助動詞といった，主に文の構成に関わる要素がある．
ここでは，後者を総称して，「機能語」と呼び，「に対して」や「なければならない」のように，複数の語から構成され，かつ，全体として機能語のように働く表現である「複合辞」と合わせて，これらを機能表現と呼ぶ[CITE]．
つつじは16,801の機能表現の表層形を階層的に分類しており，同じような意味を持つ機能表現には同じ意味IDが振られている．
本研究はTwitterのデータを使用しているため，発言の中には文が複数ある場合も多い．
これにより，注目しているインフルエンザ感染に関連する機能表現と関係のない機能表現も多く存在すると考えられる．
そこで，「インフルエンザ」の右の15文字中につつじの機能表現の表層形が含まれる場合にその意味IDを素性として利用することにした．
つつじによる意味ID素性の具体例を表[REF_ex tsutsuji feature]に示す．
次に，2つ目のモダリティの利用法として，Zundaの解析結果を利用する手法を提案する．
Zundaは文中のイベント（動詞や形容詞，事態性名詞など）に対して，その真偽判断（イベントが起こったかどうか），仮想性（仮定の話かどうか）などを解析することのできる日本語拡張モダリティ解析器である．
本手法においては，Zundaの出力する真偽判断のタグを利用した．
真偽判断についてのラベルとしては，「成立」，「不成立」，「不成立から成立」，「成立から不成立」，「高確率」，「低確率」，「低確率から高確率」，「高確率から低確率」，「0」のラベルが存在する．
真偽判断ラベルについての具体的を表[REF_example label of zunda]に示す．
また，これらのラベルのうち頻出の「成立」，「不成立」「0」のラベルの解析精度を表[REF_zundanoseido]に示す．
これらのラベルが各イベントに対してついているが，つつじを使用した場合と同様にインフルエンザに関連するイベントがどこに存在するかを考えなければならない．
我々はZundaが動詞，事態性名詞を「イベント」として解析していることから，「インフルエンザ」の右に続く動詞，事態性名詞で一番近いものをインフルエンザに関連するイベントとみなし，そのイベントとイベントに付けられたラベルの組み合わせを素性として利用した．
具体例を表[REF_ex zunda feature]に示す．
本研究は，発言をした人物，あるいはその周りの人物がインフルエンザにかかっているか否かを判定する2値分類をL2正則化ロジスティック回帰により行った．
評価は5分割交差検定による適合率，再現率，F1-スコアを用いた．
ツールとしては，Classias (ver. 1.1) を使用した．
ウィンドウを決めるための形態素解析器としてはMeCab (ver. 0.996)を利用し，MeCabの辞書はIPA-Dic (ver. 2.7.0)を用いた．
本研究のような風邪等の疾患情報を検出するために発言の分類を行うタスクは先行研究[CITE]があり，分類のためには，注目している疾患・症状を表す単語の周辺の単語が良い素性となることが知られている．
ここでは，形態素解析により，分かち書きを行い，形態素を1つの単位としたウィンドウを作成した．
「インフルエンザ」を含むウィンドウを中心として，左側の3つの形態素と右側の3つの形態素をBag of Words (BoW)の素性とし，これにモダリティに関しての素性以外を加えたものをベースラインの分類器として作成した．
ベースラインに使用した素性を表[REF_feature]に示す．
つつじによる素性とZundaによる素性に関しては前節の説明によるものとする．
インフルエンザ感染に関しての2値分類を行った結果を表[REF_result]に示す．
まず，BoWの素性にそれぞれの素性を加えた結果について言及したい．
全体を見ると，適合率は少し減少する傾向にあるが，再現率は増加する傾向にある．
F1-スコアに関してはURL, RPの素性以外については全て増加している．
つつじの意味IDによる素性Tsutsujiを加えたときは適合率，再現率のどちらも増加している．
適合率を上げることが難しいのは使用しているコーパスにおける負例の割合が非常に大きいためである．
このため，再現率をあげることにより負例の多いデータからいかに正例をあつめられるかは重要である．
本論文では，適合率を上げることを主要な目的としているが，インフルエンザ・コーパスのように正例の割合が小さく，再現率が低くなる場合，インフルエンザの感染者の増減を捉えることは難しくなる．
以上のことから，本節では，適合率と再現率の両方を考慮したF1スコアの向上により性能を評価する．
次に，つつじによる素性とZundaによるモダリティ素性以外を全て合わせたベースライン(baseline)に対してつつじの意味IDを加えたところ，F1-スコアが2.2ポイントほど向上した．
BoWに加えたときと同様に，適合率，再現率が共に上がっている．
また，Zundaによる素性をベースラインに加えたところ，F1-スコアは1.1ポイントほど向上した．
最後に，ベースラインにつつじに関しての素性と，Zundaに関しての素性を両方を加えたAllを使用したとき，最高精度となった．
この結果は，提案手法の素性を抜いたbaselineより，3.5ポイントのF1-スコアの向上が見られるので，提案手法の素性が有用であることを支持する．
データのサイズに対する精度変化を見るために学習曲線を図[REF_learning_curve]に示す．
これを見ると，データサイズの増加により，適合率は5,000件あたりで一定値に収束しているが，再現率，F1-スコアは増加し続けている．
このことから膨大なデータを利用することでも精度向上が見込める事がわかる．
一方で，コーパスの作成には人手によるアノテーションが必要でありコストがかかるため，少ないデータでも頑健に分類ができる分類器は有用である．
本論文では，モダリティに関しての素性の貢献を見ることができたが，実際にどのような事例に対して貢献が見られたか，また，うまくいかなくなった事例はどのようなものかについて調査する．
表[REF_example]に実際の発言例を示す．
つつじにおける素性について，分類器の判断に大きく影響を与える素性を調べた．
その結果を表[REF_tsutsuji weight]に示す．
ここで，重みはベースラインにつつじによる素性を加えたもの(baseline+Tsutsuji)を利用した．
表[REF_example]の発言例1においては，表[REF_tsutsuji weight]における，「らしい」のような推量のモダリティ表現をつつじの意味ID素性が捉えることにより，正しい出力を得るようになった．
逆に，発言例2においては，ひらがな1文字の「と」や「え」が誤ってマッチしてしまっている．
本来，このようなひらがな1文字のものがなければ，正例として正しい分類をしていたのにも関わらず，誤ってマッチしたことにより，分類に失敗している．
ひらがな一文字の場合，機能表現として使われていないのにも関わらずマッチしたり，本来の意味と違った意味IDが割り振られてしまったりすることがある．
例えば「I23」の意味IDをもつひらがな「え」は表[REF_tsutsuji weight]に示している「うる」，「だろう」に該当するものであり，正しい意味を捉えることができていない．
ひらがな一文字の場合は前後の文脈の情報を考慮し，機能表現として使われているかを判別すること，どの意味の機能表現として使われているかの曖昧性を解消することが必要である．
次に，Zundaによる素性について，分類器の判断に大きく影響を与える素性を調べた．
つつじの場合と同様に，重みの大きな素性を大きい順に並べた結果を表[REF_zunda weight]に示す．
ここで，重みはベースラインにZundaによる素性を加えたもの(baseline+Zunda)を利用した．
表[REF_zunda weight]を見るとつつじの素性に比べて直感的に理解できるものが多い．
インフルエンザの発言は，注意を呼びかける発言，予防接種の内容の発言，ニュースに関する発言等が多く，負の重みによくそれが現れている．
正の重みに関しては直接疾患に関係のある名詞や動詞が多くなっている．
発言例3においては，「かかり＝成立」の素性により，判別できるようになった．
Zundaにおいてはこのように素性がうまく働き，分類の成否を分ける例が多く見られた．
発言例4においては，実際に感染しているのは発言をしている本人でもなく周りの人でもないため，ここでは，負例を正解とするのが正しいが，「感染=成立」という素性のために正例になってしまっている．
このように，確かにインフルエンザに感染しているという事実を持っているにも関わらず，インフルエンザに罹っている人物が，ソーシャル・メディア上で言及されやすい人物である場合，今回のインフルエンザ・コーパスの正負の定義から，分類に失敗する．
このことから，インフルエンザに罹っている人物が誰なのかを知る必要がある．
これは，主体解析の問題として次のセクションで言及する．

はじめに述べたように，Webデータをフルに利用するためには，事実性解析とならんで，誰が疾患・症状にあるのかという主体の推定（主体解析）が重要である．
例えば，「娘が風邪を引いた」という発言において「風邪」という疾患を保有するのは「娘」であることが解析できれば，発言者の近くで「風邪」が出現したことが分かる．
一方，「風邪と風を誤変換していた」という発言では「風邪」という疾患を保有している主体が存在せず，風邪の流行とは無関係である．
主体が明らかになることにより，疾患・症状を保有する主体が周辺に存在しない発言を判別することができる．
つまりWebの情報を利用して個人の状態を把握するためには，調べたい状態に言及する表現を認識することに加え，その状態に置かれている人物の特定が重要となる．
従来の自然言語処理においてこのタスクに最も近いのは，述語項構造解析である．
もし，調べたい疾患・症状が事態性名詞である場合（例えば「発熱」）は，そのガ格を調べればよい．
しかしながら，疾患・症状が事態性名詞になるかどうかは，述語項構造解析のアノテーション基準に依る所が大きく，通常「風邪」「鼻水」などは事態性名詞として扱われない．
代わりに，用言の項構造に着目するアプローチも考えられる．
先ほどの「娘が風邪を引いた」という例では，「風邪」は「引いた」のヲ格で，「娘」は「引いた」のガ格なので，「風邪」の保有者は「娘」と推定できる．
しかし，このアプローチにも複数の問題がある．
第1に，風邪を保有していることを表す述語を識別する問題である．
例えば「医者が風邪を診察した」という文では，「風邪」は「診察した」のヲ格で，「医者」は「診察した」のガ格であるが，「風邪」の保有者は「医者」ではない．
第2に，口語表現特有の解析誤りがある．
例えば「風邪引いた」のようにヲ格が省略されると，述語項構造解析は失敗してしまう．
さらに，「風邪ツラい」などカタカナの表現は，形態素解析にすら失敗する可能性がある．
このように，既存の述語項構造解析の研究と，疾患・症状を保有する主体を推定するタスクの間には，かなりの乖離がある．
そのため，既存の述語項構造解析では主体を正しく特定することは期待できない．
この点を鑑み，本章では，疾患・症状を保有する主体を推定するという新しいタスクに取り組む．
まず，ツイートの本文に対して，疾患・症状を保有する主体をラベル付けしたコーパスを構築するための方針を設計し，アノテーション作業を行った．
次に，このデータを訓練事例として用い，疾患・症状を保有する主体を推定する解析器を設計した．
評価実験では，主体を推定する解析器の精度を計測すると共に，主体を推定することによる後続のタスクである罹患検出における貢献を実証した．
また，疾患・症状の主体を推定するタスクは，個別の疾患・症状への依存することなく，一般的な解析器を構築できることが分かった．
風邪症状コーパスにおいて，誰が疾患・症状にあるのかの情報を付与した．
この作業は，疾患・症状毎に500件ずつ，合計で3,000件行った．
図[REF_LabelExa]はラベル付けの例を示しており，疾患ラベル，ツイート，疾患クエリが[REF_sec:used-corpus]章で説明した風邪症状コーパスである．
それに対して．
疾患・症状を保有する主体が発言内に存在する場合に主体としてラベル付けし，二つ目の例のように省略されている場合には「（省略）」とした．
また主体の種類を5つに分けた主体ラベルを用意し，疾患・症状を保有する主体がどの主体ラベルに当てはまるかをラベル付けした．
ラベルの種類と発言例を表[REF_PersonLabel]に示す．
ソーシャルメディアの分析では，一次情報（本人が観測・体験した情報）であるかどうかの識別が重要なので，「一人称」「周辺人物」「その他人物」「物体」「主体なし」の5つのラベルを用意した．
「一人称」のラベルの，発言した話者が疾患・症状に関与するという意味は，必ずしも症状にある場合だけではなく，主体が疾患・症状と関係する場合を全て含む．
例えば，表[REF_PersonLabel]の一人称の発言例のように症状に対して願望を抱いている場合は，今は症状を保有していないため，カゼミル＋の応用から考えると抽出したくない情報である．
しかし，本章では疾患・症状と関与する主体の推定を目的としているため，疾患・症状を保有していない場合においても主体の同定を行う．
願望以外にも，「風邪はひいていない」などの否定の発言も同様に扱い，疾患のラベルは「負例」となる一方で主体ラベルは「一人称」となる．
疾患に罹っているかどうかの判断は，主体を推定した後に事実性の解析で行うべきである．
主体が「周辺人物」「その他人物」の場合にも同様な条件で判断し，主体ラベルを付与した．
「周辺人物」のラベルは話者が直接見聞きできる範囲の人物が症状にあるかを一つの分類基準とした．
Aramakiらの風邪症状コーパス[CITE]は，話者か話者と同じ都道府県の人物が症状にある場合に正例となるが，人手で主体のラベル付けする際に，同じ都道府県かどうかを判断することは極めて難しいためである．
「その他人物」のラベルは，疾患・症状を保有する主体となる人物が存在するが，「一人称」「周辺人物」「物体」には該当しない全てのケースを含む．
返信先に疾患・症状の主体が存在する場合が一例で，表[REF_PersonLabel]の発言例では話者と物理的に見聞きできる距離にいることを確認できない．
2つ目の例は，症状を保有する人物を観測することができるが，メディアの報道によって拡散された情報で，話者が直接見聞きした情報ではない．
「物体」のラベルは物体，もしくは人間以外の生物が主体となる場合に付与され，パソコンなどの物体が発熱した場合が例として挙げられる．
「主体なし」のラベルは，発言例にある「風邪薬」のように，風邪の単語自体に疾患のイベントが存在しておらず，風邪が名詞句の一部として出現する場合を含む．
他にも「寒気」が「さむけ」ではなくて「かんき」として使われる場合のように語義が異なる場合や，疾患・症状が慣用句的に使われている場合，記事・作品のタイトルとして出現する場合にも「主体なし」とした．
表[REF_LabeLratio]を見ると，主体が「一人称」の場合にはほぼ省略されるが，主体が「周辺人物」「その他人物」「物体」の場合には約9割が発言内で言及される．
正解ラベルとの比率に着目すると，「一人称」と「周辺人物」の場合は約8割が正例である一方で，「物体」「その他人物」「主体なし」の場合は1割以下であった．
基本的には主体が認識できれば主体ラベルを認識することができる．
ただし，まれに主体が認識できるのに主体ラベルが認識が難しい場合があり，それは「周辺人物ラベル」と「その他人物ラベル」の違いが見抜けない場合などである．
例えば「今日学校へ行ったらAさんが風邪だと知った」という発言では，Aさんが風邪であるという事実を直接に見聞きしているので「周辺人物ラベル」を振っている．
しかし実際には，Aさんが有名人で，有名人Aさんが風邪であるというニュースを学校で友人から聞いた，などという場合が存在している．
また，本実験では3,000件のアノテーションを行ったが，1つの発言に対象の疾患・症状が複数言及されている発言と，同じ疾患・症状を保有する主体が複数存在する発言を除いた結果，表[REF_LabeLratio]の合計に示されるように2,924件となっている．
前節のコーパスを利用して，発言内での「風邪」や「頭痛」などの疾患・症状を保有している主体ラベルを推定する分類器を構築する．
今回の実験では，「物体」と「主体なし」のラベルについて事例が少なく，また本論文において主たる推定の対象でないため，「主体なし」に統合した．
ツイート中のリツイート，返信，URLは，有無のフラグを残した上で削除した．
分類器にはClassias 1.1を利用し，L2正則化ロジスティック回帰モデルを学習した．
利用した素性を表[REF_Feature]に示す．
表[REF_PersonF]に，5分割交差検定により主体ラベル推定の精度を測定した結果を示す．
訓練事例として，6つの疾患・症状に関するコーパスをマージした3,000事例を用いた．
全ての素性を組み合わせた結果，macro F1スコアはベースライン(BoW)と比べて約20ポイント上昇した．
これは，提案した素性がうまく作用していることを示唆している．
疾患クエリ，リプライの有無，周辺人物辞書が特に強い貢献を示した．
表[REF_PersonF]においてmacro F1スコアがmicro F1スコアより低い理由として，主体ラベルの正解比率の問題が挙げられる．
表[REF_LabeLratio]より，「一人称」の主体が全体の約7割を占めている．
この比率により，分類器のバイアス項の重みは「一人称」に傾き，主体ラベル推定器は「一人称」のラベルを付与しやすくなっている．
よって，「一人称」のラベルの再現率が高い一方で，その他のラベルの再現率は低下している．
その結果，発言数の少ない「周辺人物」「その他人物」「主体なし」の推定性能が伸び悩み，macro F1スコアが低下している．
表[REF_ConfusionMatrix]に予測と正解のConfusion Matrixを示す．
対角成分の太字の数値は予測が正解したケースである．
（+数字）はベースラインと比べ，予測した事例数が何件変化したかを表す．
例えば「周辺人物」の推定は34件成功し，ベースラインからは22件増加している．
対角成分である太字の部分を見ると，「一人称」以外においてベースラインから大きく増えていることがわかる．
これは作成した素性を利用することで，「一人称」以外の主体ラベルを推定する際の精度が向上していることを示している．
「主体なし」ラベルの推定精度が大きく向上した理由として，疾患クエリごとのラベル比の改善がある「一人称」はどの疾患においても多数存在するが，「主体なし」は疾患毎にラベルの存在比率が異なる．
例えば，「主体なし」は全体の発言の中で14%を占めるが，風邪症状コーパスの中では4%である一方で，寒気には30%存在する．
疾患クエリの素性は，これらの疾患毎の主体ラベルの比率を調整し，推定の精度を向上させている．
表[REF_comparingSubject]に主体の有無による正解比率を示す．
「一人称」の予測は，そもそも主体が明示されないことが多いので，主体の有無に影響されていない．
しかし「周辺人物」と「その他人物」の予測は，主体が明示されていない場合は精度が悪くなっていることがわかる．
一方，「主体なし」は主体が明示されていないほうが正解率が良いという結果になった．
これは物体における主体のバラエティが富んでいて，現在のBoWやN-gramなどのシンプルな素性では特徴を捕らえきれていないことが原因としてあげられる．
前節の実験では，6つの疾患・症状に関する全ての訓練事例を利用した．
では，疾患・症状を保有している主体を推定するタスクは，どのくらい個別の疾患・症状に依存するのか？もし主体ラベルの推定が個別の疾患・症状に依存せず，新しい疾患・症状を対象とした主体ラベルを推定する際に，他の疾患・症状の教師データを利用することができれば，新しくその疾患・症状のための教師ありコーパスを構築するコストを削減することができる．
この課題を事前に把握するため，本章では，風邪症状コーパスに含まれる事例のうち疾患クエリとして「風邪」が付与されている事例のみを用いた場合と，風邪症状コーパスに含まれる全ての事例を用いた場合の性能を比較する．
以降，簡単のため，風邪症状コーパスの部分集合として，疾患クエリとして「風邪」が付与されている事例の集合を，特に風邪クエリコーパスと呼ぶ．
コーパス毎の相違点としては，例えば，「風邪」と「引く」の共起頻度は高い一方で，別の疾患クエリ，例えば「頭痛」の事例においては，「引く」は寄与しない．
よって，風邪クエリコーパスにおける主体の推定と頭痛クエリコーパスにおける主体の推定が異なる課題になっている可能性があり，そのため，新しい疾患を考えたときに主体ラベル推定の精度が悪化する可能性がある
図[REF_CorpusFigure]は風邪クエリの主体ラベルを推定する際に5分割交差検定を行った結果を示している．
実線は風邪クエリコーパスのみを用いて学習した場合で，コーパスサイズを100件，200件，300件，400件増やしている．
点線は，風邪症状コーパスに含まれる全ての事例を風邪クエリコーパスに足して学習した場合の性能で，風邪クエリコーパスを400件で固定し，風邪以外のコーパスをランダムに625，1,250，1,875，2,500件増やした．
風邪クエリの主体ラベルを予測するタスクなので，風邪クエリに関する学習データとの相性がよく，400件の学習データを用いた場合のF1スコアは45.1であった．
一方，風邪クエリ以外の症状に関する学習データを追加し，2,900件の訓練事例を用いて風邪の主体ラベルを予測した場合のF1スコアは57.3で，風邪クエリのみの学習データを用いた場合と比較すると12.2ポイント向上した．
風邪クエリの主体ラベルを予測するだけであれば，風邪クエリコーパスを増やすことが最も効果的であるが，風邪クエリ以外の疾患・症状の主体に関する訓練事例を増やすことで，特定の疾患・症状だけに依存しない汎用的な主体推定器を構築できる可能性が示唆された．
同様の傾向は，他の疾患・症状を予測対象とした場合でも確認された．
ただ，疾患・症状を保有する主体の事前分布にばらつきがあるため，疾患・症状の依存性が皆無という訳ではない．
例えば，頭痛に関する言及では9割以上の主体が一人称の頭痛のことを表すが，熱に関しては物体の状況（例えばPCの発熱など）を言及するものも多い．
したがって，幅広い疾患・症状をカバーしたコーパスを構築し，主体推定器の汎用性を改善していく必要がある．
本研究の本来の目的である，罹患検出において，本研究で構築した主体ラベル推定器がどのくらい貢献するのか，実験を行った．
表[REF_AllF]は本論文で提案した主体ラベル推定器を利用して主体ラベルを推定し，その主体ラベルを素性に追加して疾患・症状の有無を判定した結果である．
なお，ベースライン手法は先行研究[CITE]の設計を参考にしたが，それに加えて，主体ラベル推定器によって推定された主体ラベルを素性として利用した．
分類器にはClassias 1.1を使用し，L2正則化ロジスティック回帰モデルを学習した．
学習事例は6つの疾患・症状においてそれぞれ500件ずつ利用し，5分割交差検定を行った．
推定した主体ラベルを素性として利用して罹患検出を行った結果，寒気のF1スコアが5.5ポイント，熱のF1スコアが2ポイント向上し，全体のmacro F1スコアも1.3ポイント向上した．
本研究で付与した主体の正解ラベル（ゴールドデータ）を素性として利用した場合とベースラインを比較すると，「風邪・咳・頭痛・鼻水」はF1スコアで2〜4ポイント程度向上し，「寒気・熱」は10ポイント以上向上した．
これにより主体を正しく判定することができれば，平均で約6ポイントのF1スコアの向上が見込める．
本研究で構築した主体推定器により，特に「寒気・熱」において，ゴールドデータとの差を縮めることができた．
寒気の精度が向上した理由のひとつには，「寒気」が「さむけ」ではなく「かんき」として使われる場合や，「悪寒」が「予感」として使われる場合を排除できたことが挙げられる．
一方で「頭痛」や「鼻水」においては，ほとんど精度を向上させることができなかった．
これは，「頭痛」や「鼻水」が症状の場合に「一人称」が主体として使用される場合が多く，あまり他人の症状に言及していないためだと考えられる．
[REF_sec:analysis]章で罹患検出のエラー分析をした結果から，主体解析によりFalse Positiveのうち38.3%のエラーを解消することが可能になると述べた．
では，実際に主体解析を行った結果として，罹患検出のエラーをどの程度解消できたと言えるだろうか？表[REF_AllF]の一番右のエラー解消率には，ベースラインと比べたときのエラー解消率が示されている．
推定した主体を素性として罹患検出を行った場合には，8.4%のエラーを解消することができた．
これより，ベースラインと比べれば精度が改善されている一方で，まだ主体の推定に誤りが含まれることがわかる．
一方で，主体の正解ラベルを素性として罹患検出を行ったところ，38.1%のエラーを解消することができた．
これは罹患検出のエラー分析を行った際の主体の違いが原因となったエラー率よりも高く，主体の違いによるエラーが解消できていると考えられる．
最後に，[REF_sec:factuality]章の疾患があったのかという「事実性解析」と，[REF_sec:subject]章の疾患を所有しているのは誰なのかという「主体解析」を合わせて実験を行った．
ベースライン手法は[REF_sec:factuality]章の設計を利用し，それに加えて，主体ラベル推定器によって推定された主体ラベルを素性として利用した．
主体ラベルを推定する時には，インフルエンザコーパスからも，発言をランダムに500件抽出して主体の正解ラベルを付与し，それをインフルエンザの主体を学習する際のデータとして扱った．
分類器にはClassias 1.1を使用し，L2正則化ロジスティック回帰モデルを学習した．
学習事例はインフルエンザコーパスと風邪症状コーパスの疾患・症状において，それぞれ500件ずつ利用し，5分割交差検定を行った．
実験結果を表[REF_commonresult]に示す．
ベースラインと比べて，ベースラインに事実性解析を追加した結果から，事実性解析はインフルエンザにおいては大幅に上昇しているが，風邪症状コーパスに対しては，あまり変化が見られなかった．
この理由としては，主体の問題や比喩的な問題が大きく関係していると考えられる．
主体の問題の例としては，事実が確認出来たとしても，発言の返信先の人物が疾患に罹っている場合が挙げられる．
比喩的な問題としては，例えば，鼻水の発言「面白すぎて鼻水が出たわ」では，「鼻水」が「出た」事実を解析することができたとしても，それが比喩的な表現であって，疾患は成立していない．
これらの問題により，事実性の解析だけではあまり精度の向上が望めなかった．
一方，ベースラインに事実性解析と主体解析の両方を組み合わせた結果，主体の問題が多少解決されることにより，ベースラインと比べて全体のmacro F1スコアで3.3ポイント向上した．
これにより，事実性解析と主体解析をうまく組み合わせることで，より精度を向上させることができることが確認できた．
さらに事実性と主体のゴールドラベルを合わせた結果，全ての疾患・症状において大幅に精度が向上し，全体のmacro F1スコアで9.6ポイント向上した．
従って，事実性と主体の情報が疾患・症状判別タスクに有用な情報であるということが分かる．
