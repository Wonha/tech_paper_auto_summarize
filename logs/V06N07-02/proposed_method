本節では，[CITE]における従属節の階層的分類，およびそれを用いた従属節係り受け判定規則について述べる．
まず，[CITE]では，[CITE]の従属節の三階層の分類に基づいて，計算機による係り受け解析における有効性の観点から，統語構造におけるスコープの包含関係の狭い順に，以下の三階層の従属節分類を提案している．
ただし，ここで設定された全54種類の従属節の節末表現は，新聞記事の要約文972文を人手で分析することにより得たものである．
「同時」の表現．
「[MATH]とともに」，「[MATH]ながら」，「[MATH]つつ」など7種類．
「原因」，「中止」の表現．
連用形単独，「[MATH]て」，「名詞+で」，「[MATH]ため」など46種類．
「独立」の表現．
「[MATH]が」1種類．
そして，上記の三種類の従属節間のスコープの包含関係に，以下の傾向があるとしている．
A類は，他のA類，B類，C類の一部となることができる．
B類は，他のB類，C類の一部となることができるが，A類の一部とはなれない．
C類は，他のC類の一部となることができるが，A類，B類の一部とはなれない．
また，その他に，従属節に対して以下の四つの詳細な分類を行い，従属節のスコープの間に詳細な包含関係を設定している．
同類同士の従属節の間では，読点の付与された従属節の方が，読点の付与されていない従属節を含む関係にある．
すなわち，従属節のスコープの包含関係は，包含関係の狭い順に，A類[MATH] A類+読点[MATH] B類[MATH] B類+読点[MATH] C類[MATH] C類+読点となる．
B類同士，「B類+読点」同士の従属節は，表現の意味的な流れの中止性の強弱により，以下の二種類に分類でき，中止性の強い従属節は中止性の弱い従属節を包含する．
中止性の弱いもの:用言連用形，「[MATH]て」，「[MATH]ため」など7種類．
中止性の強いもの:「名詞+で」，「[MATH]ており」など4種類．
B類同士，「B類+読点」同士の従属節は，動作性の強い順に，他動詞性，自動詞性，形容詞性，名詞性の四種類に分類でき，動作性が強い従属節は，動作性の弱い従属節を包含する．
引用節が連用節を包含する際の包含関係においては，「[MATH]すると(発表する)」などの引用節の包含関係の広さは「C類+読点」に準じ，「[MATH]するよう(依頼する)」などの引用相当節述語の包含関係の広さは「B類+読点」に準ずる．
一方，連体節が連用節を包含する際の包含関係においては，形式名詞に係る連体節述語の包含関係の広さは「B類+読点」に準じ，その他の通常の連体節述語の包含関係の広さはB類に準ずる．
さらに，[CITE]では，上記の従属節間のスコープの包含関係を，従属節間の係り受け関係と対応させ，従属節間の係り受け関係の決定においては，スコープの包含関係においてより広い関係にあるほど係り受けの優先度が高いとし，
優先度の低い従属節は優先度の高い従属節に係る．
優先度の高い従属節は優先度の低い従属節に係らない．
という優先規則を提案している．
本論文では，前節のような従属節の階層的分類による係り受け判定規則を人手で抽出するのではなく，構文解析済コーパスから，従属節の間の係り受け選好情報を自動的に抽出する．
本節では，本論文で対象とする日本語従属節の定義について述べる．
従属節を定義するにあたっては，まず，文を形態素解析システム茶筌[CITE]により形態素解析し，次に正規表現により記述された文節定義にしたがって，形態素列を文節単位にまとめる(文節処理までを施したデータについては，[CITE]の係り受け解析で用いられているものを利用している．
)．
一般に，文節は自立語部分と付属語部分からなるが，文節区切り済データ上で，自立語部分と付属語部分が以下の条件を満たす文節を従属節の主辞となる述語的文節とする．
自立語部分は，以下のいずれかを満たす(いわゆる述語)．
動詞または形容詞．
「名詞句[MATH]判定詞(である)」
付属語部分は，以下のいずれかを満たす．
なし．
副詞タイプ(例:「[MATH](して)以来」---「以来」が副詞)．
副詞的名詞タイプ(例:「[MATH](する)ため」---「ため」が副詞的名詞)
形式名詞タイプ(例:「[MATH](する)こと」---「こと」が形式名詞)
時相名詞タイプ(例:「[MATH](する)まえ」---「まえ」が時相名詞)
述語接続助詞タイプ(例:「[MATH](する)が」---「が」が述語接続助詞)
引用助詞タイプ(例:「[MATH](する)と」---「と」が引用助詞)
(a)[MATH](g)の後に，副助詞(「は」「など」など)，終助詞(「か」「よ」など)が付加されたもの．
この定義は，狭義の従属節を含む任意の述語節(引用節，連体修飾節などを含む)に対応しており，本論文ではその全てをまとめて広義の「従属節」として扱う．
ただし，連体修飾節については，係り受け関係において受け側となる場合にのみ，係り受け関係決定の評価の対象としている．
次に，従属節の係り受け選好情報を記述するための準備として，従属節の様々な属性を記述するために，前節で定義した従属節の主辞となる述語的文節に対して，表[REF_tab:ftr]の素性を設定する．
これは，人手により抽出された[CITE]の従属節の節末表現の設定([REF_subsec:clsb]節)をより一般的・網羅的にするためのものである．
特に，本論文では，EDR日本語コーパス[CITE](約21万文)の構文解析済コーパス(のうち，文の表層文字列および構文構造の括弧付け情報のみ)を用いて，従属節の係り受け選好情報の抽出を行うので，EDRコーパスから抽出された従属節を網羅するように設定されている．
また，これらの素性は，従属節の主辞となる述語的文節の特徴を記述したもので，いずれも文節処理までで利用可能な形態素・品詞上の特徴のみを用いている．
表[REF_tab:ftr]の素性は，大きく，i)読点素性，ii)文法・品詞素性，iii)節末活用語活用形素性，iv)語彙素性の四タイプに分けられる．
ii)の文法・品詞素性は，従属節の主辞となる述語的文節の付属語列部分に現れ得る形態素の品詞を記述したもので，その形態素が文節末に現れるか文節の中程に現れるかの区別がある．
iii)の節末活用語活用形素性は，従属節の主辞となる述語的文節の文節末が活用語の場合にその活用形を記述したものである．
iv)の語彙素性は，ii)の文法・品詞素性の各素性を語彙化したものである．
従属節の間の係り受け関係の選好情報を記述する方法として，決定リスト[CITE]を用いる．
本論文では，特に，[CITE]の決定リスト学習の方法を用いて，従属節の係り受け関係が記述されたデータから従属節係り受け選好情報を抽出する．
決定リストは，ある証拠[MATH]のもとでクラス[MATH]を決定するという規則を優先度の高い順にリスト形式で並べたもので，適用時には優先度の高い規則から順に適用を試みていく．
[CITE]の決定リスト学習の方法においては，クラス[MATH]の正解付データから，証拠[MATH]が存在する([MATH])という条件のもとでクラス[MATH]が[MATH]となる条件付確率[MATH]を計算し，この条件付確率を用いて以下の手順で決定リストを構成する．
ある証拠[MATH]が存在する([MATH])という条件のもとでの条件付確率[MATH]の値の大きさが一位のクラス[MATH]と二位のクラス[MATH]の間で，以下の対数尤度比を計算する．
その結果，対数尤度比が大きい順に証拠[MATH]とクラス[MATH]の組を並べる．
ただし，このときの対数尤度比は，クラス[MATH]の確率[MATH]の値の大きさが一位のクラス[MATH]と二位のクラス[MATH]の間で以下の対数尤度比を計算して得られる値
を下限値とする．
決定リストの最終行は``default''を表し，クラス[MATH]の確率[MATH]の値の大きさが一位のクラス[MATH]を与える．
前節の決定リストの学習の手法を用いて，二つの従属節の間の係り受け関係の選好情報を抽出する．
基本的には，ある二つの従属節の主辞となる述語的文節の素性の情報の組を証拠として，その二つの述語節の間の係り受け関係を決定する．
いま，一文中で従属節の主辞となる述語的文節(および文末述語文節)の並びを[MATH]とすると，一つの述語的文節は，[REF_subsec:ftr]節で述べた素性の組で記述されるので，各述語的文節[MATH]は，複数の素性を要素としうる素性集合[MATH]を持つことになる．
このとき，決定リストの証拠[MATH]としては，二つの述語的文節[MATH]，[MATH]の持つ素性集合[MATH]，[MATH]に対して，そのあらゆる可能な部分集合の組[MATH]を証拠[MATH]の候補とする．
また，決定リストのクラス[MATH]としては，基本的には，述語的文節[MATH]と[MATH]が係り受け関係にある場合と，係り受け関係にない場合の二つを設定することになるが，第[REF_sec:sbrd_hd]節で述べた従属節の階層的分類の考え方を利用することにより，特に，二つの述語的文節が係り受け関係にない場合について，少し異なったクラスの設定をする．
そのために，まず，従属節間の係り受け関係が，従属節のスコープの包含関係にどのように対応しているのかについて調べる．
以下では，従属節の主辞となる述語的文節[MATH]が，文中の他の従属節の主辞となる述語的文節[MATH]に先行しているとして，従属節間の係り受け関係と従属節のスコープの包含関係との対応を以下のように分類して考える．
先行する述語的文節[MATH]が後続の述語的文節[MATH]に係る場合(図[REF_fig:rel1])．
先行する述語的文節[MATH]が後続の述語的文節[MATH]に係らない場合．
先行する述語的文節[MATH]が後続の述語的文節[MATH]を越えて，より遠くの述語的文節に係る場合(図[REF_fig:rel2a])．
先行する述語的文節[MATH]が後続の述語的文節[MATH]よりも前の述語的文節に係る場合．
[MATH]が[MATH]を主辞とする従属節のスコープに含まれる場合(図[REF_fig:rel2bi])．
[MATH]が[MATH]を主辞とする従属節のスコープに含まれない場合(図[REF_fig:rel2bii])．
示すように，上記の(2a)，(2b)の二通りに分けられる．
ここで，[REF_subsec:deprule]節の従属節係り受け判定規則を言い換えると，従属節の包含関係においてより広いスコープを持つ従属節(の主辞文節)は，後続する従属節のうち，より狭いスコープを持つ従属節(の主辞文節)には係らないということができる．
したがって，(2a)の場合には，主辞文節[MATH]は，包含関係において[MATH]よりもより広いスコープを持つ必要がある．
一方，(2b)の場合は，[MATH]が[MATH]を主辞とする従属節のスコープに含まれる場合((2b-i)，図[REF_fig:rel2bi])と，含まれない場合((2b-ii)，図[REF_fig:rel2bii])の両方の可能性がある．
したがって，一般に，(2b)の場合には，[MATH]を主辞とする従属節のスコープの広さと，[MATH]を主辞とする従属節のスコープの広さの間には依存関係がなく，互いに独立な関係にあると言える．
以上のことから，本論文では，二つの述語的文節が係り受け関係にない場合のうち，特に(2a)の場合のみに注目して，決定リストのクラス[MATH]としては，
節となる場合，
の二つを設定することとし，このいずれの場合になるかを判定することとする．
以上をまとめると，決定リストの証拠[MATH]とクラス[MATH]は以下のようになる．
証拠[MATH]:二つの従属節の主辞となる述語的文節[MATH]，[MATH]の持つ素性集合のあらゆる部分集合の組[MATH]．
クラス[MATH]: [MATH]が[MATH]に係る場合([MATH])と，[MATH]が[MATH]を越えてより後ろの述語的文節もしくは文末述語文節に係る場合([MATH])の二値．
このような証拠[MATH]とクラス[MATH]の設定のもとで，前節の決定リストの学習法にしたがって，従属節間の係り受けを決定する選好情報を抽出する．
例として，図[REF_fig:ex]の従属節間の係り受け解析済の文から，従属節の係り受け関係のデータを抽出する手順を以下に示す．
図[REF_fig:ex]の文には，文末の他に二つの述語的文節[MATH]，[MATH]があり，それぞれ，[MATH]，[MATH]の素性集合を持つ．
また，係り受け関係としては，[MATH]が文末に係るために，[MATH]は[MATH]を「越える」という関係にある．
この[MATH]と[MATH]の係り受け関係から，決定リストを構成するための証拠[MATH]・クラス[MATH]のデータを抽出すると，表[REF_tab:EDex]の結果が得られる．
ここで，[MATH]中の二つの素性
述語接続助詞(節末)，``が''
については，包含関係にあるので，どちらか一方のみを含めることして，[MATH]と[MATH]のあらゆる可能な部分集合の組が証拠[MATH]となる．
また，これらの証拠に対して，そのクラス[MATH]はいずれも[MATH]となる．
EDR日本語コーパスの約21万文を訓練用データ(95%)と評価用データ(5%)に分割し，訓練用データ199,500文から，係り受け関係が「係る」または「越える」になる述語的文節を抽出した結果，162,443組の述語的文節のペアが得られた．
これらの従属節係り受けデータから，従属節係り受け選好のための決定リストを学習した．
結果のうち，証拠[MATH]の頻度が10以上の規則をいくつか抜粋したものを表[REF_tab:dlist]に示す．
規則数は，確率値が[MATH]となる規則が923，[MATH]となる規則が6,889で，その総数は7,812である．
表[REF_tab:dlist]の決定リストのデフォールト規則としては，
となることから，[MATH]をデフォールト規則とし，これを決定リストの最終行とする．

いま，一文中の二つの従属節の主辞文節[MATH]，[MATH]が与えられていて，決定リストを用いてこの二つの文節間の係り受け関係を推定することを考える．
[MATH]，[MATH]それぞれの持つ素性集合を[MATH]，[MATH]とすると，[MATH]，[MATH]に対してあらゆる可能な部分集合の組[MATH]を考え，これを証拠[MATH]の候補として決定リストを検索し，決定リスト中でもっとも優先順位の高い規則の与えるクラス[MATH]を[MATH]，[MATH]の係り受け関係の推定結果とする．
決定リストを用いたこの係り受け関係の推定法は，あらゆる可能な証拠[MATH]について，条件付確率[MATH]の最大値を与える証拠[MATH]を求め，その証拠を用いた時のクラス[MATH]をクラス[MATH]の推定結果[MATH]とすることと等価である．
例として，図[REF_fig:ex]の文の述語的文節[MATH]と[MATH]の間の係り受け関係を，表[REF_tab:dlist]の決定リストを用いて推定する様子を以下に示す．
述語的文節[MATH]と[MATH]の組に対する可能な証拠のパターン[MATH]は，表[REF_tab:EDex]のようになり，これらの証拠について表[REF_tab:dlist]の決定リストを検索すると，それぞれ表[REF_tab:dlap]に示すクラス[MATH]および条件付確率[MATH]が得られる．
この結果，最も優先順位の高い規則として，表[REF_tab:dlap]の先頭にゴシック体で示した規則が選ばれ，係り受け関係の推定に用いる証拠[MATH]および係り受け関係の推定結果[MATH]はそれぞれ，
となる．
次に，前節で求めた二つの従属節の間の係り受け関係の推定結果を用いて，一文中の従属節の係り受け解析を行う．
その際には，先行する従属節の主辞となる述語的文節が，後続する述語的文節に「係る」確率だけでなく，後続する述語的文節を「越える」確率も考慮して，従属節の係り受け解析の優先度を計算する．
まず，文[MATH]をその文中の述語的文節の列[MATH]として以下のように記述する．
ここで，各[MATH]は述語的文節を表し，[MATH]は文末の述語文節である．
また，述語的文節[MATH]の係り先の文節を[MATH]で表す．
そして，文[MATH]中の述語的文節の列[MATH]の間の係り受け関係のパターンを，述語的文節[MATH]の係り先の文節[MATH]の列で表し，これを[MATH]と記述する．
ただし，ここでは，文中の係り受け関係としては，互いに非交差のもののみを対象とする(実際の解析は，CKY法によっている．
)．
そして，以下の手順により，決定リスト中の係り受け関係の確率値を用いて，それぞれの係り受けパターン[MATH]の優先度を計算する．
まず，従属節[MATH]から[MATH]への係り受け関係の優先度を計算する．
前節と同様，二つの述語的文節[MATH]と[MATH]の間に係り受け関係[MATH]が成り立つ確率の推定においては，あらゆる証拠[MATH]について，決定リストを用いて条件付確率[MATH]の最大値を求め，この最大条件付確率を求めるべき推定値[MATH]とする．
そして，述語的文節[MATH]を[MATH]の係り先
として，以下の式により，述語的文節[MATH]が[MATH]に係る係り受け関係の優先度[MATH]を計算する．
[MATH]の場合．
[MATH]が[MATH]に「係る」確率と[MATH]が[MATH]を「越える」確率の相乗平均を[MATH]とする．
[MATH]の場合．
[MATH]が[MATH]に「係る」確率は(文末を「越える」確率は0なので)1とみなして考慮せず，[MATH]が[MATH]を「越える」確率の相乗平均を[MATH]とする．
(ただし，[MATH]とする．
[MATH]のときは，[MATH]は必ず[MATH](文末)に係る．
)
最後に，述語的文節[MATH]から[MATH]への係り受け関係の優先度[MATH]の積によって，文[MATH]中の述語的文節の列[MATH]が係り受け関係[MATH]を持つ優先度[MATH]を計算する．
上式の優先度を用いて，文[MATH]中の述語的文節の列[MATH]に対して以下の最大の優先度を与える係り受け関係[MATH]を，文[MATH]の従属節係り受け解析の解析結果とする．
