発音記号生成実験\label{sec:test}

本手法の効果を確認するために，簡単な評価実験を行なった．

以下，実験内容について述べる．

\subsection{サンプルテキストと比較対象}

評価実験にはポーズの正確さを評価するため，一文がある程度長く，文の構造が複雑である小説\cite{村上1995}から引用した文を入力用サンプルテキストとして用いた\footnote{予備調査の実験サンプルと出典は同じであるが，引用文に重複はない}．一文の平均文節数は21.5，平均モーラ数は146.5である．

比較対象は 2.3.1節の予備調査の実験と同様のテキスト音声合成\mbox{ソフトウェアパッケージ（以}下，従来システムと呼ぶ）の出力した発音記号列である．

\subsection{実験方法}

実験は以下の手順で行なった．

\begin{enumerate}

	\item 形態素解析誤りが構文解析処理に影響しないように，必要に応じて従来システム，および本手法を実装したシステムへの単語登録，解析誤り訂正を予め行なっておく

	\item サンプルテキストに対し，最も自然に聞こえるように人手でチューニングした発音記号列（Ａ）を作成する\footnote{２人の人間がチューニングし，意見が分かれた箇所は一緒に実際に出力音声を聞き比べて検討し，一意に意見をまとめた}

	\item サンプルテキストを従来システムに入力し，発音記号列（Ｂ）を得る

	\item サンプルテキストを本手法を実装したシステムに入力し，発音記号列（Ｃ）を得る
	
	\item 得られた発音記号列（Ｂ），（Ｃ）のポーズ挿入位置を，発音記号列（Ａ）のポーズ挿入位置と比較する
	
\end{enumerate}

\subsection{評価方法}

評価は，予備調査時の評価方法と同様に，ポーズ挿入正解率，ポーズ挿入精度向上率，ポーズ挿入精度降下率という３つの観点で行なった．

\subsection{評価結果}

評価結果を表\ref{tab:kekka}に，更に，ポーズ挿入精度向上例を発音記号サンプルを挙げて示す．

\vspace{0.3cm}
\begin{table}[hbtp]
\caption[評価結果]{評価結果}
\label{tab:kekka}
\begin{center}
\begin{tabular}{|l|r|} \hline
ポーズ挿入正解率（従来システム） & 80.7％  \\ \hline
ポーズ挿入正解率（本手法実装システム）  & 95.5％  \\ \hline
ポーズ挿入精度向上率  &  77.8％  \\ \hline
ポーズ挿入精度降下率  &   7.7％  \\ \hline
\end{tabular}
\end{center}
\end{table}
\vspace{0.2cm}

\begin{itemize} 

{\item \small ひとまとまりの意味を成す連文節中に目立ったポーズが挿入されるなどの致命的なポーズ誤りに対するポーズ挿入精度向上率は100％}

{\item \small ポーズ挿入精度降下率は係り受け解析誤りを含む}

{\item \small ＱＪＰの評価文に対する構文解析精度（係り受け正解率）は86.6％}

\end{itemize}
\vspace{0.3cm}

【ポーズ挿入精度向上例】\footnote{発音記号列における「/」はアクセント句境界またはポーズ挿入位置を示す．また，「/」の数が１のときはアクセント句境界を表し，2以上のときはポーズを表す．２以上の場合，数が多いほどポーズ挿入尤度が高い（＝ポーズの長さが長い）ことを示す．以降の例についても同様である．}

\vspace{0.3cm}

\hspace*{0.5cm}●入力テキスト

\hspace*{1cm}「その女性は赤い長めのオーヴァーコートを着て，・・・」

\vspace{0.3cm}

\hspace*{0.5cm}●従来システムが出力した発音記号列

\hspace*{1.1cm}ソノ/ジョセーワ/アカイ////ナガメノ/オーバーコ’−トオ//キテ////

\vspace{0.4cm}

「赤い」と「長め」の間に長いポーズが挿入されているが，この発音記号を音声出力すると，文意と異なった意味にとれるほど不自然である．隣接文節との係り受けの可否で検査するため，「女性は」と「赤い」の係り受けの関係が強く，「赤い」と「長め」の係り受けの関係が弱いことにより，こういった失敗が生じていた．

\vspace{0.4cm}

\hspace*{0.5cm}●本システムが出力した発音記号列

\hspace*{1.1cm}ソノ/ジョセーワ////アカイ//ナガメノ/オーバーコ’−トオ/キテ////

\vspace{0.4cm}

本手法による発音記号では，文意に即した自然な音声出力が得られた．遠い係り先まで検査するため，「女性は」の係り先可能性として，「赤い」と「着て，」を検出する．ＱＪＰにより「着て」との係り受けが尤もらしいと判断され，係り受け文節間の距離４で「女性は」の後に長いポーズが挿入される．一方，「赤い」は「オーヴァーコートを」に係るので，係り受け文節間の距離２で「赤い」の後には「女性は」の直後のポーズより短いポーズが挿入される（図２参照）．

{
\setlength{\baselineskip}{3.5mm}
\begin{verbatim}



       【係り受け木構造】                 【係り受け関係】

       [ 1]:      ┏その                  <連体詞連体:体言句>
       [ 2]:    ┏女性は                  <主格主題:動詞句>
       [ 3]:    ┃┏赤い                  <連体形連体:体言句>
       [ 4]:    ┃┣長めの                <の連体:体言句>
       [ 5]:    ┣オーヴァーコートを       <を連用:動詞句>
       [ 6]:  ┏着て，                    <て連用:動詞句>
           :         :                             :


                   図2  ＱＪＰの出力した係り受け

\end{verbatim}
}

\vspace{0.3cm}

\subsection{考察}

評価結果より，文節数に制限のない係り受け文節間の距離，および係り受け関係をポーズ挿入処理に利用することが，ポーズ挿入精度の向上に寄与することが確認された．

一方，適切なポーズが挿入できない原因を調査すると，約54％が構文解析処理の誤りに起因するものであった．
その他，係り先が遠い文節が続いた場合のポーズ長の調整不足によるもの，規則２の係り受け関係の分類の甘さによりポーズ挿入尤度が効いていないものがあった．

\subsubsection{4.5.1 \hspace{5mm}構文解析精度との関係}

本システムにおいては，規則１により，係り先文節への距離５以上の場合，挿入尤度が同じ（大ポーズレベル）になるため，距離５の係り受けを，距離１０の係り受けと誤っても，係り受け誤りは吸収されるため，構文解析誤り全てがポーズ挿入処理に悪影響を及ぼすものではない．逆に距離４以下の係り受けに対しては精度の高さが求められる．構文解析処理の誤りに起因するポーズ挿入誤りは，ＱＪＰの係り受け解析規則をより高精度にすることで，減少することが期待できる．

\subsubsection{4.5.2 \hspace{5mm}ポーズ長の調整}

接続詞句や副詞句など，係り先が遠く独立性の高い文節の直後には，規則に基づくと長いポーズが挿入されるが，これらの句が連続して続く場合には短いモーラ長の句の間に長いポーズが続けて挿入される．構文的区切り位置であることは明らかに分かるが，自然な読み上げには聞こえない．

下記の例では，「しかし」，「仮に」，「それが」の係り先文節への距離(d)が４以上であるため，各文節末に長いレベルのポーズが挿入され，音声出力した場合，不自然に聞こえてしまう．

\vspace{0.3cm}

【長いポーズ連続挿入例】

\vspace{0.3cm}

\hspace*{0.5cm}●入力テキスト

\hspace*{1cm}「しかし，仮にそれが実証に一番都合のいい方法であるにしても・・・」

\vspace{0.3cm}

\hspace*{0.5cm}●本システムで出力される発音記号列

\hspace*{1.1cm}シカ’シ////カリニ////ソレガ////ジッショーニ///イチバン//ツゴーノ/

\hspace*{1cm}イ’ー/ホーホーデ/ア’ルニ/シテ’モ・・・

\vspace{0.4cm}

文法的要因の他に境界前後の句のモーラ長がポーズ位置やポーズ長に影響を与えるということは言及があり\cite[など]{箱田1980,Tsukada1996}，モーラ長も無視できない要因である．
上記例のように３モーラ程度と短く，独立性の高い文節間に長いポーズが連続して挿入される場合には，ポーズ挿入尤度の低い境界におけるポーズのポーズ長レベルの格下げなど，\ref{algopose}節のポーズ挿入処理のアルゴリズムの６の逆を実施するなど，呼気段落に基づくモーラ長の最短閾値の設定で対処していくことが考えられる．

\subsubsection{4.5.3 \hspace{5mm}係り受け関係の分類}

本手法ではＱＪＰ構文解析系の係り受けの関係を大まかに６種に大分類してポーズ挿入尤度を持たせたが，尤度が効いていない事例があった．ガ格やヲ格など格関係を別分類にする，また，係り受け関係の出現順を考慮するなど，まだ再考の余地があると考えられる．

