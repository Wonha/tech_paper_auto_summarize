本論文で述べるシステムにより意味解析が可能となる日本語の複文は，\tableref{システムの対象}に示すような種類のものである．
例えば，次のような例文である．
\enumsentence{複文a}寒かったので，窓を閉めた．
\enumsentence{複文aa}寒がったので，窓を閉めた．
\enumsentence{複文c}奈緒美は寒がったのに窓を閉めなかった．
\enumsentence{複文d}オモチャを壊されたのに，作り直さなかった．
これらの例文は，\exsref{複文a}，\exsref{複文aa}が順接の複文，\exsref{複文c}，\exsref{複文d}が逆接の複文といわれるものであり，それぞれ次のような意味を表していると考えることができる．
「ので」(「から」)による順接文…従属節での記述内容を原因として起こった動作・状態が主節での記述内容である．
「のに」による逆接文…従属節での記述内容から予想される結果とは異なる動作・状態が主節での記述内容である．
つまり，これらの複文は全て「原因・理由--結果」を表しているといえる．
そのため，複文の意味を考える際にも，この「因果性」という要素を扱わなければならない．
そこで，次のように動機保持者という意味および語用論的性質を持つ役割を定義し，従属節と主節との間で意味役割もしくは語用論的役割を橋渡しする役割を担わせる.
{動機保持者} \deflabel{動機保持者}動機保持者とは，従属節で記述される状況によって，主節中で記述される何らかの動作もしくは状態を引き起こすに十分の動機を持つ人物を指す．
動機保持者を用いることにより，\tableref{システムの対象}に示した種類の複文では，意味的な因果性を\tableref{従属節の制約}および\tableref{主節の制約}のような意味もしくは語用論的役割の間の制約の形で記述することができる[CITE]．
ここで，本論文で扱う制約に必要な意味および語用論的役割の定義を以下に示す．
動作主，経験者，受動者，対象…いわゆる[MATH]役割に対応する．
観察者…命題部で記述される状況を直接もしくは間接的に観察する人物のうち，経験者以外の人物を指す．
被影響者…受動態で記述される動作・作用の影響を受ける人物を指し，
直接受動文の場合，接尾辞「られ」が支配する動詞句での受動者と同一人物を指す．
間接受動文の場合，接尾辞「られ」の主格すなわち被害者を指す．
使役者…使役態の文の主格に対応する意味役割であり，使役態で記述されている事態を直接もしくは間接的にひきおこす人物を指す[CITE]．
例えば，「母親が赤ん坊にミルクを飲ませる」という文の場合，主格である「母親」が使役者である．
なお，以降で，意味もしくは語用論的役割の照応関係を記述する場合，``\prole{役割名}{設定された節}''という表記を用いる．
先ほどの例文を用いて，これらの制約がどのように適用されるかを見てみる．
ただし，本論文では，「は」は主格を主題として取り立てる場合のみについて考えることとする．
寒かったので，窓を閉めた．
この文では，主節の「窓を閉めた」という動作を行なった人物は，従属節で「寒い」と感じた人であり，この二つの意味役割が動機保持者を介して一致する．
寒がったので，窓を閉めた．
一方この文では，誰かが寒がった状況を観察した人物(観察者)が動機保持者となり，これが主節の動作主と一致する．
奈緒美は寒がったのに窓を閉めなかった．
従属節では，誰かが寒がった状況を観察した人物が動機保持者となり，これが主節の動作主と一致する．
また，「奈緒美は」は，主節の主格を主題として取り立てられているとするため，結局「奈緒美」が誰かが寒がっている状況を観察し，その結果として主節の動作主となる解釈が得られる．
また，\tableref{従属節の制約}により，逆接文の持つもう一つの解釈として，「寒がった」人物，つまり「寒い」という状況の経験者が動機保持者となり，これが主節の動作主と一致する場合もある．
この時も，「奈緒美は」は主節の主格となるため，「奈緒美」自身が寒がり，かつ主節の動作主となることになる．
オモチャを壊されたのに，作り直さなかった．
この文の従属節は間接受身の解釈となる．
例えば，「私」がオモチャの所有者であり，そのオモチャを「壊される」という動作の被影響者となる．
そして，その人物(ここでは「私」)が\tableref{従属節の制約}の制約によって動機保持者となり，主節の動作「作り直す」の動作主となる．
以上で述べた制約について重要な点は，文献[CITE]で提案された動機保持者に関する制約が，従属節における動機保持者の決まり方，主節における動機保持者の結び付き先を，各々，従属節内，主節内において局所的に与えている点である．
この局所性により，動機保持者が関与するゼロ代名詞照応の計算で考慮すべき領域が主節あるいは従属節の内部に限定されるため，計算の効率向上に大きく寄与し，また，句構造文法など，既成の文法体系の上でこの制約を利用したシステムを構築する際には都合がよい．
さて，ここで，以上のような複文の解釈結果を素性構造で記述することについて述べる．
そのために，まず，本論文で扱う「ので(から)」「のに」による複文の階層構造を，\figref{複文の階層構造}のように考える．
すると，例えば\exsref{複文aa}は，複合事象のレベルまでの構造が\figref{複文の階層構造の例}となる．
この階層構造は，文献[CITE]での議論をもとにしており，本論文では接続助詞「ので(から)」「のに」によって形成される従属節中に様相辞が存在しない場合を扱うことなどから，「ので(から)」「のに」が事象レベルに接続して従属節を形成すると考えることにより得られる．
次に，複文の意味素性構造について考える．
日本語の複文の素性構造表現，特にその意味素性に関する素性構造表現の定式化は今だ明確になされていないのが現状である．
例えば，文献[CITE]では，「ために」という接続詞の構造を\figref{「ために」の構造}のように表している．
このように，semに関しては抽象的な説明となっており，``a cause of\/''という意味が実際にどのような構造をとるかについては述べられていない．
しかし，本論文では節間の意味的なつながりに触れており，\figref{「ために」の構造}におけるsemにあたる情報をどのような構造で表すかという問題を扱わなければならない．
そこで，ここでは，複文の意味素性として\figref{複文の意味素性}のような構造を考える．
まず，複文の意味主辞として主節の意味主辞をとる．
意味修飾辞としては，従属節を示す\figref{修飾辞素性}のような素性構造をとる．
\figref{修飾辞素性}では，意味主辞として，修飾関係，接続，接続関係という素性を用意している．
修飾関
係素性の値は，従属節を表すために``従属節''とし，接続素性は，その値として``ので''，``のに''のような接続助詞名をとる．
また，接続関係素性の値は，接続助詞が「ので」の場合は``順接''，「のに」の場合は``逆接''とする．
さらに，動機保持者の参照する人物を値としてとる動機保持者素性と，従属節の事象レベルでの意味主辞を値としてとる事象素性も意味主辞中に設定する．
なお，事象という素性を用いるのは，前記の\figref{複文の階層構造}の構造による．
\sbox{ \outerfs{ Soa: \outerfs{ relation:閉める
動作主: 1
対象:窓}
時制:基準時以前
認め方:肯定} }
ここで，文\exsref{複文aa}の意味素性について考えてみる．
主節の意味素性は，\figref{主節のSEM}に示すようになり，従属節の意味素性は，\figref{従属節のSEM}に示すようになる．
ただし，\figref{従属節のSEM}の``OBSERVE''というrelationは，接尾辞「がる」により導入される関係であり，「がる」によって導入される役割が``観察者: 2''，観察された状況が``Soa: [・・・]''である．
\sbox{ \outerfs{ relation: OBSERVE
Soa: \outerfs{ relation:寒い
経験者: exp }
観察者: 2 } }
\sbox{ \outerfs{ relation: OBSERVE
Soa: \outerfs{ relation:寒い
経験者: exp }
観察者: 1 } }  \sbox{ \outerfs{意味主辞: \outerfs{修飾関係:従属節
接続:ので
接続関係:順接
動機保持者: 1
事象: \outerfs{ Soa: \usebox
時制:基準時以前
認め方:肯定} }
意味修飾辞: { }} }  \sbox{ \outerfs{ Soa: \outerfs{ relation:閉める
動作主: 1
対象:窓}
時制:基準時以前
認め方:肯定}}
Sub中では，タグ2の参照関係によって，``動機保持者= \prole{観察者}{従属節}''という制約が記述されている．
ただし，これらから単一化により\figref{複文の意味素性}の素性構造を組み立てる際に，``動機保持者= \prole{動作主}{主節}''という\tableref{主節の制約}の制約に対応する``1 = 2''という制約も素性構造に反映させる．
ここで，1は，主節の動作主を参照するタグであり，2は，従属節の観察者を参照するタグである．
このようにして組み立てた複文\exsref{複文aa}の意味素性を\figref{単一化による複文の素性構造}に示す．
ここでは，2は全て1に置き換わっている．
以上のように，意味および語用論的役割の照応関係に関する意味解析を行なうためには，各役割(変数)の同値関係などの情報を解析中に扱わなければならず，その結果も各変数間の関係で得られることが多い．
このような問題を扱うための方法論の一つに制約論理プログラミングがある[CITE]．
一方，JPSG[CITE]における下位範疇化原理などの文法的な原理も，一種の制約条件とみなせることから[CITE]，制約論理プログラミングの手法を取り入れた，複文の意味解析システムの構築が考えられる．
\iffalseどの部分に語用論的制約を記述し，どの様にしてそれを利用するか，についてここで説明する．
\fi
そこで今回，著者らは，形態素解析システムJUMAN[CITE]，構文解析システムSAX[CITE]を利用し，さらに制約変換システム[CITE]を併用するシステムを構築した．
システムの構成の概略は\figref{システム構成}のようになる．
図中において，JUMANおよびSAXは既存のシステムである．
我々は，ここに，SAXで用いる文法規則として\figref{複文の階層構造}の階層構造を基にしたDCGを，さらに意味解析のための制約を記述した意味辞書を新しく設けた．
さらに，これらを利用して解析を行なうためにSAXと制約変換システムをDCGの補強項に記述したPrologのプログラムを通じて接続したものが，本システムである．
このシステムに日本語文(単文，「ので」「のに」による複文)が入力されると，JUMANにより形態素解析され，SAXにその結果が渡される．
そして，構文解析されるわけだが，ここで，[REF_節:複文の制約]節の\tableref{従属節の制約}，\tableref{主節の制約}で挙げた制約を用いて，意味役割などの照応解析を行なう．
本システムでは，\tableref{従属節の制約}，\tableref{主節の制約}の語用論的制約を，各語彙の意味辞書として素性構造の形式で記述する．
構文解析を行ないつつ，これらの情報を制約変換システムにより変換し，意味および語用論的役割の照応解析を行なうことが，本システムの目的である．
以上のように，本システムでは，意味辞書に記述した制約を変換しながら解析が進む．
このため，各語彙についての意味辞書の記述，特に「ので」「のに」という接続助詞の意味辞書の記述が本システムにとってのもっとも重要な点となる．
[htbp]
閉める(動詞,F,Kform, [F=[主辞:[品詞:動詞,活用形:Kform,使役形態:ニ使役,文法格:[主格:'+',対格:'+',与格:'-'],接尾可能様態辞:[passive:'+',causative:'+', observe:'-',desire:'+']],文法格内容:[主格:[意味:X],対格:[意味:Y]],見出し:閉める, slash:[],近接:[],下位範疇化:[[主辞:[品詞:格助詞,格標識:が,文法役割:subject],依存語彙:[品詞:動詞,見出し:閉める],意味:X], [主辞:[品詞:格助詞,格標識:を,文法役割:object],依存語彙:[品詞:動詞,見出し:閉める],意味:Y]],意味:[意味主辞:[soa:[relation:閉める,動作主:X,対象:Y#[意味主辞:[animate:'-']]],時制:T],意味修飾辞:[]]], constraint_Tense(Kform,T)]).
\figlabel{動詞の意味辞書例}
本システムにおける意味辞書は，意味役割などがどのように設定されるかといったいわゆる意味情報に加えて，用言における下位範疇化情報など，文法情報に属するものも併せて素性構造の形式を用いて記述する．
例えば，動詞「閉める」の意味辞書は\figref{動詞の意味辞書例}のように記述する．
なお，``X#[*]''という表記は，素性構造``[*]''をXという名前のタグを用いて参照できることを示す．
この辞書には，「閉める」が格助詞「が」を伴う後置詞句をsubjectとして下位範疇化し，その意味役割は動作主となること，格助詞「を」を伴う後置詞句をobjectとして下位範疇化し，その意味役割は対象となること，が記述してある．
時制についてはconstraint_Tense/2という制約を用いて，用言の活用語尾によって「基準時」(現在形の場合)もしくは「基準時以前」(過去形の場合)という値をとるように記述してある．
[htbp]
のだ(助動詞,F,ダ列タ系連用テ形, [F=[主辞:[品詞:助動詞,接続関係:順接,修飾関係:従属節,依存:Depend],見出し:ので,近接:Adjacent,意味:Sem], constraint_NoDe(Depend,Adjacent,Sem)]).
\figlabel{接続助詞の意味辞書例}
[htbp]
constraint_NoDe( [主辞:[品詞:動詞,態:能動],意味:[意味主辞:[事象:[soa:[動作主:Motiv]]]]], [[主辞:[品詞:動詞性接尾辞,態:observe],意味:[意味主辞:Sem#[事象:[soa:[観察者:Motiv]]]]]], [意味主辞:Sem#[接続:ので,修飾関係:従属節,接続関係:順接,動機保持者:Motiv],意味修飾辞:[]]).
\figlabel{従属節制約例}
また，「ので」「のに」による複文を解析するために，これら接続助詞の意味辞書を記述する必要がある．
ここでは，「ので」の意味辞書を\figref{接続助詞の意味辞書例}に示す．
辞書項目中において，近接素性の値が，「ので」がつく従属節の内容を示す素性構造となる．
また，依存素性の値が，「〜なので」という従属節をとる主節の内容を示す素性構造となる．
ところで，依存素性や近接素性の値は，主節や従属節の記述形式によって変化するものであるため，辞書中では制約を用いてその値を記述する．
これらの値を与えるのが制約constraint_NoDe/3であり，第一引数が依存素性の値，第二引数が近接素性の値，第三引数が「ので」の意味素性の値となる．
ここでは，従属節が主観形容詞+「がる」による記述，主節が意志的動作記述(能動態)の場合の制約について，\figref{従属節制約例}に示す．
この記述により，``\prole{観察者}{従属節} =動機保持者''および``\prole{動作主}{主節} =動機保持者''という制約が変数Motivを用いて表されている．
このように，依存素性および近接素性を用いることによって，接続助詞「ので」による複文は複合事象レベルにおいて\figref{共有関係}のような構造および素性値の共有関係を持つこととなる[CITE]．
なお，接続助詞「のに」の場合も同様にして扱う．
本システムは，SAXにおいてDCGを用いることにより構文解析を行ない，同時に制約変換システムと情報のやりとりをすることによって意味解析を行なうものである．
このため，文の解析は\figref{複文の階層構造}のような構造を持つ構文解析木がボトムアップに生成されるように進む．
複文を解析した場合には，従属節が従属事象として解析され，主節が事象として解析され，これらを複合事象としてまとめることによって複文となる，というように解析が進む．
[htbp]
\figlabel{例文の構文木}
この節では，「寒がったので，窓を閉めた」という簡単な複文を例にとり，本システムにおける解析がどのように行なわれるのかについて述べる．
なお，本システムにおけるこの文の構文解析木は，\figref{例文の構文木}のように得られる．
まず，従属節「寒がったので」の部分の解析について述べる．
これは，``従属事象-->事象，接続''というDCGにより，「寒がった」という事象と「ので」という接続とからなると解析される．
このとき，「寒がった」という部分の解析結果として\figref{従属節部分1}の素性構造がえられる．
また「ので」の意味辞書より，従属節が主観形容詞+「がる」であり主節が動作動詞の能動態の場合として\figref{従属節部分2}の素性構造がそれぞれ得られる．
\figref{従属節部分1}の素性構造では，意味素性の中に経験者と対象と観察者という役割が設定されている．
また，経験者については，タグF9によって主格の後置詞句の持つ意味素性の値を参照し，対象はタグF12によって対格の後置詞句の持つ意味素性の値を参照する．
\figref{従属節部分2}では，意味素性の値として，\figref{修飾辞素性}に対応する素性構造をとる．
また，近接素性の値は従属節の形式(この場合は主観形容詞+「がる」)に対応する値であり，主辞素性中の依存素性の値は主節の形式(ここでは動作動詞による能動態)に対応している．
[htbp]
\figlabel{従属節部分1}
[htbp]
\figlabel{従属節部分2}
そして，\figref{従属節部分1}の素性構造と，\figref{従属節部分2}中の近接素性の値となっている素性構造との単一化が行なわれ，従属節「寒がったので」の解析結果として\figref{従属節部分3}の素性構造が得られる．
この素性構造中の意味素性の値は，\figref{従属節のSEM}に示したSubに相当し，タグF21によって，観察者と動機保持者が同じ値を参照することを表している．
[htbp]
\figlabel{従属節部分3}
次に，主節の「窓を閉めた」という部分が，事象として同様に解析される．
その結果として，\figref{主節部分1}の素性構造が得られる．
ここでは，意味素性の中に動作主と対象という役割が設定されており，タグF16によって対象が対格である「窓」の意味素性を参照すること，およびタグF8によって動作主が主格の後置詞句の意味素性の値を参照することが示されている．
[htbp]
\figlabel{主節部分1}
そして，\figref{従属節部分3}，\figref{主節部分1}の素性構造が，``複合事象-->従属事象，事象''というDCGによって組み合わされる．
この時，\figref{従属節部分3}の依存素性の値と\figref{主節部分1}の素性構造を単一化することで，複文全体の意味素性が形成される．
その結果として，\figref{全文}に，全文の解析結果として得られる素性構造を示す．
[htbp]
\figlabel{全文}
[htbp]
\figlabel{逆接全文}
本論文で述べるシステムにより意味解析が可能となる日本語の複文は，\tableref{システムの対象}に示すような種類のものである．
例えば，次のような例文である．
\enumsentence{複文a}寒かったので，窓を閉めた．
\enumsentence{複文aa}寒がったので，窓を閉めた．
\enumsentence{複文c}奈緒美は寒がったのに窓を閉めなかった．
\enumsentence{複文d}オモチャを壊されたのに，作り直さなかった．
これらの例文は，\exsref{複文a}，\exsref{複文aa}が順接の複文，\exsref{複文c}，\exsref{複文d}が逆接の複文といわれるものであり，それぞれ次のような意味を表していると考えることができる．
「ので」(「から」)による順接文…従属節での記述内容を原因として起こった動作・状態が主節での記述内容である．
「のに」による逆接文…従属節での記述内容から予想される結果とは異なる動作・状態が主節での記述内容である．
つまり，これらの複文は全て「原因・理由--結果」を表しているといえる．
そのため，複文の意味を考える際にも，この「因果性」という要素を扱わなければならない．
そこで，次のように動機保持者という意味および語用論的性質を持つ役割を定義し，従属節と主節との間で意味役割もしくは語用論的役割を橋渡しする役割を担わせる.
{動機保持者} \deflabel{動機保持者}動機保持者とは，従属節で記述される状況によって，主節中で記述される何らかの動作もしくは状態を引き起こすに十分の動機を持つ人物を指す．
動機保持者を用いることにより，\tableref{システムの対象}に示した種類の複文では，意味的な因果性を\tableref{従属節の制約}および\tableref{主節の制約}のような意味もしくは語用論的役割の間の制約の形で記述することができる[CITE]．
ここで，本論文で扱う制約に必要な意味および語用論的役割の定義を以下に示す．
動作主，経験者，受動者，対象…いわゆる[MATH]役割に対応する．
観察者…命題部で記述される状況を直接もしくは間接的に観察する人物のうち，経験者以外の人物を指す．
被影響者…受動態で記述される動作・作用の影響を受ける人物を指し，
直接受動文の場合，接尾辞「られ」が支配する動詞句での受動者と同一人物を指す．
間接受動文の場合，接尾辞「られ」の主格すなわち被害者を指す．
使役者…使役態の文の主格に対応する意味役割であり，使役態で記述されている事態を直接もしくは間接的にひきおこす人物を指す[CITE]．
例えば，「母親が赤ん坊にミルクを飲ませる」という文の場合，主格である「母親」が使役者である．
なお，以降で，意味もしくは語用論的役割の照応関係を記述する場合，``\prole{役割名}{設定された節}''という表記を用いる．
先ほどの例文を用いて，これらの制約がどのように適用されるかを見てみる．
ただし，本論文では，「は」は主格を主題として取り立てる場合のみについて考えることとする．
寒かったので，窓を閉めた．
この文では，主節の「窓を閉めた」という動作を行なった人物は，従属節で「寒い」と感じた人であり，この二つの意味役割が動機保持者を介して一致する．
寒がったので，窓を閉めた．
一方この文では，誰かが寒がった状況を観察した人物(観察者)が動機保持者となり，これが主節の動作主と一致する．
奈緒美は寒がったのに窓を閉めなかった．
従属節では，誰かが寒がった状況を観察した人物が動機保持者となり，これが主節の動作主と一致する．
また，「奈緒美は」は，主節の主格を主題として取り立てられているとするため，結局「奈緒美」が誰かが寒がっている状況を観察し，その結果として主節の動作主となる解釈が得られる．
また，\tableref{従属節の制約}により，逆接文の持つもう一つの解釈として，「寒がった」人物，つまり「寒い」という状況の経験者が動機保持者となり，これが主節の動作主と一致する場合もある．
この時も，「奈緒美は」は主節の主格となるため，「奈緒美」自身が寒がり，かつ主節の動作主となることになる．
オモチャを壊されたのに，作り直さなかった．
この文の従属節は間接受身の解釈となる．
例えば，「私」がオモチャの所有者であり，そのオモチャを「壊される」という動作の被影響者となる．
そして，その人物(ここでは「私」)が\tableref{従属節の制約}の制約によって動機保持者となり，主節の動作「作り直す」の動作主となる．
以上で述べた制約について重要な点は，文献[CITE]で提案された動機保持者に関する制約が，従属節における動機保持者の決まり方，主節における動機保持者の結び付き先を，各々，従属節内，主節内において局所的に与えている点である．
この局所性により，動機保持者が関与するゼロ代名詞照応の計算で考慮すべき領域が主節あるいは従属節の内部に限定されるため，計算の効率向上に大きく寄与し，また，句構造文法など，既成の文法体系の上でこの制約を利用したシステムを構築する際には都合がよい．
さて，ここで，以上のような複文の解釈結果を素性構造で記述することについて述べる．
そのために，まず，本論文で扱う「ので(から)」「のに」による複文の階層構造を，\figref{複文の階層構造}のように考える．
すると，例えば\exsref{複文aa}は，複合事象のレベルまでの構造が\figref{複文の階層構造の例}となる．
この階層構造は，文献[CITE]での議論をもとにしており，本論文では接続助詞「ので(から)」「のに」によって形成される従属節中に様相辞が存在しない場合を扱うことなどから，「ので(から)」「のに」が事象レベルに接続して従属節を形成すると考えることにより得られる．
次に，複文の意味素性構造について考える．
日本語の複文の素性構造表現，特にその意味素性に関する素性構造表現の定式化は今だ明確になされていないのが現状である．
例えば，文献[CITE]では，「ために」という接続詞の構造を\figref{「ために」の構造}のように表している．
このように，semに関しては抽象的な説明となっており，``a cause of\/''という意味が実際にどのような構造をとるかについては述べられていない．
しかし，本論文では節間の意味的なつながりに触れており，\figref{「ために」の構造}におけるsemにあたる情報をどのような構造で表すかという問題を扱わなければならない．
そこで，ここでは，複文の意味素性として\figref{複文の意味素性}のような構造を考える．
まず，複文の意味主辞として主節の意味主辞をとる．
意味修飾辞としては，従属節を示す\figref{修飾辞素性}のような素性構造をとる．
\figref{修飾辞素性}では，意味主辞として，修飾関係，接続，接続関係という素性を用意している．
修飾関
係素性の値は，従属節を表すために``従属節''とし，接続素性は，その値として``ので''，``のに''のような接続助詞名をとる．
また，接続関係素性の値は，接続助詞が「ので」の場合は``順接''，「のに」の場合は``逆接''とする．
さらに，動機保持者の参照する人物を値としてとる動機保持者素性と，従属節の事象レベルでの意味主辞を値としてとる事象素性も意味主辞中に設定する．
なお，事象という素性を用いるのは，前記の\figref{複文の階層構造}の構造による．
\sbox{ \outerfs{ Soa: \outerfs{ relation:閉める
動作主: 1
対象:窓}
時制:基準時以前
認め方:肯定} }
ここで，文\exsref{複文aa}の意味素性について考えてみる．
主節の意味素性は，\figref{主節のSEM}に示すようになり，従属節の意味素性は，\figref{従属節のSEM}に示すようになる．
ただし，\figref{従属節のSEM}の``OBSERVE''というrelationは，接尾辞「がる」により導入される関係であり，「がる」によって導入される役割が``観察者: 2''，観察された状況が``Soa: [・・・]''である．
\sbox{ \outerfs{ relation: OBSERVE
Soa: \outerfs{ relation:寒い
経験者: exp }
観察者: 2 } }
\sbox{ \outerfs{ relation: OBSERVE
Soa: \outerfs{ relation:寒い
経験者: exp }
観察者: 1 } }  \sbox{ \outerfs{意味主辞: \outerfs{修飾関係:従属節
接続:ので
接続関係:順接
動機保持者: 1
事象: \outerfs{ Soa: \usebox
時制:基準時以前
認め方:肯定} }
意味修飾辞: { }} }  \sbox{ \outerfs{ Soa: \outerfs{ relation:閉める
動作主: 1
対象:窓}
時制:基準時以前
認め方:肯定}}
Sub中では，タグ2の参照関係によって，``動機保持者= \prole{観察者}{従属節}''という制約が記述されている．
ただし，これらから単一化により\figref{複文の意味素性}の素性構造を組み立てる際に，``動機保持者= \prole{動作主}{主節}''という\tableref{主節の制約}の制約に対応する``1 = 2''という制約も素性構造に反映させる．
ここで，1は，主節の動作主を参照するタグであり，2は，従属節の観察者を参照するタグである．
このようにして組み立てた複文\exsref{複文aa}の意味素性を\figref{単一化による複文の素性構造}に示す．
ここでは，2は全て1に置き換わっている．
以上のように，意味および語用論的役割の照応関係に関する意味解析を行なうためには，各役割(変数)の同値関係などの情報を解析中に扱わなければならず，その結果も各変数間の関係で得られることが多い．
このような問題を扱うための方法論の一つに制約論理プログラミングがある[CITE]．
一方，JPSG[CITE]における下位範疇化原理などの文法的な原理も，一種の制約条件とみなせることから[CITE]，制約論理プログラミングの手法を取り入れた，複文の意味解析システムの構築が考えられる．
\iffalseどの部分に語用論的制約を記述し，どの様にしてそれを利用するか，についてここで説明する．
\fi
そこで今回，著者らは，形態素解析システムJUMAN[CITE]，構文解析システムSAX[CITE]を利用し，さらに制約変換システム[CITE]を併用するシステムを構築した．
システムの構成の概略は\figref{システム構成}のようになる．
図中において，JUMANおよびSAXは既存のシステムである．
我々は，ここに，SAXで用いる文法規則として\figref{複文の階層構造}の階層構造を基にしたDCGを，さらに意味解析のための制約を記述した意味辞書を新しく設けた．
さらに，これらを利用して解析を行なうためにSAXと制約変換システムをDCGの補強項に記述したPrologのプログラムを通じて接続したものが，本システムである．
このシステムに日本語文(単文，「ので」「のに」による複文)が入力されると，JUMANにより形態素解析され，SAXにその結果が渡される．
そして，構文解析されるわけだが，ここで，[REF_節:複文の制約]節の\tableref{従属節の制約}，\tableref{主節の制約}で挙げた制約を用いて，意味役割などの照応解析を行なう．
本システムでは，\tableref{従属節の制約}，\tableref{主節の制約}の語用論的制約を，各語彙の意味辞書として素性構造の形式で記述する．
構文解析を行ないつつ，これらの情報を制約変換システムにより変換し，意味および語用論的役割の照応解析を行なうことが，本システムの目的である．
以上のように，本システムでは，意味辞書に記述した制約を変換しながら解析が進む．
このため，各語彙についての意味辞書の記述，特に「ので」「のに」という接続助詞の意味辞書の記述が本システムにとってのもっとも重要な点となる．
[htbp]
閉める(動詞,F,Kform, [F=[主辞:[品詞:動詞,活用形:Kform,使役形態:ニ使役,文法格:[主格:'+',対格:'+',与格:'-'],接尾可能様態辞:[passive:'+',causative:'+', observe:'-',desire:'+']],文法格内容:[主格:[意味:X],対格:[意味:Y]],見出し:閉める, slash:[],近接:[],下位範疇化:[[主辞:[品詞:格助詞,格標識:が,文法役割:subject],依存語彙:[品詞:動詞,見出し:閉める],意味:X], [主辞:[品詞:格助詞,格標識:を,文法役割:object],依存語彙:[品詞:動詞,見出し:閉める],意味:Y]],意味:[意味主辞:[soa:[relation:閉める,動作主:X,対象:Y#[意味主辞:[animate:'-']]],時制:T],意味修飾辞:[]]], constraint_Tense(Kform,T)]).
\figlabel{動詞の意味辞書例}
本システムにおける意味辞書は，意味役割などがどのように設定されるかといったいわゆる意味情報に加えて，用言における下位範疇化情報など，文法情報に属するものも併せて素性構造の形式を用いて記述する．
例えば，動詞「閉める」の意味辞書は\figref{動詞の意味辞書例}のように記述する．
なお，``X#[*]''という表記は，素性構造``[*]''をXという名前のタグを用いて参照できることを示す．
この辞書には，「閉める」が格助詞「が」を伴う後置詞句をsubjectとして下位範疇化し，その意味役割は動作主となること，格助詞「を」を伴う後置詞句をobjectとして下位範疇化し，その意味役割は対象となること，が記述してある．
時制についてはconstraint_Tense/2という制約を用いて，用言の活用語尾によって「基準時」(現在形の場合)もしくは「基準時以前」(過去形の場合)という値をとるように記述してある．
[htbp]
のだ(助動詞,F,ダ列タ系連用テ形, [F=[主辞:[品詞:助動詞,接続関係:順接,修飾関係:従属節,依存:Depend],見出し:ので,近接:Adjacent,意味:Sem], constraint_NoDe(Depend,Adjacent,Sem)]).
\figlabel{接続助詞の意味辞書例}
[htbp]
constraint_NoDe( [主辞:[品詞:動詞,態:能動],意味:[意味主辞:[事象:[soa:[動作主:Motiv]]]]], [[主辞:[品詞:動詞性接尾辞,態:observe],意味:[意味主辞:Sem#[事象:[soa:[観察者:Motiv]]]]]], [意味主辞:Sem#[接続:ので,修飾関係:従属節,接続関係:順接,動機保持者:Motiv],意味修飾辞:[]]).
\figlabel{従属節制約例}
また，「ので」「のに」による複文を解析するために，これら接続助詞の意味辞書を記述する必要がある．
ここでは，「ので」の意味辞書を\figref{接続助詞の意味辞書例}に示す．
辞書項目中において，近接素性の値が，「ので」がつく従属節の内容を示す素性構造となる．
また，依存素性の値が，「〜なので」という従属節をとる主節の内容を示す素性構造となる．
ところで，依存素性や近接素性の値は，主節や従属節の記述形式によって変化するものであるため，辞書中では制約を用いてその値を記述する．
これらの値を与えるのが制約constraint_NoDe/3であり，第一引数が依存素性の値，第二引数が近接素性の値，第三引数が「ので」の意味素性の値となる．
ここでは，従属節が主観形容詞+「がる」による記述，主節が意志的動作記述(能動態)の場合の制約について，\figref{従属節制約例}に示す．
この記述により，``\prole{観察者}{従属節} =動機保持者''および``\prole{動作主}{主節} =動機保持者''という制約が変数Motivを用いて表されている．
このように，依存素性および近接素性を用いることによって，接続助詞「ので」による複文は複合事象レベルにおいて\figref{共有関係}のような構造および素性値の共有関係を持つこととなる[CITE]．
なお，接続助詞「のに」の場合も同様にして扱う．
本システムは，SAXにおいてDCGを用いることにより構文解析を行ない，同時に制約変換システムと情報のやりとりをすることによって意味解析を行なうものである．
このため，文の解析は\figref{複文の階層構造}のような構造を持つ構文解析木がボトムアップに生成されるように進む．
複文を解析した場合には，従属節が従属事象として解析され，主節が事象として解析され，これらを複合事象としてまとめることによって複文となる，というように解析が進む．
[htbp]
\figlabel{例文の構文木}
この節では，「寒がったので，窓を閉めた」という簡単な複文を例にとり，本システムにおける解析がどのように行なわれるのかについて述べる．
なお，本システムにおけるこの文の構文解析木は，\figref{例文の構文木}のように得られる．
まず，従属節「寒がったので」の部分の解析について述べる．
これは，``従属事象-->事象，接続''というDCGにより，「寒がった」という事象と「ので」という接続とからなると解析される．
このとき，「寒がった」という部分の解析結果として\figref{従属節部分1}の素性構造がえられる．
また「ので」の意味辞書より，従属節が主観形容詞+「がる」であり主節が動作動詞の能動態の場合として\figref{従属節部分2}の素性構造がそれぞれ得られる．
\figref{従属節部分1}の素性構造では，意味素性の中に経験者と対象と観察者という役割が設定されている．
また，経験者については，タグF9によって主格の後置詞句の持つ意味素性の値を参照し，対象はタグF12によって対格の後置詞句の持つ意味素性の値を参照する．
\figref{従属節部分2}では，意味素性の値として，\figref{修飾辞素性}に対応する素性構造をとる．
また，近接素性の値は従属節の形式(この場合は主観形容詞+「がる」)に対応する値であり，主辞素性中の依存素性の値は主節の形式(ここでは動作動詞による能動態)に対応している．
[htbp]
\figlabel{従属節部分1}
[htbp]
\figlabel{従属節部分2}
そして，\figref{従属節部分1}の素性構造と，\figref{従属節部分2}中の近接素性の値となっている素性構造との単一化が行なわれ，従属節「寒がったので」の解析結果として\figref{従属節部分3}の素性構造が得られる．
この素性構造中の意味素性の値は，\figref{従属節のSEM}に示したSubに相当し，タグF21によって，観察者と動機保持者が同じ値を参照することを表している．
[htbp]
\figlabel{従属節部分3}
次に，主節の「窓を閉めた」という部分が，事象として同様に解析される．
その結果として，\figref{主節部分1}の素性構造が得られる．
ここでは，意味素性の中に動作主と対象という役割が設定されており，タグF16によって対象が対格である「窓」の意味素性を参照すること，およびタグF8によって動作主が主格の後置詞句の意味素性の値を参照することが示されている．
[htbp]
\figlabel{主節部分1}
そして，\figref{従属節部分3}，\figref{主節部分1}の素性構造が，``複合事象-->従属事象，事象''というDCGによって組み合わされる．
この時，\figref{従属節部分3}の依存素性の値と\figref{主節部分1}の素性構造を単一化することで，複文全体の意味素性が形成される．
その結果として，\figref{全文}に，全文の解析結果として得られる素性構造を示す．
[htbp]
\figlabel{全文}
[htbp]
\figlabel{逆接全文}
