言語を用いた人と人とのコミュニケーションにおいては，「言わなくとも分かること」は言わないのが普通であり，ゼロ主語の場合もこれに相当する．
このような言われなかったことが実際に何を表すかは，広い意味での文脈から推定される．
人間の場合は，生まれて以来修得した，あるいは生まれる前から持っている各種の知識が文脈として利用できるが，現在の計算機では，このようなことは不可能である．
そこで，計算機で取り扱えるより狭い文脈を利用せざるをえない．
つまりゼロ主語のまわりのテキスト自体を文脈として利用することになる．
以下その方法を説明する．
具体例については[REF_sec:補完実験]章で述べる．
まず，主語補完が必要となる述語のまわりの文脈から，主語となりうる名詞句を候補として取り出す．
そして，これらの主語候補名詞句に関する様々な情報を特徴パラメータとして，やはり文脈から抽出する．
その結果，主語候補名詞句は特徴パラメータの数の次元を持つ空間内の点として表現される．
この空間を特徴パラメータ空間と呼ぶ．
実際の主語補完は，学習フェーズと補完フェーズの２つのフェーズに分けられる．
前者は，学習データ（標本）を用いて，確率分布を推定するフェーズであり，補完フェーズに先だって行われる．
後者は，実際の主語補完を行うフェーズである．
学習フェーズでは，学習データを使って，特徴パラメータ空間上で主語になる名詞句の分布と主語にならない名詞句（非主語）の分布を求める．
具体的には，主語補完が必要な述語に対して，主語候補名詞句を抽出し，それらの名詞句の中でどれが真の主語であるかを人手で判断したデータを学習データとして用意する．
そして，これらの学習データを用いて，特徴パラメータ空間上の確率分布を推定する．
確率分布は，離散型の場合，確率関数で与えられ，連続型の場合は，確率密度関数で与えられる．
このようにして学習（推定）された，主語の確率（密度）関数を[MATH]，非主語の確率（密度）関数を[MATH]と書く．
補完フェーズでは，主語補完が必要な述語に対して，主語候補の名詞句[MATH]とそれらの特徴パラメータの値を文脈から抽出する．
そして，これらの名詞句の中から，[MATH]と[MATH]の比が最大となるもの
を主語として補完する．
まず，文脈として考慮しているゼロ主語の付近，つまり，主語のない補完対象述語の付近のテキストの中から，補完されるべき主語候補を抽出する範囲を決めなければならない．
本稿では，自動短文分割の後処理としての主語補完を考えているので，以下の範囲の名詞句に主語候補を制限した．
主語候補は補完対象述語の左側にある．
つまり，前方照応のみを考えている．
主語候補は分割対象文内にある．
分割前の複数文内の照応は考慮していない．
主語候補は「は，が，では，を，で，も，に，の，としては，には」のいずれかの助詞（助詞相当表現を含む）を持つ名詞句である．
ただし，「の」は動詞に連接する場合のみ（「太郎の書いた本」など）を対象とする．
これらの条件を満足する名詞句を主語候補として抽出する．
次にこれらの主語候補や文脈が持っている種々の性質から主語補完に有効である性質を特徴パラメータとして取り出す．
このような性質として，ここでは８種のものを選定した．
この選定は，データの事前分析による経験的なものである．
これらの特徴パラメータは以下に示すように，文法的性質，意味的性質および当該名詞句と補完対象述語の間の各種の距離に関する性質に分けられる．
以下各特徴パラメータについて説明する．
候補名詞句に付属する助詞の種類は主語補完に利用できる．
この情報は従来の「談話分析」に基づく主語補完でも利用されている．
考察する助詞の種類は，候補名詞句の範囲に含まれるものである．
予備実験の結果，最も主語となる可能性が高い助詞から順に並べて，その順番に数値を小さい方から割り当てた．
その結果，「は，では，が，の，としては，に，で，を，も，には」が０から９に対応した．
間隔は１である．
主語が補完対象述語からどの程度離れているのかは，主語認定のもう一つの手掛かりになる．
一般的に遠く離れているほど主語になれる可能性は低くなる．
ここではその離れている度合，即ち距離を計る基準として，候補名詞句と補完対象述語との間の文字数を用いた．
ただし，離散分布のときはスパースになりすぎるので文字数を１０で割って，少数点以下を切り捨てた値を特徴パラメータとした．
距離に関するその他の基準としては，（５）から（８）までがある．
主語候補と補完対象述語間の意味的結合の整合度は，格助詞「が」を中心とした語と語の係り受けデータ[CITE]と分類語彙表[CITE]を利用して計算する．
まず，あらかじめ係り受けデータを分類語彙表を用いて，係り元の分類番号（３桁）と係り先の語形の間の係り受けデータに変換しておく．
次に，実行時には，主語候補の分類番号を求め，その番号と補完対象述語の語形との間に係り受け関係があるかどうかを係り受けデータの中で検索する．
そして，検索に成功したものを整合するとして，以下の数値を用いる．
整合する場合：2.0
整合しない場合：0.0
主語候補の分類番号が得られなかった場合：1.0
連体節に含まれる名詞句の係り受け範囲はその連体節に制限される場合が多いので，主語候補が連体節に含まれているかいないかは主語認定の手掛かりになる．
連体節に含まれている場合は「１」，いない場合は「０」に数量化した．
一般的に係助詞「は」はある主題を表すので，同一文内で他の「は」によって主題の切り替えを行なった際，前者が後者を越えて係る場合はあまり見られない．
即ち，同一文内の「は」助詞は相互に影響を受ける．
本パラメータは，候補名詞句と補完対象述語との間の係助詞「は」の数である．
同じく，格助詞「が」の数である．
「が」も「は」のように相互に影響を受けるため，他の「が」の存在は主語補完に有効な情報である．
同じく，「は」と「が」以外の格文節の数である．
通常，主語候補の内，述語により近いものが主語として認定される可能性が高いのでこの格文節の数が少ないほど主語として認定されやすい．
ただし，ここでは補完対象述語自身は数えない．
主語候補と述語の間に存在する動詞の数を示す．
一般的に，文末に係る主語を除いて，この数値が大きいほど主語になれる可能性は低い．
ただし，連体形の動詞は数えない．
以上の特徴パラメータの値は，形態素解析，文節認定およびグルーピングと呼ばれる部分的な構文解析によって得られる[CITE]．
また，[REF_subsec:主語候補の範囲]節で述べた主語候補の抽出もこれらのプログラムによって行うことができる．
[REF_subsec:特徴パラメータの設定]節で述べた特徴パラメータの個数は[MATH]であるので，特徴パラメータ空間の次元は[MATH]となる．
従来法では，この特徴パラメータの空間を，実ベクトル空間として，多次元正規分布モデルによる主語補完を行っていた[CITE]．
しかし，特徴パラメータは，本来，離散的なものである．
そこで，本稿では，連続モデルと離散モデルの双方について考察する．
本稿で対象としている確率モデルは
である．
このモデルの詳細は章を改めて述べる．
学習フェーズでは，これらのモデルに対して，その母数を学習データから推定する．
補完フェーズでは，主語と非主語の確率（密度）関数の値，[MATH]と[MATH]を求め，式([REF_eq:尤度比])に従って主語を補完する．
連続分布としては，多次元正規分布と正規分布に基づくGram-Charlier展開[CITE]を多次元に拡張した分布（疑似正規分布と呼ぶ）について考察した．
連続分布の場合は，[MATH]として，確率密度関数を用いる．
それらを，正規分布の場合は，[MATH]と書き，疑似正規分布の場合は，[MATH]と書く．
正規分布は連続分布として広く用いられる分布であり，まず正規分布から出発するのは自然である．
正規分布の密度関数は，特徴パラメータ空間の次元を[MATH]（今の場合[MATH]）とするとき，以下のようになる．
主語の分布に対して，平均値ベクトルを[MATH]，共分散行列を[MATH]とし，特徴パラメータ空間における主語候補の点の位置を[MATH]とするとき，
と書ける．
非主語の分布に対する[MATH]についても同様である．
分布の母数の数は平均値ベクトルで[MATH]個，共分散行列で[MATH]個である．
正規分布は対称であるが，後述する実験から，[MATH]は非対称であることが観察される．
そこで，非対称性を扱える分布として，疑似正規分布を考える．
この場合は，密度関数が
と表される．
ここで，[MATH]はインデックスの集合であり，[MATH]は正規分布の密度関数である．
[MATH]は[MATH]次のHermite多項式から計算される．
式([REF_eq:hermite])の導出は付録[REF_app:疑似正規分布]で詳述する．
非主語に対する[MATH]の場合も同様である．
疑似正規分布の母数は，平均値ベクトル，共分散行列に加えて，係数[MATH]がある．
係数[MATH]の次数を[MATH]とすると，[MATH]次の係数の総数は[MATH]となる．
[MATH]次の係数は[MATH]であり，[MATH]次と[MATH]次の係数はすべて[MATH]である．
今回の考察では，[MATH]次以下の係数のみを用いている．
そこで，[MATH]の総数は[MATH]個である（[MATH]次を除く）．
なお，疑似正規分布では，分布の裾の方で値が[MATH]以下になってしまう場合が起こり得る．
このような場合には，[MATH]や[MATH]の代わりに[MATH]や[MATH]を用いた．
前節で述べたように，特徴パラメータは離散的であり，離散分布を適用するのが本来である．
離散分布は特徴パラメータに対する同時分布の確率関数[MATH]で表現される．
この意味は，[MATH]番目[MATH]の特徴パラメータが[MATH]という値を取る事象の確率である．
[MATH]番目のパラメータが取る値の範囲を[MATH]とすると，単純に離散モデルを適用した場合，母数の数は[MATH]となってしまう．
このように多くの母数に対して，その値を精度良く推定するためには，極めて大きい標本が必要となり，現実的でない．
そこで，母数の数を少なくするために対数線形分布を用いる．
この分布は，確率関数[MATH]の対数が
のように書ける分布である．
ここで，関数[MATH]の値は[MATH]番目の特徴パラメータの値のみの関数であり，それらの特徴パラメータに対する周辺分布から計算される．
本稿では，[MATH]のみを用いる１次対数線形分布および[MATH]のみを用いる２次対数線形分布を考える．
前者に対する確率関数[MATH]，[MATH]を[MATH]，[MATH]と書き，後者に対しては，[MATH]，[MATH]と書く．
ただし，両分布とも，[MATH]の値が[MATH]となる場合には，主語に対する学習データの総数[MATH]を用いて，[MATH]とフロアリングした．
[MATH]の値が[MATH]となる場合には，非主語に対する学習データの総数[MATH]を用いて，[MATH]とした．
１次対数線形分布は
と表される．
[MATH]は[MATH]番目の特徴パラメータの値[MATH]のみの関数であり，[MATH]をパラメータ[MATH]に対する１次の周辺分布とするとき，
を満足するように定められる．
このような[MATH]は実は[MATH]そのものである．
つまり，
となる．
これは特徴パラメータが互いに独立であると仮定した分布に他ならない．
この場合の母数は[MATH]であり，その総数は[MATH]となる．
非主語に対する１次対数線形分布[MATH]についても同様に定義される．
２次対数線形分布は
と表される．
[MATH]は[MATH]番目の特徴パラメータの値[MATH]および[MATH]番目の特徴パラメータの値[MATH]のみの関数であり，[MATH]をパラメータ[MATH]に対する２次の周辺分布とするとき，
を満足するように定められる．
このような[MATH]は２次の周辺分布から，比例反復法[CITE]に基づいて求めることができる．
その方法を付録[REF_app:比例反復法]に示す．
この場合の母数は[MATH]であり，その総数は，
となる．
非主語に対する２次対数線形分布[MATH]についても同様に定義される．
