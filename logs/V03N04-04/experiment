補完実験 \label{sec:補完実験}
３８１文の放送ニュース文を用いて，ゼロ主語の補完実験を行った．これらの文
は，１９９１年１月１日から２月１０日までの間のＮＨＫのニュース原稿からラ
ンダムに選択された．これらの文にあらかじめ形態素解析と自動短文分割を施し
た結果，主語補完が必要な文が１０８文得られた．これら１０８文に含まれる補
完対象述語に対して主語候補名詞句を文脈中より抽出した．各補完対象述語に対
する主語候補の個数の分布を図\ref{fig:候補名詞数の分布} に示す．

\begin{figure}
 \center{
  \atari(70.0,50.0)
  
  \caption{候補名詞数の分布} \label{fig:候補名詞数の分布}
 }
\end{figure}
図\ref{fig:候補名詞数の分布} から，１０８個の述語に対して，ランダムに主語
補完を行った時の補完精度は$35.8$\%であることが分かる．いかなる補完手法で
あっても，補完精度がこの値より良くなくては意味がない．そこで，この値を基
準精度とすることができる．次にこれらの述語に対して正しい主語を人手により
選択するとともに，主語候補の名詞句の特徴パラメータの値を求め，実験データ
を作成した．そして，実験データを元に交差確認法（cross validation）によっ
て，手法の精度を評価した．

\subsection{母数の推定値の考察}
精度評価実験を行う前に，\ref{sec:確率モデル} 章で述べた各分布に対して，母
数を推定した結果を考察する．なお，ここでの推定は，実験データを全て用いて
行った．

\paragraph{連続分布}
まず，正規分布と疑似正規分布の母数の推定値について考察する．平均値ベクトル$\mu_{p},\mu_{q}$は以下のようになった．
\begin{equation}
  \mu_{p} = ( 1.03, 2.48, 1.54, 0.01, 0.12, 0.35, 2.81, 1.58)^{t}
\end{equation}
\begin{equation}
  \mu_{q} = ( 4.83, 2.44, 0.74, 0.23, 0.28, 0.52, 2.60, 1.58)^{t}
\end{equation}
また，共分散行列$\Sigma_{p}, \Sigma_{q}$の下三角成分は以下のようになった．
\begin{equation}
\def\arraystretch{}
\begin{array}{rrrrrrrr}
\Sigma_{p} = \hspace*{12mm} \\[-1mm]
   1.93 \\
  -0.55 &  2.08 \\
   0.14 &  0.19 &  0.58 \\
   0.02 & -0.01 &  0.00 &  0.01 \\
   0.00 &  0.14 &  0.02 & -0.00 &  0.16 \\
  -0.05 &  0.42 &  0.02 &  0.01 &  0.06 &  0.28 \\
  -0.92 &  1.93 &  0.09 & -0.02 &  0.13 &  0.27 &  2.93 \\
  -0.23 &  0.95 &  0.18 & -0.01 &  0.11 &  0.24 &  0.91 &  0.82
\end{array}
\end{equation}
\begin{equation}
\def\arraystretch{}
\begin{array}{rrrrrrrr}
\Sigma_{q} = \hspace*{12mm} \\[-1mm]
     7.59 \\
  -1.08 &  1.77 \\
  -0.25 &  0.03 &  0.75 \\
   0.07 &  0.06 &  0.01 &  0.18 \\
  -0.26 &  0.27 &  0.01 &  0.01 &  0.31 \\
  -0.26 &  0.54 &  0.03 &  0.02 &  0.09 &  0.42 \\
  -0.58 &  1.39 &  0.07 &  0.03 &  0.16 &  0.29 &  2.14 \\
  -0.52 &  0.84 &  0.16 & -0.02 &  0.19 &  0.26 &  0.72 &  0.93
\end{array}
\end{equation}
$\mu_{p}$と$\mu_{q}$を比較することで，以下のことが平均的には言える．
\begin{enumerate}
\item 主語は数値の小さい助詞を持つ名詞句がなりやすい．
\item 意味的整合性が高い方が主語になりやすい．
\item 連体節に含まれる名詞句は主語になりにくい．
\item 補完対象述語と候補名詞句の間の「は」や「が」の数が少ないほど主語になりやすい．
\end{enumerate}
これらの結果は，\ref{subsec:特徴パラメータの設定} 節で述べたことがらとほ
ぼ一致しており，特徴パラメータの性質が実験的にも確かめられた．共分散行列
は，対角に近いものであり，各特徴パラメータの間の相関はあまり強くないこと
が分かる．共分散行列を用いた詳しい考察は\cite{金93}を参照されたい．

\noindent
共分散行列の行列式の値は
\begin{eqnarray}
　\det{ \Sigma_{p} }= 0.0002 \\
　\det{ \Sigma_{q} }= 0.0488
\end{eqnarray}
であった．この値から主語の分布より非主語の分布の方が広がりが大きいことがわかる．
共分散行列から計算された Cholesky 分解（後述）の逆行列の下三角成分は以下のようになった．
\begin{equation}
\def\arraystretch{}
\begin{array}{rrrrrrrr}
C_{p}^{-1} = \hspace*{12mm} \\[-1mm]
　 1.39 \\
　-0.40 &  1.39 \\
　 0.10 &  0.17 &  0.74 \\
　 0.01 &  0.00 &  0.00 &  0.09 \\
　 0.00 &  0.11 &  0.00 & -0.01 &  0.39 \\
　-0.03 &  0.29 & -0.03 &  0.07 &  0.08 &  0.43 \\
　-0.66 &  1.20 & -0.07 & -0.07 & -0.01 & -0.23 &  0.99 \\
　-0.17 &  0.63 &  0.12 & -0.03 &  0.10 &  0.11 &  0.07 &  0.59
\end{array}
\end{equation}
\begin{equation}
\def\arraystretch{}
\begin{array}{rrrrrrrr}
C_{q}^{-1} = \hspace*{12mm} \\[-1mm]
　 2.76 \\
　-0.39 &  1.27 \\
　-0.09 &  0.00 &  0.86 \\
　 0.02 &  0.05 &  0.01 &  0.42 \\
　-0.09 &  0.18 &  0.00 &  0.01 &  0.52 \\
　-0.09 &  0.39 &  0.03 &  0.01 &  0.02 &  0.51 \\
　-0.21 &  1.03 &  0.06 & -0.04 & -0.09 & -0.28 &  0.97 \\
　-0.19 &  0.60 &  0.17 & -0.12 &  0.12 &  0.00 &  0.05 &  0.69
\end{array}
\end{equation}
次に，疑似正規分布のパラメータを吟味する．１２０個の３次の係数の推定値の
分布は図\ref{fig:疑似正規分布の係数の値} のようである．
\begin{figure}
 \center{
  \atari(140.0,55.0)
  
  \caption{疑似正規分布の係数の値} \label{fig:疑似正規分布の係数の値}
 }
\end{figure}
このことから，多くの係数は$0$に近いことがわかる．特に，非主語の係数について，そうである．絶対値が$0.2$より大きい係数は，以下のとおりである．
\begin{equation}
\def\arraystretch{}
\begin{array}{rrcrr}
  \multicolumn{2}{c}{主語の分布}  & & \multicolumn{2}{c}{非主語の分布} \\
  i_{1},\cdots,i_{k} & a_{i_{1}\cdots i_{k}} & 　　　 &
  i_{1},\cdots,i_{k} & a_{i_{1}\cdots i_{k}}  \\
　0  0  0  3  0  0  0  0 &  1.65 & &  0  1  0  0  2  0  0  0 &  0.36  \\
　1  0  0  2  0  0  0  0 &  0.72 & &  0  1  0  0  0  2  0  0 &  0.35  \\
　0  0  0  0  3  0  0  0 &  0.65 & &  0  0  0  0  3  0  0  0 &  0.29  \\
　0  1  0  0  2  0  0  0 &  0.58 & &  0  0  0  3  0  0  0  0 &  0.20 \\
　0  1  0  0  0  2  0  0 &  0.31  \\
　3  0  0  0  0  0  0  0 &  0.30  \\
　0  1  1  0  0  0  0  1 &  0.23  \\
　0  3  0  0  0  0  0  0 &  0.22  \\
　0  0  1  2  0  0  0  0 &  0.22  \\
　0  1  0  0  0  0  0  2 &  0.21  \\
　0  1  1  0  0  1  0  0 & -0.21 \\
\end{array}
\end{equation}
$i_{4}$の部分は，特徴パラメータの$(4)$「連体節との関係」にほぼ対応している．このパラメータの値は，主語の分布に対する学習データのうちで１となるものが１データしかなく，分布の偏りが特に大きい．このため，主語の分布の第１，２行目の係数値が大きくなっている．

\paragraph{離散分布}
１次対数線形分布の母数の推定値は，１次の周辺分布である．それを図
\ref{fig:１次の周辺分布} に示す．図\ref{fig:１次の周辺分布} から，
\ref{subsec:特徴パラメータの設定} 節で述べたことが確認できる．また，
分布の非対称性が大きいことが分かる．

\begin{figure}
 \center{
  \atari(130.0,190.0)
  
  \caption{１次の周辺分布} \label{fig:１次の周辺分布}
 }
\end{figure}

２次対数線形分布の母数の推定値$h^{(2)}_{j,l}(i_{j},i_{l})$と２次の周辺分
布$p^{(2)}_{j,l}(i_{j},i_{l})$の関係を主語の場合について，
図\ref{fig:２次対数線形分布の母数} に示す．
$h^{(2)}_{j,l}(i_{j},i_{l})$の値はかなり
ばらついていることが分かる．この値は$4$回の繰り返し後の結果である．この
$h^{(2)}$を式(\ref{eq:制約式２})に代入して得た$p^{(2)}$の値と実験データ
から直接推定した$p^{(2)}$の値の差は最大$0.005$であり，比例反復法は十分に
収束している．

\begin{figure}
 \center{
  \atari(70.0,47.0)
  
  \caption{２次対数線形分布の母数} \label{fig:２次対数線形分布の母数}
 }
\end{figure}

\subsection{ゼロ主語補完精度の評価}
\ref{sec:確率モデル} 章で提案した$4$種の確率モデルについて，
式(\ref{eq:尤度比})に基づくゼロ主語補完の実験を行い，精度を評価した．
実験は closed test と open test に分けて行った．closed test は実験データ
全体を学習データと試験データの双方に用いるものである．一方，open test は
以下のような交差確認法（cross validation test）によった．
実験データから４個のデータを除いて，残りを学習データとし，除いたデータを
試験データとして，補完実験を行う．このような実験を試験データの範囲をずら
せながら，合計$27$回$(108/4)$行った．実験結果を表\ref{tab:実験結果} に示
す．ここで，１位とは，正解の主語に対する式(\ref{eq:尤度比})の値が１位で
あることを意味する．

   \begin{table}
   \begin{center}
    \caption{ゼロ主語補完実験結果}
    \label{tab:実験結果}
     closed test
    \vspace{.5\baselineskip}\\
    \begin{tabular}{|c|c|c|c|c|} \hline
             &    Ｇ      &     Ｈ     &     １      &   ２       \\ \hline
    １位     &  84(77.8)  &  93(86.1)  &  91(84.3)   & 107(99.1)  \\
    １〜２位 & 101(93,5)  & 104(96.3)  &  106(98.1)  & 108(100.0) \\
    ３位以下 &   7        &   4        &   2         &   0        \\ \hline
    \end{tabular}
    \vspace{\baselineskip}\\
     open test
    \vspace{.5\baselineskip}\\
    \begin{tabular}{|c|c|c|c|c|} \hline
             &    Ｇ      &     Ｈ     &     １      &   ２       \\ \hline
    １位     &  79(73.1)  &  84(77.8)  &  84(77.8)   &  87(80.6)  \\
    １〜２位 & 100(92.6)  & 101(93.5)  &  103(95.4)  & 102(94.4)  \\
    ３位以下 &   8        &   7        &   5         &   6        \\ \hline
    \end{tabular}
    \vspace{.5\baselineskip}\\
    \begin{tabular}{l}
      Ｇ：正規分布　Ｈ：疑似正規分布 \\
      １：１次対数線形分布　２：２次対数線型分布 \\
      かっこ内は補完精度（％） \\
    \end{tabular}
   \end{center}
   \end{table}
   
この結果から以下のことがいえる．
\begin{itemize}
\item 母数の数が多い分布を用いた方が，少ない分布を用いるより closed test，open test 共に精度が高い．つまり，過学習による精度の低下は見られない．
\item 連続分布モデルより離散分布モデルの方が精度が高い．
\item ２次対数線形分布モデルは closed test，open test 共に最も精度が高い．
\end{itemize}

\subsection{補完例}
試験データに対して，ゼロ主語補完を行った例を示す．(\ref{eq:補完例})で，$L_{p_{G}/q_{G}}$などとあるのは，$p_{G}/q_{G}$の$10$を底とする対数の意味である．
\begin{itemize}
\item 原文：橋本大蔵大臣はきょうの閣議のあとの記者会見で，湾岸戦争終結後，円安・ドル高が進んでいる為替水準について，現在のドル高はアメリカ経済のファンダメンタルズ＝基礎的な力を反映したものではなく好ましくないという考えを強調しました．
\item 分割文２：考えを強調しました．
\item 補完対象述語：強調する
\item 主語候補パラメータ値と評価値：
\begin{equation}
\begin{array}{lrrrrr} \nonumber
 主語候補 & パラメータ値 & L_{p_{G}/q_{G}} & L_{p_{H}/q_{H}} 
                         & L_{p_{1}/q_{1}} & L_{p_{2}/q_{2}} \\
 大臣　　 & 0\ 52\ 2\ 0\ 1\ 1\ 4\ 4 &   1.92 &   4.16 &  0.82 &   1.82 \\
 会見　　 & 6\ 44\ 0\ 0\ 1\ 1\ 4\ 3 & -11.36 &  -8.52 & -4.03 & -20.50 \\
 ドル高　 & 2\ 32\ 1\ 1\ 1\ 0\ 3\ 3 & -57.19 & -49.85 & -3.91 & -36.12 \\
 ドル高　 & 0\ 22\ 1\ 0\ 0\ 0\ 2\ 2 &   3.63 &   4.23 &  1.71 &   1.33 \\
 力　　　 & 7\ 13\ 2\ 1\ 0\ 0\ 1\ 2 & -53.73 & -46.82 & -5.62 & -13.26 \\ \\
\end{array}
\label{eq:補完例}
\end{equation}
\end{itemize}
正しい主語は「大臣」である．この場合，正規分布，疑似正規分布，１次対数線形分布はいずれも２番目の「ドル高」を補完しており，不正解である．これは，「ドル高」に付加している助詞が「は」であり，しかも述語に近いためである．これに対して，２次対数線形分布は正しく「大臣」を補完している．特徴パラメータ間の相互関係を考慮することが有効に働いて正しい補完が行われた．

\subsection{誤りデータの分析} \label{subsec:誤りデータの分析}
本節では，実験の結果，最も精度が高かった２次対数線形分布モデルについて，
主語補完を誤った事例を分析する．このような誤事例に対して，正解候補と補完
候補の意味的整合性に関する分布を
表\ref{tab:誤事例の意味的整合性に関する分布} に示す
（パラメータ値の意味は\ref{subsec:特徴パラメータの設定} 節参照）．
誤事例の総数は$21$である．この表から，以下のようなことが明らかになる．


   \begin{table}
   \begin{center}
    \caption{誤事例の意味的整合性に関する分布}
    \label{tab:誤事例の意味的整合性に関する分布}
    \begin{tabular}{|c|c||c|c|c|} \hline
    \multicolumn{2}{|c||}{} & \multicolumn{3}{c|}{補完候補の} \\
    \multicolumn{2}{|c||}{} & \multicolumn{3}{c|}{パラメータ値} \\
        \cline{3-5}
    \multicolumn{2}{|c||}{}
         & \multicolumn{1}{p{1.2em}|}{\centering 2}
         & \multicolumn{1}{p{1.2em}|}{\centering 1}
         & \multicolumn{1}{p{1.2em}|}{\centering 0} \\ \hline \hline
     \raisebox{-5pt}[0pt][0pt]{正解候補の}
         & 2 & 6 & 0 & 8\\
         & 1 & 1 & 1 & 1\\
     \raisebox{5pt}[0pt]{パラメータ値}
         & 0 & 1 & 0 & 3\\ \hline
    \end{tabular}
   \end{center}
   \end{table}

正解候補が非整合$(0)$で，補完候補が整合$(2)$している事例は１例である．このことから，意味的整合性を特徴パラメータに加えたことによって，精度が低下することは少ないことがわかる．言い替えると，意味的整合性が副作用を起こす場合は少ないとも言える．

正解候補が整合で，補完候補が非整合の事例は８例ある．これらは，意味的に整
合しているにもかかわらず，正解として選択されていない例である．８例の正解
候補に対する助詞の種類を調べると，「は」が２例で，「では，が，の，として
は，に，を」が各１例である．このように，主語になりにくい助詞が付加してい
る場合が半数である．このことから，意味的整合性の把握が，まだ不十分である
ことがわかる．つまり，助詞の種類の情報を上回るだけの意味的整合性の情報が
得られていない．このことは，図\ref{fig:１次の周辺分布} （ｃ）で，主語かつ
非整合，非主語かつ整合の確率がそれほど小さくないことからも分かる．意味的
整合性をより正確に捉える特徴パラメータを見いだすことは今後の課題である．
この場合の誤事例を以下に示す．

\begin{itemize}
\item 原文：政府は湾岸危機に対する中東貢献策のひとつとして国連平和協力法案を去年の秋の臨時国会に提出しましたが，野党側が強く反発し，結局，廃案となりました．
\item 主語補完対象述語：廃案となる
\item 正解候補：法案　整合
\item 補完候補：野党側　非整合
\vspace*{3mm}
\end{itemize}

正解候補も補完候補も非整合である３例を正解とするためには，前項と同様に，より正確な意味的整合性の把握が必要である．これら３例は，いずれも人間が判断すれば，正解候補が整合となるものである．この場合の誤事例を以下に示す．
\begin{itemize}
\item 原文：一戸建住宅の福袋は１個だけ，福袋のコーナーでは家族連れなどが住宅の写真や間取りを見ながら次々と申込みを済ませていました．
\item 主語補完対象述語：済ませる
\item 正解候補：家族連れ　非整合
\item 補完候補：コーナー　非整合
\vspace*{3mm}
\end{itemize}

正解候補も補完候補も整合の６事例は，ここで用いているような単純な意味的整合性ではどちらも整合となる場合であり，この誤りをなくすには，より深い解析が必要であろう．しかし，現状では，このような深い解析を広範な文書に対して行うのは困難であり，この種の誤事例が最後まで残るものと思われる．この場合の例を示す．
\begin{itemize}
\item 原文：政府としては，こうした流れを踏まえて，サミット後の７月下旬にも中山外務大臣がソビエトを訪問し，このあと，海部総理大臣の早期のソビエト訪問を実現し，より突っ込んだ交渉を行うことを目指しています．
\item 主語補完対象述語：実現する
\item 正解候補：政府　整合
\item 補完候補：（中山外務）大臣　整合
\vspace*{3mm}
\end{itemize}

最後に，正解候補または補完候補の分類番号が得られなかった誤事例は，３例であり，比較的少数である．これらは，分類語彙表に出現しない未登録語であり，その解決には，分類語彙表の増補を待たなければならない．他の類語辞典を利用することも考えられるが，いずれにしても，未登録語が出現する．

