本節では，事実性解析に関連する種々の要素（機能表現や副詞など）について整理し，その関連性を述べる（[REF_sec:fact_features]節）．
事実性は，これらの要素が複合的に組み合わさって決定されるため，各要素の重要性を見極めるためには，これらを切り分けて分析することが肝要である．
[REF_sec:fact_approach]節では，どのようにしてそれらを切り分けるのかを述べる．
3.3節では，課題分析に用いるコーパスについて述べ，3.4節では，分析に用いるルールベースの事実性解析モデルについて述べる．
先行研究によって，事実性解析に関連する言語要素は文内では大きく4つに分けられることが分かっている．
事象に含まれる機能表現，疑問詞を含む副詞，文節境界を越えて事実性に影響を与える語とそのスコープ，その他の4種類である．
図[REF_fig:sent_structure]に，文内での各要素の関係を示す．
ここで，事象の中心的な述語を事象表現と呼び，事象の事実性は事象表現に割り当てられると定義する．
以降の例では，\event{}で囲むことで表す．
また，文中での出現位置によって事象表現を二種類に分類する．
各文につき，最も文末に近い事象表現を主事象と呼び，それ以外の事象表現を従属事象と呼ぶ．
図中の矢印は，その言語要素が事象表現の事実性に影響することを示している．
以下では，その他以外の3つの要素について，事象表現の事実性にどのように関連するかを述べる．
なお，文をまたいだ言語要素による否定や推量も存在するが，本研究では文内の現象のみを取り扱う．
事象表現に直接後続する機能表現（図[REF_fig:sent_structure]では，述語Aに対する機能表現A，述語Bに対する機能表現B）の問題は，多義性と表現の多様性の二つに大きく分けられる．
\eenumsentence{
太郎は\event{走っ}たんでしたよね[MATH]
太郎は\event{走る}んですよね[MATH] } まず，多義性について，([REF_ex:func_sem])に示す2つの例には，いずれも機能表現「よね」が出現しているが，それが示す意味は異なる．
([REF_ex:func_sem]a)は「太郎が走る」ことを推量しているが，([REF_ex:func_sem]b)は「太郎が走る」ことを確認していることから事象は成立していないことを示している．
このような文を解析するためには，機能表現の多義性の解消は必須の技術である．
\eenumsentence{
太郎は\event{走ら}ない[MATH]。
太郎は\event{走る}わけない[MATH]。
太郎が\event{走ら}ねぇ[MATH]。
太郎が\event{走れる}もんか[MATH]。
} 次に，表現の多様性について，([REF_ex:func_vari])に示す4つの例は，いずれも「太郎が走る」という事象が成立していないということを，異なる機能表現によって記述している．
そのため，否定を認識するためには，典型的な否定の機能語である「ぬ，ない」だけでなく，「ねぇ，もんか」といった砕けた表現もとらえる必要がある．
これらに加えて，複数の表現の組み合わせの問題がある．
\eenumsentence{
太郎は\event{走れ}なくなる[MATH]ようだ[MATH]。
太郎が\event{走る}かもしれない[MATH]。
} 機能表現の組み合わせは，複数の表現の意味が組み合わさって事実性を表す場合（[REF_ex:func_combi]a）と，単語自体では意味を持たず複数の語が組み合わさってはじめて意味を持つ場合（[REF_ex:func_combi]b複合辞と呼ばれる）がある．
([REF_ex:func_combi]a)は，否定の機能表現「なくなる」と，推量の機能表現「よう」が組み合わさることで，「太郎が走る」という事象が成立しないことを推測していることを示している．
この事例を正しく認識するためには，機能語単位での意味ラベルだけでなく，その組み合わせに従って事実性を演算することが必要となる．
一方，([REF_ex:func_combi]b)は複合辞の事例であるが，「走る」に後続する3つの単語「かも，しれ，ない」は，ひとまとまりで推量の機能表現を構成している．
このとき，「ない」は否定の意味を持っておらず，機能表現を解釈するには，特定の単語列を複合辞としてまとめた上でその意味を認識する必要がある．
事実性は，事象に後続する機能表現だけでなく，周辺の副詞（図[REF_fig:sent_structure]では，述語Aに対する副詞A，述語Bに対する副詞B）によって決定される場合がある．
\eenumsentence{
確か太郎は\event{走っ}た。
太郎は果たして\event{走る}のだろうか。
どうしたら太郎は\event{走る}だろう。
}  ([REF_ex:func_fukushi])に示す例は，いずれも下線部の副詞が事象「太郎が走る」の事実性に影響する．
([REF_ex:func_fukushi]a)では，副詞がなければ事象は成立しているが，副詞「確か」が付加されることによって確信度が下がる．
([REF_ex:func_fukushi]b)は，同様に「果たして」が付加されることにより，事象成立の確信度は大きく下がり，どちらかといえば事象は成立しないと読み取れる．
([REF_ex:func_fukushi]c)は，下線部の副詞がなければ，推量を意味する機能表現「だろう」により，事象の成立を推量していると読み取れる．
しかし方法を問う副詞「どうしたら」が付加されることにより，事象は成立していないと読み取れる．
また，このとき「だろう」は推量の意味を持たない．
前述の例のように，事象表現の周辺に副詞が存在する場合，事実性に大きな影響を与える場合がある．
副詞は，用法がまとめられた辞書はあるものの[CITE]，事実性に及ぼす影響についての研究は進められていない．
よって，副詞が事実性に影響を与える事例を収集するところから着手する必要がある．
事象表現が含まれる文節よりも文末側に現れる語（図[REF_fig:sent_structure]では，述語Aに対する述語Bおよび機能表現B）によって，事実性が決定される場合がある．
\eenumsentence{
太郎は\event{走る}ことを拒否した。
太郎は\event{走る}と言っていたが、やめた。
太郎は\event{走り}も歩きもしなかった[MATH]。
太郎は\event{走った}が、楽しくなかった[MATH]らしい[MATH]。
}  ([REF_ex:func_followings])に「太郎が走る」という事象が，文節境界を越えた後続の述語や機能表現によって，否定あるいは推量されている事例を示す．
([REF_ex:func_followings]a)および([REF_ex:func_followings]b)は，下線部の述語によって事象の成立が否定されている．
このような述語は，他の事象表現の事実性に及ぼす影響を決定すること，その及ぼす範囲を決定することが重要である．
([REF_ex:func_followings]c)は，後続の述語「歩く」に付随する否定の機能表現「なかった」が，事象「太郎が走る」にも影響して，その事実性が否定であることが示唆される．
一方で，([REF_ex:func_followings]d)は，後続の述語「楽しい」に否定の機能表現「なかった」と，伝聞の機能表現「らしい」が付随するが，事象「太郎が走る」の事実性には影響せず，この事象が成立することが読み取れる．
このように，後続の述語に付随する機能表現が，文節境界を越えて事実性に影響する場合があり，その範囲の同定は，否定／推量のスコープの問題として知られている．
事実性は，[REF_sec:fact_features]節で述べた各言語要素が単体で影響するだけでなく，その組み合わせによって決定される．
\eenumsentence{
太郎が\event{走ら}ない[MATH]というのは間違っていた。
（機能表現と後続する述語の組み合わせ）
たぶん太郎は\event{走ら}ない[MATH]。
（副詞と機能表現の組み合わせ）} 例えば([REF_ex:fact_combi]a)は，事象表現「走る」の直後にある否定の機能表現「ない」と，後続する述語「間違っていた」が組み合わさって，事象「太郎が走る」が成立することを示している．
([REF_ex:fact_combi]b)は，副詞と機能表現の組み合わせによって，事象が成立しないことが推量されている．
課題分析においては，複合的に影響する要素は可能な限り切り分けることが重要である．
そこで，事実性が機能表現のみで決定可能であるかという点と，文節境界を越えて後続する述語や機能表現の影響を受けるかという点の2つに着目して，課題を切り分ける．
機能表現は，[REF_sec:fact_features]節で述べた3種類の要素の中では，記述的研究に基づいて体系化が進められている領域であり[CITE]，辞書も整備されている[CITE]ため，切り分けが容易であると考えた．
文節境界を越えて後続する述語や機能表現の影響を受ける場合とそうでない場合とを切り分けるために，文の主節（日本語の場合は最も文末に近い述語節）に着目する．
主節に位置する事象表現（主事象）は，文節境界を越えて後続する述語や機能表現を持たないため，その影響を受けることはない．
それ以外の事象（従属事象）は，後続の述語や機能表現の影響を受ける可能性がある．
まとめると，事実性解析課題の切り分けは図[REF_fig:approach]のようになる．
課題の切り分けを効率的に行うために，機能表現に基づくルールベースの事実性解析器を構築する（詳細は[REF_sec:fact_model]節で述べる）．
本解析器は，各事象表現について，直接後続する機能表現の意味ラベルのみに基づいて事実性を決定する．
事実性解析において，機能表現のみで事実性が決定可能な事例は少なくないと考えられる．
そのため，偶然正解する可能性の低い解析器を用いることで，難度の低い事例を分析対象から除外し，課題分析に注力することができる．
本解析器を主事象に対して適用すると，正解事例は機能表現のみで決定可能な事例であると判断できる．
一方で，誤り事例は以下の3種類に分類できる．
機能表現の意味ラベルや解析器のルールがナイーブであることが原因で誤ったが，機能表現のみで決定可能な事例
副詞の影響を受けるため機能表現のみでは決定できない事例
その他
次に，従属事象に対して適用すると，正解事例は，主事象と同様に，機能表現のみで決定可能な事例である．
一方で，誤り事例は以下の4種類に分類できる．
文節境界を越えて影響を及ぼす述語を持つ事例
文節境界を越えて影響を及ぼす機能表現を持つ事例
文節境界を越えて文末側に位置する述語や機能表現の影響を受けず，機能表現の意味ラベルや解析器のルールがナイーブであることが原因で誤ったが，機能表現または副詞によって決定可能な事例
その他
このような誤り分析によって，事実性解析の性能を向上させるには，どの言語要素に注力することが重要か，また各要素の部分課題にどの程度の解析性能が要求されるのかが明らかとなる．
本研究では，課題分析のために拡張モダリティタグ付与コーパス[CITE]を利用する．
拡張モダリティタグ付与コーパスは，『現代日本語書き言葉均衡コーパス』(BCCWJ)を付与対象としており，そのうちのYahoo!知恵袋データを利用して誤り分析を行う．
拡張モダリティタグ付与コーパスを用いるのは，事実性に関する情報が付与されており，課題分析に十分な事例数が確保できるとともに，同様の規模の利用可能なコーパスが他にないためである．
拡張モダリティタグ付与コーパスには，Yahoo!知恵袋データの他にも，新聞，書籍，白書を対象としたデータも含まれているが，本研究ではYahoo!知恵袋データを対象に分析を行い，その他のドメインに対する分析は今後の課題とする．
その理由としては以下の2点がある．
アノテーションガイドラインの付録Bに「OC（Yahoo!知恵袋）の14,089事象に対しては、実装した解析システムの解析結果をフィードバックさせ、それを参照しながらのタグ見直し作業を数回行い、タグの質を向上させている。
」と記載がある．
できるだけ信頼性の高いタグで誤り分析を行うため，Yahoo!知恵袋データを利用した
言論マップ(水野，渡邉，ニコルズ，村上，乾，松本2011)[CITE]や対災害SNS情報分析システム(後藤，大竹，De Saeger，橋本，Kloetzer，川田，鳥澤2013)[CITE]などの，Webデータを用いたアプリケーションに対する利用を想定している
拡張モダリティタグ付与コーパスには6,362文が収録されている．
6,362文のうち，主事象に機能表現を一つ以上含む文は5,198文ある．
そのうちの約30%である1,533文をランダムに選択し，課題分析の対象とした．
この中には，主事象が1,533事象，従属事象が2,201事象含まれている．
事実性ラベルは，[CITE]の体系を一部簡素にした[CITE]によるラベル体系を採用する．
本体系は，3種類の確信度と，3種類の肯否極性の2軸に分けて事実性を定義しており，それぞれの軸で評価できることが，課題分析に有効であると考えた．
拡張モダリティタグ付与コーパスの真偽判断タグと，事実性ラベルとの対応を表[REF_tab_def]に示す．
表[REF_tab:fact:distribution]に，本実験の解析対象である1,533文における，主事象と従属事象の事実性の分布を示す．
事実性は，それを判断したのが著者なのか，あるいは文中の登場人物なのかによって変化する．
[CITE]は，著者以外の文中の登場人物から見た事実性も考慮してアノテーションを行っている．
以下に[CITE]によるFactBankのアノテーション例を示す．
\enumsentence{ He does not think[MATH] she followed[MATH] the rules.
f([MATH], author) = CT[MATH]
f([MATH], author) = Uu
f([MATH], he_author) = PR[MATH] }  f([MATH], s)は態度表明者sから見た事象[MATH]の事実性を示している．
この文では，著者から見た[MATH] (think)の事実性がCT[MATH]，著者から見た[MATH] (followed)の事実性がUuであることが付与されるとともに，文中の登場人物heから見た[MATH] (followed)の事実性を著者はPR[MATH]と判断している，ということが付与されている．
一方で，[CITE]は著者から見た事実性のみに焦点を当てている．
日本語においては，[CITE]が登場人物ごとの事実性判断をアノテーションしている．
しかしながら，彼らの構築したコーパスでは，著者が事実性を判断している事象が，いずれのドメインにおいても9割前後という大きな割合を占め，著者以外の事実性判断を認識すべき事象は少ない．
これらの事実を背景として，本研究では著者の事実性のみを解析対象とする．
著者以外から見た事実性に関しては，今後の課題とする．
機能表現に関連する問題であるかを切り分けるために，1,533文に含まれる3,734個の事象について，それに続く機能表現に意味ラベルを付与した．
機能表現の意味ラベルは，記述的研究[CITE]に基づいて体系化された『つつじ』[CITE]がある．
しかし，[CITE]によると，『つつじ』に掲載されていない機能表現および意味ラベルが存在する．
本研究では，『つつじ』に不足する機能表現や意味ラベルを拡充しながら，事象表現に付随する機能表現の意味ラベルを付与した．
『つつじ』では89種類の意味ラベルが定義されているが，1,533文からなる本コーパスに付与された意味ラベルは66種類であった．
『つつじ』には名詞に続く格助詞なども掲載されているが，それらは本研究では付与対象外であるため，付与されたラベルの種類は少なくなる．
構築したコーパスは，BCCWJとの差分データとして，アノテーション仕様と合わせて公開している．
日本語事実性解析における課題分析のため，挙動が明確なルールベースモデルを用いて事実性解析を行う．
事実性解析器の入力は，解析対象となる事象表現，文全体の形態素情報，および事象表現に付随する機能表現の意味ラベル列であり，入力された事象表現に対して事実性ラベルを付与して出力する．
事実性を付与すべき事象表現の同定に関しては，あらかじめ正解を与える．
形態素情報は，UniDic体系で与えられているが，機能表現はIPA辞書体系であるため，自動でマッピングを行っている．
本研究では，事実性の解析に，各事象表現よりも後ろにある機能表現の意味ラベルを利用する．
例えば，[MATH]の機能表現が付随している場合には肯否極性を反転する，といった事実性更新ルールを適用する．
主事象の事実性は，文末から主事象の間に存在する，すべての機能表現の意味ラベル列に基づいて更新ルールを適用することで決定される．
従属事象の事実性は，従属事象から次の内容語までの間に連なる機能表現の意味ラベル列に基づいて更新ルールを適用することで決定される．
更新ルールは以下の3種類を用いる．
機能表現の意味ラベルが[MATH]のいずれかの場合，肯否極性を反転する
機能表現の意味ラベルが[MATH] [MATH]のいずれかの場合，確信度を下げる
機能表現の意味ラベルが[MATH]のいずれかの場合，事実性をUuにする
更新ルールは，機能表現の意味ラベルの定義およびその表現例にもとづき，人手で設計した．
それぞれの意味ラベルにおける表現例と，コーパス中にその意味ラベルをもつ機能表現が出現した延べ数を表[REF_tab:fe]に示す．
延べ数が0の意味ラベルは，分析対象のコーパスに一度も出現していない意味ラベルである．
[t]
ルールベースモデルのアルゴリズムをAlgorithm [REF_alg:model]に示す．
本モデルは，事象に付随する機能表現に基づく更新ルールを順次適用することで，事象の事実性を決定するモデルとなっている．
以下にこのアルゴリズムによる解析例を示す．
\enumsentence{小さい方がいい場合も\event{ある}らしい[MATH]ので[MATH]一概にそうとも\event{言え}ない[MATH]
みたい[MATH]です[MATH]。
} 主事象「言う」の事実性を決定する場合には，付随している3つの機能表現「ない」「みたい」「です」の意味ラベル列である[MATH]に基づいて解析を行う．
Algorithm [REF_alg:model]中の[MATH]，[MATH]は，それぞれ確信度，肯否極性の値をもつ変数であり，最終的にこれらの組み合わせで事実性の値を表す．
初期値として，[MATH]にCT，[MATH]に+を割り当てる(line 3)．
次に，文末側から順に，機能表現の意味ラベルに対応した更新ルールを適用していく(line 4--20)．
まず，「です」は[MATH]の機能表現であり，更新ルール1--3のいずれにも該当しないため，[MATH]，[MATH]は更新しない．
次に，「みたい」は[MATH]の機能表現であり，更新ルール2に該当するため，[MATH]をPRに更新し，[MATH]は更新しない(line 12--16)．
最後に，「ない」は[MATH]の機能表現であり，更新ルール1に該当するため，[MATH]は更新せず，[MATH]を[MATH]に更新する(line 5--11)．
結果的に，[MATH]，[MATH]となり，主事象「言う」の事実性としてPR[MATH]が得られる(line 21)．
従属事象「ある」の場合は，直後に連なる機能表現列である「らしい」「ので」の意味ラベル列[MATH]に基づいて，更新ルール2のみを適用する(line 12--16)．
その結果，従属事象「ある」の事実性はPR+となる．
本モデルは機能表現の意味ラベルのみを用いたシンプルなモデルであるため，必要以上に多く誤解析してしまう恐れがある．
そこで，既存の素性[CITE]を，オープンソースのモダリティ解析器Zunda [CITE]に実装することで，リファレンスとなる解析性能を得る．
Zundaは，拡張モダリティタグ体系に基づいて，タグごとに線形分類器による多クラス分類を行う．
まず，真偽判断タグのラベルを表[REF_tab_def]に基づいて本研究の事実性ラベルに置き換える．
他の5種類のタグについては，拡張モダリティタグをそのまま採用する．
次に，素性は，[CITE]で利用されている素性のうち，リソースが利用可能なものを利用する．
表[REF_tab:zunda]に，利用した素性の一覧と([REF_ex:factuality:model])から抽出される素性の例を示す．
「事象選択述語が示唆する事実性」は，5.1節で詳述するが，解析対象の素性として述語が含まれる文節の係り先文節に含まれる述語が示唆する事実性である．
例えば「たばこを/ \event{吸う}のを/ \event{やめる}。
」について，「やめる」は係り元文節中の「吸う」がCT[MATH]であることを示唆する述語であることから，「吸う」を解析するとき，その事実性がCT[MATH]であることが示唆されるという素性を抽出する．
最後に，分類器について，[CITE]は事象間の依存構造が考慮できるFactorial CRF [CITE]を利用していたが，ZundaはLIBLINEAR [CITE]を利用している．
事象間の依存関係を考慮するため，解析対象の事象より文末側にあり，かつ最も近傍にある事象の拡張モダリティタグのうち，真偽判断と態度の2つについて，その解析結果を素性として利用する．
例えば([REF_ex:factuality:model])では，解析対象が「ある」のときに，素性として「言う」の解析結果を利用する．
LIBLINEARの学習アルゴリズムは，L2正則化ロジスティック回帰を利用し，パラメータはweightを0に設定した以外はデフォルトの値を利用した(epsilon[MATH], cost[MATH], bias[MATH])．
評価は10分割交差検定によって行う．
文単位で分割することによって，同一文中の複数の事象が学習データとテストデータに属することはない．
交差検定の段階では，主事象と従属事象は区別せずに学習させるが，精度と再現率を算出する段階では，主事象と従属事象を区別する．
ルールベースによる解析モデルを主事象に適用し，誤り分析を行うことで，機能表現のみで事実性が決定可能な事例の割合を明らかにするとともに，副詞の影響を受ける事例がどの程度存在するのか，また，その他の要素はどのようなものがあるのかを明らかにする．
次に，ルールベースによる解析モデルを従属事象に適用し，誤り分析を行うことで，機能表現以外の事実性を決定するための要素に関して，その重要性を定量的に分析し，事実性解析の今後の方針を議論する．
[REF_sec:fact_model]節で構築した事実性解析器を主事象に対して適用し，誤り分析を行うことで，機能表現のみで決定可能な事象，副詞の影響を受ける事象，その他の3種類に分類する．
対象となる事象は1,533事象あり，その解析結果を表[REF_tab:eval:mat:fact]，[REF_tab:eval:mat:axis]に示す．
表[REF_tab:eval:mat:fact]には，確信度と肯否極性を組み合わせた事実性の各ラベルにおける精度，再現率，F値，およびそれらのマイクロ平均，マクロ平均を示した．
表[REF_tab:eval:mat:axis]には，確信度と肯否極性の二軸それぞれにおける精度，再現率，F値，およびそれらのマクロ平均を示した．
これらの結果から，機能表現のみを利用したシンプルなルールベースモデルであっても肯否極性は高い精度，再現率で判定可能であることが分かる．
一方で，確信度については，PRの分類性能は高くない．
また，機械学習ベースのモデルでは，機能表現などの素性も導入されているものの，十分な性能があげられていない．
これは，事例数の偏りや，機能表現の多様性などの要因により，事実性解析が簡単な課題ではないことを示している．
ルールベースモデルと機械学習ベースのモデルとを比較すると，全体の事例数が少なく，大きな偏りもあるため，機械学習ベースのモデルの方が若干不利ではあることを考慮しても，ルールベースモデルは，機械学習ベースのモデルと遜色ない性能を示している．
このことから，本ルールベースのモデルの性能は極端に低いわけではなく，このモデルを用いた誤りを分析することで，事実性解析の課題分析を行うのは妥当であるといえる．
前述の実験で正解した事象は，機能表現のみで決定可能な事象であると判断することができる．
残る240個の誤り事例を分析することによって，機能表現の意味ラベルあるいは事実性解析モデルが原因による誤り事例，副詞の影響を受ける事例，その他の事例に分類する．
誤り分析の結果を表[REF_tab:error:mat]に示す．
機能表現のみで決定可能な事例が4割以上と，まだ多く残されている．
本実験で用いたルールは人手で構築しているため，ルールの改善の余地が残されている．
このようなルールが改善でき，機能表現をしっかり捉えることが出来るようになると，すでに正解できている1,293事例と合わせて，機能表現のみで90.5%(1,387/1,533)の正解率をあげられることがわかった．
\eenumsentence{
ビタミンは、野菜や海草から\event{補給する}べき[MATH]です[MATH]。
（正解ラベルに基づく解析：CT+，正解：Uu）
入札前に\event{確認す}べき[MATH]でし[MATH]た[MATH]ね[MATH]。
（正解ラベルに基づく解析：CT+，正解：CT[MATH]）
大至急オーストラリアへ書類を\event{送ら}なくてはなりません[MATH]。
（正解ラベルに基づく解析：CT+，正解：PR+）}  ([REF_ex:factuality:addrule])は，機能表現だけで事実性を決定できるものの，現在の更新ルールが不足しているために誤った事例である．
このようなルール不足に起因する誤りとしては，[MATH]や[MATH]のように，更新ルールを割り当てるべき意味ラベルを追加することで改善が期待できる事例が見られた．
([REF_ex:factuality:addrule]a)の機能表現「べき」「です」はそれぞれ[MATH]の意味をもっているが，これは，[MATH]に関する更新ルールが不足していたことによる誤りである．
([REF_ex:factuality:addrule]a)は[MATH]を更新ルール3の適用対象に加えれば解決する問題である．
今回の分析対象のコーパス中に，[MATH]が付随している主事象は，8事例見られた．
そのうち，更新ルール3を変更することによって，もともと正解できていた事例が2事例，誤りだった事例が正解できるようになる事例が4事例，もともと誤っており，更新ルール3を変更しても正解できない事例が2事例あり，正解できていた事例が誤りとなるような事例は見られなかった．
更新ルール3を変更しても正しく解析できない事例を([REF_ex:factuality:addrule]b)，([REF_ex:factuality:addrule]c)に示す．
([REF_ex:factuality:addrule]b)では，「確認する」に付随する機能表現列は，[MATH]当為[MATH]態度[MATH]であるから，その事実性はCT[MATH]となるが，正解はCT[MATH]である．
この場合，更新ルール1の適用対象として[MATH]と[MATH]完了[MATH]の組み合わせを追加し，更新ルール3は適用しないように変更することで正しく解析することができる．
[MATH]と[MATH]完了[MATH]の両方が付随する事例は，コーパス中に1事例のみであることから，この変更による悪影響はない．
本分析では，1,533文を分析したが，このように一度しか現れない機能表現のパターンがある．
従って，更新ルールを洗練するには，規則ベース，学習ベースのいずれのアプローチをとるにせよ，機能表現の意味ラベルのアノテーションを拡充していく必要があるであろう．
([REF_ex:factuality:addrule]c)は，「大至急」という副詞があることからPR+と判断されている．
この事例は[MATH]を考慮するだけでは不十分で，「大至急」という副詞を考慮しなければならない．
一方で，副詞の影響を加味する必要がある事例は半分近くにのぼった．
\eenumsentence{
やはりこの御時世、\event{きつい}のではないでしょうか[MATH]？
（正解ラベルに基づく解析：Uu，正解：PR+）
どうやって\event{判別し}てるんでしょうか[MATH]？
（正解ラベルに基づく解析：Uu，正解：CT+）}  ([REF_ex:factuality:discussion])は，機能表現だけは不十分であり，副詞と機能表現とを組み合わせる必要がある事例である．
いずれの事例も，[MATH]の機能表現が後続しているため，主事象の事実性はUuと解析された．
しかしながら，([REF_ex:factuality:discussion]a)は，問いかけではあるものの，推量の意味合いが強いため，正解はPR+となっている．
([REF_ex:factuality:discussion]b)は，前提として起こった事象である「判別する」の方法を問う文であるため，CT+が正解である．
このような事象の事実性を決定するためには，[MATH]の機能表現を利用するだけでは不十分であり，「やはり」や「どうやって」のような副詞を手がかりとし，それらを組み合わせて解析する必要がある．
\enumsentence{おそらくただの\event{見栄っ張り}です。
（正解ラベルに基づく解析：CT+，正解：PR+）}  ([REF_ex:factuality:adverb])では，事実性に影響を与えるような機能表現は付随していないが，その代わりに副詞「おそらく」によって事実性が決定されている．
どのような副詞が事実性に影響を与えるかを分類し，手がかりとして捉える必要がある．
また，機能表現や副詞のみでは決定できない，その他の誤りとして，機能表現の省略による誤り事例が見られた．
\enumsentence{とれないので\event{注意}！！
（正解ラベルに基づく解析：CT+，正解：Uu）} 例えば([REF_ex:notfunc])では，事象「注意」で文が終わっており，機能表現が存在していないが，依頼の意味をもつ文であることが解釈できる．
しかしながら，機能表現のみに基づいた解析では，機能表現が存在していないために依頼の意味を捉えられず，正しく解析することができない．
そこで，文末の感嘆符など，機能表現以外の要素を利用して解析を行わなければならない．
また，「注意」で文が終わる場合には依頼文であることが多いと予測できるため，事象自身の情報を利用することで，「注意」で終わる場合には依頼であると判定する，といったことが考えられる．
形態素解析やアノテーションの誤りについて，正しい情報が与えられた場合についても検証した．
まず，形態素解析および機能表現のアノテーション誤りが解消された場合，事実性も正しく解析可能であることが分かった．
また，事実性のアノテーション誤りについては，システムが出力したラベルの方が正しいことが分かった．
以上より，主事象の事実性解析については，機能表現の意味ラベルが正しく解析できれば，現在の意味ラベルの体系と本研究で用いた単純な規則だけでも，90%に近い正解率が得られることがわかった．
3節で述べたように，現在の機能表現の意味ラベルは，既存の記述的研究に基づいた体系になっているが，これが事実性解析に最適な体系になっているかを評価することは容易ではない．
しかし，現在の体系でも90%に迫る正解率が得られる余地があることは，この体系に基づく機能表現の解析モデルを研究開発することに一定の支持を与えるものと考える．
今後は，[CITE]のような機能表現解析の研究に注力したい．
もう一つの大きな課題は副詞の扱いである．
今回得られた誤りの半数近くは副詞に起因するものであった．
意味解析における副詞の扱いは先行研究も乏しく，辞書の整備を初め，やるべき課題は多い．
まずは事実性解析という切り口で，それに関連する情報に焦点を当ててリソースを設計・開発していく予定である．
表[REF_tab:eval:sub:fact], [REF_tab:eval:sub:axis]に，2,201の従属事象に対して事実性解析器を適用した結果を示す．
主事象の場合と比較すると，全体の性能は下がっており，従属事象の方が解析が難しいことがわかる．
機械学習ベースのモデルと比較すると，主事象の場合と同様に，ルールベースモデルが，機能表現等が素性に入った機械学習ベースのモデルと遜色ない性能を示している．
従属事象の場合においても，本ルールベースのモデルの性能は極端に低いわけではなく，このモデルを用いた誤りを分析することで，事実性解析の課題分析を行うのは妥当であるといえる．
従属事象において，機能表現以外に考慮すべき要素として，どのような要素が重要なのかを定量的に分析するために，正解ラベルを用いた場合の誤り分析を行う．
主事象においては機能表現が付随している事象のみ扱ったが，機能表現が付随した主事象を含む文における従属事象を対象としているため，必ずしもすべての従属事象に機能表現が付随しているとは限らない．
そこで，機能表現が付随している事象であるか否かをまず分類する．
また，名詞述語なのか，動詞や形容詞といった述語なのかが，事実性解析の難易度に影響していると考えられるため，名詞述語なのか否かに従属事象を分類する．
510の誤り事例の中から，200事例をランダムにサンプリングし，誤り分析を行った．
従属事象特有の誤りとしては，後続する述語の影響が事実性を決めている場合と，さらにその後ろの機能表現が事実性を決めている場合の2種類が考えられる．
\eenumsentence{
安いものだと\event{防水}は怪しいです。
（正解：PR[MATH]，システム：CT+）
物語を\event{楽しみ}つつ、\event{冒険}を堪能してください。
（「楽しむ」正解：Uu，システム：CT+，「冒険する」正解：Uu，システム：CT+）}  ([REF_ex:suberror])は，機能表現の正解ラベルを用いても正解できなかった従属事象の例である．
まず([REF_ex:suberror]a)の従属事象「防水する」は，事実性の正解がPR[MATH]であるが，「防水する」自身に付随している機能表現だけでこれが決まっているわけではなく，後続する述語であり，疑いをもっていることを示す表現である「怪しい」の影響が大きい．
このように，従属事象に後続する述語が事実性を決めている場合を「後続する述語の影響」による誤りと分類した．
このような事象の事実性を解くためには，どの述語が事実性にどういった影響を与えるかを分類する必要がある．
次に([REF_ex:suberror]b)の「楽しむ」および「冒険する」は，正解がUuであるが，([REF_ex:suberror]a)と同様に，それぞれに付随している機能表現だけでは事実性は決定できない．
しかしながら，後続する述語である「堪能する」自身にそういった影響があるとはいえない．
これは，「堪能する」を抽象的な述語「する」に置き換えた場合でも，「楽しむ」および「冒険する」の事実性がUuと判断できることから明らかである．
ではどういった要素が「楽しむ」および「冒険する」の事実性をUuにしているかというと，「堪能する」に付随する機能表現「ください」が影響を与えているということが考えられる．
このように，後続する述語ではなく，さらにその後ろに見られる機能表現が広く影響を与えているために，事実性をうまく解析できない事例を「後方の機能表現が影響する範囲」による誤りと分類した．
このような事象の事実性を解くために，機能表現がどの事象までその影響を与えるのかを解析する必要がある．
「後続する述語の影響」と「後方の機能表現が影響する範囲」とを区別する基準としては，後続する述語を「する」などの抽象的な述語に置き換えた場合に，事実性が変化するかどうかを考える．
例えば([REF_ex:suberror]a)において「怪しいです」を「しています」と置き換えた場合，事実性が全く異なってしまう．
このような述語の置き換えを一つの判断基準として，誤りの分類を行った．
誤り分析の結果を表[REF_tab:error:sub]に示す．
主事象の場合と同様の誤りも見られたが，従属事象特有の誤りが誤り全体の6割を占めた．
特に，機能表現が付随していない名詞述語においては，機能表現が影響する範囲を考慮すべき誤りが大半を占めていることから，機能表現が影響する範囲を捉えることの重要性を示している．
以降の節では，後続する述語や機能表現が影響する範囲のような従属事象特有の問題を解決するために，既存のコーパス中における現象を分析することで，今後の方針について議論する．
「あり得る」のような，事実性に影響を与える述語（以降，事象選択述語と呼ぶ）については，[CITE]が構築した辞書がある．
[CITE]は，拡張モダリティを解析する手がかりとして利用するために，拡張モダリティに影響を与える表現を収録した辞書（以降，事象選択述語辞書と呼ぶ）を構築した．
事象選択述語辞書は，行為・出来事を表す事象を必須格にとり得る述語を対象に，分類語彙表[CITE]に収録されている述語の中から，拡張モダリティに影響を与える8,580述語を収録している．
事象選択述語辞書の項目の例を表[REF_tab_mkd]に示す．
この辞書は，各述語が格にとる事象に与える影響を，直前の事象の時制および，述語の肯否極性ごとに収録している．
この辞書のうち，真偽判断の項目が，事実性解析に利用できると考えられる．
\eenumsentence{
問題が\event{発生する}のを防いだ。
問題が\event{発生する}のを防がなかった。
} 例えば([REF_ex_pred])の「防ぐ」という述語は，([REF_ex_pred]a)のような肯定環境下では不成立，([REF_ex_pred]b)のような否定環境下では成立というように，事象「発生する」の肯否極性に影響を与える．
([REF_ex_mkd])の「忘れる」は，直前の事象の時制を考慮した例である．
\eenumsentence{
彼は\event{発言し}{たのを忘れ}ている。
彼は\event{発言する}{のを忘れ}ている。
} 事象「発言する」に対して，([REF_ex_mkd]a)では過去に成立している事象であるが，([REF_ex_mkd]b)では「発言する」ことが実際には起こっておらず，不成立である．
事象選択述語に関する問題は，このような既存の辞書を手がかりとして解決できると考えられる．
現在の辞書のカバレッジを見積もるため，表[REF_tab:error:sub]において，後続する述語の影響が原因とされた誤りである25事例を対象に，事象選択述語辞書がカバーできているかどうか，を人手で分類した．
例えば([REF_ex:suberror]a)の「怪しい」といった述語が辞書中に登録されているかを判断する．
そして，「怪しい」が辞書中に登録されている場合，登録されている情報を利用すれば正しく事実性ラベルを選択できるのか，即ち([REF_ex:suberror]a)では，「直前の事象の時制が未来」であり，「述語自身の肯否極性が成立」である場合に，辞書に「真偽判断が低確率」と登録されているかどうか，を人手で判定した．
このとき，直前の事象の時制や述語自身の肯否極性も人手で判定を行った．
その結果，25事例のうち20事例については，事象選択述語が辞書に収録されており，辞書の情報を利用すれば正しく事実性ラベルを選択できることがわかった．
現在の辞書でも事実性解析の精度向上に貢献できることを示している．
残りの5事例についても，現在の辞書には収録されていないものの，適切な情報が辞書に収録されていれば，辞書情報を用いて正しく事実性ラベルを選択することができる．
現在の辞書でカバーできていた述語とカバーできていなかった述語を表[REF_tab:esp]に示す．
「気がある」「関係ある」などの複合表現が現在の辞書でカバーできていない傾向が見られ，こうした多様な表現の獲得が今後重要な課題として浮かび上がった．
([REF_ex:suberror]b)のように，機能表現が直接付随する事象だけでなく，従属事象にまで影響を与えることによって解析に失敗した事例が，従属事象における誤りの4割以上を占めた．
このような後方の機能表現が影響する範囲による誤りを解消するために，どのような情報が利用できるのかを分析する．
本研究では，機能表現が影響する範囲を決定する問題を，機能表現のスコープを認識する問題として扱う．
スコープとは「否定などの作用が及ぶ範囲」[CITE]であり，([REF_ex:sc])では，角括弧で囲まれた範囲が否定を表す機能表現のスコープとなる．
\eenumsentence{
[仕事で\event{行っ}た]のではない[MATH]。
\event{残念}なことに、[鈴木さんは\event{来}]なかっ[MATH]た。
}  ([REF_ex:sc]a)では，「仕事で行った」という事象が否定されている．
([REF_ex:sc]b)では，「鈴木さんは来た」という事象が否定されており，「残念である」という事象は否定されていない．
一方で，([REF_ex:suberror]b)では，主事象に付随する「ください」の影響が，従属事象である「楽しむ」「冒険する」にも影響を与える．
現在のモデルでは，スコープを機能表現の直前の事象のみとして解析を行うため，([REF_ex:suberror]b)は正解できなかった．
そこで，スコープを必要に応じて広げ，機能表現の影響をスコープ内の事例に与えることで，後方の機能表現が影響する範囲による誤りを解消することができる．
機能表現のスコープを広げるべき場合とそうでない場合とを認識するために，どのような情報が利用できるのか，それらの事例の割合はどの程度なのかを分析する．
[CITE]は，従属節内の要素の表れ方に基づき，従属節を接続助詞で分類している．
\eenumsentence{
[タバコを飲むが]ガンのことは心配していない。
[タバコを飲みながら]おしゃべりしている。
} 例えば([REF_ex:minami]a)では，従属節の述語的部分「飲むが」には，「飲まないが」「飲んだが」「飲みますが」「飲むだろうが」などのさまざまな要素を入れられる．
一方([REF_ex:minami]b)では，「*飲まないながら」「*飲んだながら」「*飲みましながら」「*飲むだろうながら」などを用いることは出来ず，表れる要素が制限されている．
これは，「〜ながら」を伴う従属事象では，主事象に付随する機能表現が否定やモダリティなどを表しており，接続表現「〜ながら」によってスコープが広がっていることを示唆している．
また，[CITE]は日本語の時制節性に着目することで，[CITE]の分類がさらに分類できることを示している．
[CITE]は，[CITE]の分類を一部修正し，その分類をもとに疑問の焦点やスコープに関して議論している．
このように，主事象と従属事象をつなぐ接続表現の差によって，スコープの判断に接続表現を利用することが考えられる．
そこで，実際にコーパス中に含まれる文を対象に，機能表現のスコープが従属事象にまで及んでいるかどうかを接続表現ごとに分類することで，スコープを考えるべき事例がどの程度存在するのか，接続表現がスコープ解析ならびに事実性解析に利用できるのか，を明らかにする．
我々が分析の対象とした従属事象の誤り200件のうち，後方の機能表現を考慮しなかったことによる誤りは80件あった（表[REF_tab:error:sub]の「後方の機能表現が影響する範囲」）．
これらは，([REF_ex:suberror]b)の従属事象「楽しむ」の事実性のように，文節境界を越えた後方の機能表現（この例では「ください」）を事実性推定に考慮していないことによる誤りである．
これらの従属事象の事実性は後方の機能表現の影響を受けるので，それぞれの従属事象は後方の機能表現のスコープの中に入っていることになる．
上の80件の従属事象がそれぞれ後方の機能表現にどのように繋がっているかのパターンを調べると表[REF_tab:scope]のような分布が得られた．
主なパターンは次のとおりである．
従属事象（「冒険」）が上位事象（「堪能し」）の項になっており，上位事象に付随する機能表現（「ください」）の影響を受けるパターン\enumsentence{物語を楽しみつつ、\event{冒険}を\event{堪能し}てください[MATH]。
}
従属事象（「活かし」）がテ形接続で後続事象（「働く」）に係っており，その後続事象の機能表現（「なかっ」）の影響を受けるパターン\enumsentence{うまく\event{活かし}て\event{働く}ことができなかっ[MATH]た。
}
従属事象（「難しい」）が後続の事象表現（「ある」）の項になっている名詞（「試験」）を修飾しているパターン\enumsentence{そんなに\event{難しい}試験が\event{ある}のでしょうか[MATH]？}
従属事象（「質問し」が名詞述語（「子かな」）の名詞を修飾しており，その名詞述語の機能表現（「かな」）の影響を受けるパターン\enumsentence{昨日楽譜何がいいって\event{質問し}た\event{子}かな[MATH]。
}
これらのパターンについては，事実性解析時に後続の機能表現の影響を考慮する必要があるが，そのためには当該の従属事象が後続の機能表現のスコープ内にあるかどうかを正確に判別する必要がある．
そこで，こうした機能表現のスコープの分布についてさらにデータを拡充して調査を行った．
拡張モダリティタグ付与コーパスのうち，2個以上事象が含まれており，かつ，主事象の事実性がCT+ではない文を140文ランダムに抽出した．
主事象の事実性がCT+でない文では，主事象の後ろに何らかの機能表現が付随している場合が多いため，今回の分析目的にかなうと考えられる．
140文中には事象表現が全部で440個含まれ，そのうち主事象が140個，従属事象が300個であった．
この300個の従属事象を対象に，主事象に付随する機能表現のスコープ内に従属事象が入っているか，主事象と従属事象の間にどのような接続パターンが見られるかを人手で調査した．
ただし，当該の従属事象が主事象から表層的に離れている場合は，隣接する場合にくらべて主事象に付随する機能表現のスコープ内には入りにくいと予測されるので，表[REF_tab:subdist]では，上記300個の従属事象をさらに主事象に隣接する事例140個とそれ以外の160個に場合分けして集計した．
ここでいう「隣接」とは，係り受け関係にある事象の中で最も表層上近いものを指す．
係り受けは，CaboCha [CITE]による自動解析結果を利用した．
まず，主事象から離れた従属事象160個について，従属事象が主事象と同じスコープ内に入っているかどうかを調べた．
表[REF_tab:subdist]に示すように，スコープ内に入っている従属事象が11個，スコープ外にある従属事象が147個，後方の機能表現ではなく事象選択述語の影響を加味すべき事象が2個であり，「スコープ外」への偏りが極めて大きいことがわかった．
すなわち，主事象から離れた従属事象が主事象の機能表現の影響を受けることは極めてまれで，その可能性を事実性解析プロセスの中で考慮しても精度のゲインはほとんど期待できない．
つぎに，当該従属事象が主事象に隣接している事例140個の分布を表[REF_tab:subdist]に示す．
上段の「スコープ内が見られた表現」には，従属事象が主事象に付随する機能表現のスコープ内に入っている場合が一度でも観察された接続パターンを並べた．
「〜てから」のように表[REF_tab:scope]に入っているが，上記140個の事例の中には出現しなかったものも含めてある．
表[REF_tab:scope]と表[REF_tab:scope:add]を合わせると興味深い知見が得られる．
表[REF_tab:scope]の誤りを解消するためには，主として「直接の項」「テ形接続」「項を修飾」「名詞述語を修飾」などの接続パターンのスコープを決定する必要があるが，このうち「直接の項」をのぞく3つのパターンはいずれもスコープ内外の選択が高度に曖昧であり（例えば「テ形接続」は「スコープ内」が5件，「スコープ外」が9件），これらのパターンのスコープを決定する課題に注力することに一定の効用があることがわかる．
([REF_ex:scopeamb])に「テ形接続」でスコープ内外が異なる例を示す．
\eenumsentence{
うまく\event{活かし}て\event{働く}ことができなかっ[MATH]た。
（スコープ内）
諸事情が\event{あっ}て\event{離婚する}ことができなかっ[MATH]た。
（スコープ外）} 一方，「直接の項」については，つねにスコープ内であると判断してもよい．
また，「〜が」「〜ので」「〜たら」などの接続パターンは「スコープ外」への偏りが大きく，決定的に「スコープ外」と決めても大きなリスクにはならない可能性がある．
その他の接続パターンに関しても，ある程度の偏りが見られ，規則ベースで決めても問題はないと考えられる．
離れた事象と比較して，隣接する事象のほうがスコープ内に入る場合が多いことから，事実性解析プロセスの中で隣接事象のスコープを考慮することによって，ある程度のゲインが期待できる．
隣接事象のスコープを考慮することが，事実性解析の性能改善に繋がるのかを検証するために，隣接事象のスコープを付与し，それを考慮した解析モデルを適用して，誤り分析を行う．
まず，隣接事象対に対して同じスコープ内に入るかを人手で付与する．
例えば([REF_ex:scopeamb]a)では，「活かす」と「働く」は同じスコープ内に入ると付与し，([REF_ex:scopeamb]b)では，「ある」と「離婚する」は同じスコープに入らないと付与する．
次に，解析モデルを，スコープを考慮したものに拡張する．
同じスコープに入ると付与された事象対について，前件の事象（文頭側の事象）については，自身に付随する機能表現の意味ラベル列に加えて，後件の事象（文末側の事象）に付随する機能表現の意味ラベル列についても考慮して，事実性の更新ルールを適用する．
例えば([REF_ex:scopeamb]a)では「活かす」と「働く」が同じスコープ内であり，([REF_ex:scopeamb]b)では「ある」と「離婚する」が同じスコープ内にはない，というアノテーションを行う．
このアノテーションを利用し，3.4節で述べた解析モデルを拡張することで，事実性の解析を行う．
具体的には，「同じスコープ内である」と付与された事象対のうち，前件の事象については，前件の事象自身に付随する機能表現の意味ラベル列に加えて，後件の事象に付随する機能表現の意味ラベル列に基づいた更新ルールを適用することで，事実性を決定する．
例えば([REF_ex:scopeamb]a)では「活かす」と「働く」が同じスコープ内であるため，「活かす」の事実性を決定する際には，「活かす」自身の機能表現がもつ更新ルールを適用する（今回は更新ルールをもつ機能表現は付随していない）だけでなく，「働く」に付随する機能表現である「なかっ」がもつ更新ルール1も適用する．
1,533文のうち，2個以上事象が含まれており，かつ，主事象の事実性がCT+ではない441文を抽出し，その中で係り受け関係にある900事象対に対してスコープのアノテーションを行った．
その結果，同じスコープ内に入ると判断されたのは120事象対であった．
これらの事象対のうち，後件の事象の事実性はスコープに関わらず変化しないが，前件の事象の事実性はスコープを利用することによって，後件の事象に付随する機能表現の影響を受けて変化する．
前件の事象120事象における事実性解析の性能を表[REF_tab:scope:result]，事実性解析性能の変化を表[REF_tab:scope:change]に示す．
事例数の変化を見ると，改善事例が多く，36事例見られたものの，スコープを考慮しても誤る事例も51事例見られた．
しかしながら，その誤り原因を確認すると，51事例のうち32事例は事実性のアノテーション誤りであり，システムは正しく事実性を解析することができていた．
それ以外の事例において，スコープを考慮しても正解できなかったものとしては，以下の事例がある．
\enumsentence{あなた自身が\event{貯金する}くせを\event{つけ}ないと[MATH]。
（「つける」正解：Uu，スコープ無：CT+，スコープ有：CT+）
（「貯金する」正解：Uu，スコープ無：CT+，スコープ有：CT+）}  ([REF_ex:inscope:error])では，「貯金する」と「つける」が同じスコープ内にあると判断された事例であるが，従属事象「貯金する」だけでなく，主事象「つける」も誤りとなっている．
主事象「つける」が誤った原因は，主事象における誤り分析で述べたように，主事象に付随する機能表現である[MATH]のルールが不足していることである．
このルールが追加されれば，主事象の改善とともに，同一スコープ内の事象である「貯金する」も同時に正しく判定できるようになる．
このように，主事象で見られた誤りを改善することで，スコープ内と判断された従属事象の性能改善にもつながる事例が19事例見られた．
スコープを考慮した事実性解析を行うことで，CT+以外の性能，特に再現率を向上させることができるため，マクロ平均はスコープを考慮した方が大きく上回る性能となった．
このことから，隣接事象対のスコープ判定を精緻に行うことが，事実性解析の性能向上に貢献することを確認することができた．
以上の観察を合わせると，次のことが言える．
調査した接続パターンのうち，誤りの半分近く(36/80)にあたる「直接の項」は我々の分析データを見る限り，全ての場合においてスコープ内に来るので，述語項構造解析の結果に基づいてスコープを広げることにより，事実性解析の性能を向上させることができる．
誤りのうち4割以上(33/80)にあたる「テ形接続」「項を修飾」「名詞述語を修飾」等の接続パターンの場合には，スコープ内外の選択が高度に曖昧であり，これらのパターンのスコープを決定する課題に注力することに一定の効用があることがわかる．
スコープを人手で付与し，事実性解析に取り入れることで，CT+以外の性能，特に再現率を向上させることができるため，マクロ平均はスコープを考慮した方が大きく上回る性能を得られる．
このことから，隣接事象対のスコープ判定を精緻に行うことが，事実性解析の性能向上に貢献することを確認できた．
