\section{実験と考察}
\label{sec:experiment}

原文書き換えの有効性を検証するために，提案手法を我々の従来システムに
組み込み，翻訳品質がどの程度向上するかを調べる実験と翻訳速度がどの程度
向上するかを調べる実験を行なった．

\subsection{実装}

今回の実験のために実装した書き換え規則の総数は35規則であり，
その内訳は倒置，省略，挿入，強調用がそれぞれ18，6，8，3規則である
\footnote{規則作成に要した時間的，人的コストも提案手法の有効性を判断す
る上で重要なファクターであるとの指摘を査読者の方より受けたが，
記録がなく記載できない．}
． 
規則の適用条件部には，形態素語彙属性を調べる手続きと構文的な属性を調べる
手続きの二種類が記述されている．
構文的な属性を調べる手続きは，\ref{sec:preedit:ruleformat:condition}\,節
で述べた，簡単な名詞句を認識する手続きnoun\_phrase()と，
これを利用して節を認識する手続きsubject\_predicate()である．
形態素属性を調べる手続きは，単語の語形，語種(品詞)，意味標識などの照合を
行なうものである．
形態素属性を調べる手続きの一覧を付録の表\ref{tab:morph_proc}\,に示す．

各規則の適用条件部に含まれる平均手続き数を表\ref{tab:rule_complex}\,に示
す．
形態素属性を調べる手続きは，表\ref{tab:rule_complex}\,によれば，実装した
規則全体の平均で10.1個含まれている．
最も多い規則では16個，最も少ない規則では3個である．
構文属性を調べる手続きについては，平均で0.9個，最も多い規則で3個，最も少
ない規則では0個である．
構文属性を調べる手続きを全く含まない規則は10規則存在する．
\begin{table}[htbp]
\caption{適用条件部を構成する平均手続き数}
\label{tab:rule_complex}
\begin{center}
\begin{tabular}{|c||r|r|r|r|r|}\hline
&\multicolumn{1}{|c|}{倒置}&\multicolumn{1}{|c|}{省略}
&\multicolumn{1}{|c|}{挿入}&\multicolumn{1}{|c|}{強調}
&\multicolumn{1}{|c|}{全体}\\\hline\hline
形態素属性  &10.6 & 10.0 & 10.8 & 6.0 & 10.1 \\\hline
構文属性    & 1.2 &  0.3 &  0.5 & 1.0 &  0.9 \\\hline
\end{tabular}
\end{center}
\end{table}

\subsection{翻訳品質評価実験}

\subsubsection{実験方法}

評価実験には新聞記事\cite{Lewis97}から抽出した6182文を用いた．
これらのうち1282文は従来システムでの構文解析に失敗するものであり，
残り4900文は失敗しないものである．
評価文集に含まれる文の長さは，最も短いもので4語，最も長いもので63語，平
均では27.7語であった．
評価文集には書き換え規則作成時に参照した文も含まれているため，今回の
実験は完全ブラインドテストではない
\footnote{本稿では，提案手法の技術的限界を知ることを主な目的としているた
め，ユーザの立場からの評価であるブラインドテストは今後の課題とする．}
．

規則記述の方針として，書き換えるべき表現が書き換えられない(再現率が上が
らない)ことにはあまり注意せず，書き換えるべきでない表現を書き換えてしま
う誤りの発生を極力抑える(適合率を上げる)ことにした．
このため，評価では適合率のみに着目し，書き換えるべきでない表現が誤って書
き換えられていないかを調べた．
次に，規則が正しく適用されている文について，
原文書き換え系を組み込んだ場合と組み込まない場合とで次の二点について比較
した．
\begin{LIST}
\item[\bf 解析品質] 原文書き換えを行なうことによって，構文解析失敗の頻度
がどの程度減少するか．
失敗とは，\ref{sec:introduction}\,節で述べたように，入力文全体を覆う構文
構造が生成できないことを意味する．
\item[\bf 翻訳品質] 翻訳品質がどの程度向上するか．評価値は，品質の向上・
若干向上・低下・若干低下・同等のいずれかとした．
評価の実施は第三者一名に依頼した．
\end{LIST}

\subsubsection{実験結果}

実験に用いた6182文のうち書き換え規則が適用された文は5.3\%にあたる330文で
あった．
書き換えるべきでない表現に規則が誤って適用された文は存在しなかった．
二つ以上の規則が適用された文は存在しなかった．

書き換えられた330文の構文解析品質の改善度を表\ref{tab:result_parse}\,に
示す．
表\ref{tab:result_parse}\,によれば，330文の55.8\%にあたる184文について，
失敗していた構文解析が成功するようになっている．
ここで，「成功」とは，入力文全体を覆う構文構造が生成できたことを意味して
おり，人間にとって正しい解釈が生成できたことを必ずしも意味しない．
原文書き換えを行なっても依然として構文解析に失敗している33文の内訳は，
今回書き換え対象としなかった等位構造などの相対的不適格現象を含むもの
が10文，
記述した書き換え規則で捉えられなかった挿入や省略を含むものが8文，
綴り誤りなどを含む絶対的不適格文が7文などであった．
原文書き換えによって「成功」から「失敗」に悪化した文は存在しなかった．
なお，表\ref{tab:result_parse}\,は不適格現象ごとの集計ではなく書き換え規
則ごとの集計である．
例えば\ref{sec:object}\,節で挙げた文(E\ref{SENT:parenthesis_someofthem})
は挿入と省略の二つの不適格現象を含むが，図\ref{fig:rule_ex}\,に示した一
つの書き換え規則で書き換えられるため，挿入に関する規則としてのみ数えた．
\begin{table}[htbp]
\caption{構文解析品質の改善}
\label{tab:result_parse}
\begin{center}
\begin{tabular}{|c||r|r|r|r|r@{}r|}\hline
&\multicolumn{1}{|c|}{倒置}&\multicolumn{1}{|c|}{省略}
&\multicolumn{1}{|c|}{挿入}&\multicolumn{1}{|c|}{強調}
&\multicolumn{2}{|c|}{計}\\\hline\hline
失敗$\rightarrow$成功    &  93 &  58 & 33 & 0 & 184 & (55.8\%) \\
失敗$\rightarrow$失敗    &   3 &  17 & 13 & 0 &  33 & (10.0\%) \\
成功$\rightarrow$成功    &  23 &  86 &  1 & 3 & 113 & (34.2\%) \\
成功$\rightarrow$失敗    &   0 &   0 &  0 & 0 &   0 & ( 0.0\%) \\\hline
\multicolumn{1}{|c||}{計} & 119 & 161 & 47 & 3 & 330 & ( 100\%) \\\hline
\end{tabular}
\end{center}
\end{table}

330文についての翻訳品質改善度の評価結果を表\ref{tab:result_trans}\,に示
す．
表\ref{tab:result_trans}\,によれば，規則が適用された330文の78.8\%にあ
たる260文で品質改善が見られる．
\begin{table}[htbp]
\caption{翻訳品質の改善}
\label{tab:result_trans}
\begin{center}
\begin{tabular}{|l||r|r|r|r|r@{}r|}\hline
&\multicolumn{1}{|c|}{倒置}&\multicolumn{1}{|c|}{省略}
&\multicolumn{1}{|c|}{挿入}&\multicolumn{1}{|c|}{強調}
&\multicolumn{2}{|c|}{計}\\\hline\hline
向上			&  62 &  64 & 25 & 3 & 154 & (46.7\%) \\
若干向上		&  49 &  44 & 13 & 0 & 106 & (32.1\%) \\
同等			&   5 &  41 &  8 & 0 &  54 & (16.4\%) \\
若干低下		&   0 &   5 &  1 & 0 &   6 & ( 1.8\%) \\
低下			&   3 &   7 &  0 & 0 &  10 & ( 3.0\%) \\\hline
\multicolumn{1}{|c||}{計}& 119 & 161 & 47 & 3 & 330 & (100\%)  \\\hline
\end{tabular}
\end{center}
\end{table}

書き換え規則が正しく適用されているにも拘らず評価値が「低下」となった10文
についてその原因を分析した
\footnote{原因は，実験に用いたシステムの既存部分の不備にあり，書き換え自
体は文法的に正しい．}
．
省略に関する7文はすべて接続詞``that''の省略を含むものであった．
``that''の補完が文(E\ref{SENT:ellipsis_saythat})のように品質改善につ
ながることも多いが、文(E\ref{SENT:B1_saythat})のようにつながらないことも
ある．
文(E\ref{SENT:B1_saythat})を翻訳した文(J\ref{SENT:B1_saythat})では，
``that''は接続詞と解釈されずに形容詞と誤解釈されている
\footnote{``that secondary trading''が名詞句と解釈され「その第2の取引」
と翻訳されている．}が，
``and''以降の節``that $\ldots$ tomorrow.''も被伝達節として正しく認識され
ている．
これに対して文(J\ref{SENT:B1_saythat}')では，被伝達節として認識されてい
るのは二つの節のうち一つ目の節``telephone $\ldots$ today''だけである．
文(J\ref{SENT:B1_saythat}')は，``1500 hrs EST''などの時間表現が原語のま
ま残っているが， 被伝達節の範囲が誤りであることは原文と照らし合わせなけ
れば判明しないため誤解を招く危険な翻訳である．
\begin{SENT}
\sentE The office said telephone confirmation of allotments 
must be received by 1500 hrs EST today and that secondary trading will 
begin at 0930 hrs EST tomorrow.   
\sentJ そのオフィスは言った。割当額の電話確認は、1500 hrs ESTによって今
日受け取られなければならず、そして、その第2の取引は、0930 hrs ESTから明
日始まるであろうと。
\sentNewE The office said that telephone confirmation of allotments must 
be received by 1500 hrs EST today and that secondary trading will begin 
at 0930 hrs EST tomorrow.
\sentNewJ そのオフィスは、割当額の電話確認が1500 hrs ESTによって今日受け
取られなければならないと言い、そして、その第2の取引は、0930 hrs ESTから
明日始まるであろう。
\label{SENT:B1_saythat}
\end{SENT}

評価値が「低下」となった残りの3文は，文(E\ref{SENT:B1_should})
のように，二つの節``should $\ldots$ this quarter''と
``this action $\ldots$ negotiations''の節境界を示すコンマが存在しないため
に，書き換え後の文(E\ref{SENT:B1_should}')において節境界の認識を誤ったも
のである．
文(E\ref{SENT:B1_should}')を翻訳した文(J\ref{SENT:B1_should}')では，
``If $\ldots$ urgency''が名詞節と解釈されているが，``if''で導かれる節が
名詞節ではなく副詞節であることは，文頭の``should''を``if''に置き換える規
則を文(E\ref{SENT:B1_should})に適用する段階で判明しているので，``if''の
語種(品詞)を副詞節接続詞と指定する前編集記号``ca\_''を付加する操作を書き
換え規則に追加し，文(E\ref{SENT:B1_should}'') のように書き換えることは可
能である．
この修正によって文(J\ref{SENT:B1_should}'') のような翻訳が得られる．
\begin{SENT3}
\sentE3 Should Citicorp actually place the Brazilian loans in a non-performing 
category at the end of this quarter this action would serve to alleviate 
the urgency associated with the debt negotiations, he argues. 
\sentJ3 ◇シティコープ‖ブラジルのローンを終りの契約不履行のカテゴリに実
際に置く‖の。今期にこの活動が負債交渉によって関連していた切迫を緩和する
のに役立つであろう、と彼は主張する。
\sentNewE3 If Citicorp actually place the Brazilian loans in a non-performing 
category at the end of this quarter this action would serve to alleviate 
the urgency associated with the debt negotiations, he argues.
\sentNewJ3 シティコープがブラジルのローンを切迫を緩和するためにこの活動が
役立つであろう今期の終りの契約不履行のカテゴリに実際に置くかどうかが負債
交渉と結合した、と彼は主張する。 
\sentYAE3 ca\_If Citicorp actually place the Brazilian loans in a non-performing 
category at the end of this quarter this action would serve to alleviate 
the urgency associated with the debt negotiations, he argues.
\sentYAJ3 シティコープがブラジルのローンを今期の終りの契約不履行のカテ
ゴリに実際に置くならば、この活動が負債交渉と結合していた切迫を緩和するの
に役立つであろう、と彼は主張する。
\label{SENT:B1_should}
\end{SENT3}

\subsection{翻訳速度評価実験}

\subsubsection{実験方法}

構文解析前に原文を書き換えれば，その分の処理の負担が増加する一方で，すべ
ての構文解析規則の適用が試みられる可能性が低くなり構文解析の負担が減少す
る．
このため，システム全体としては処理効率が向上すると予想される．
この点を確認するために，原文書き換え系を従来システムに組み込んだ場合と組
み込まない場合の翻訳速度を比較した．
翻訳時間の測定は次の四種類の評価文集について行なった．
\begin{CORPUS}
\corpus 品質評価実験に用いた6182文．
\label{CORPUS:all}
\corpus 評価文集\ref{CORPUS:all}\,のうち構文解析に失敗する1282文．
\label{CORPUS:fail}
\corpus 評価文集\ref{CORPUS:all}\,のうち書き換え規則が適用された330文．
\label{CORPUS:all-applied}
\corpus 評価文集\ref{CORPUS:fail}\,のうち書き換え規則が適用された217文．
\label{CORPUS:fail-applied}
\end{CORPUS}

\subsubsection{実験結果}

各評価文集について，
原文書き換え系を組み込まない場合の一文当り平均の翻訳時間と，
組み込んだ場合の一文当り平均の翻訳時間，
さらに，前者の翻訳速度を1としたときの後者の翻訳速度を
表\ref{tab:result_efficiency}\,に示す．
実験に用いた計算機のCPUは$\mbox{Pentium}^{\mbox{\tiny{(R)}}}$II 400MHz，メモリは128MB，
OSは$\mbox{Windows}^{\mbox{\tiny{(R)}}}$98である．
翻訳システムはC言語で記述されている．

評価文集\ref{CORPUS:all}\,を対象とした実験の結果，原文書き換えを行なった
場合の速度は行なわない場合の速度に対して1.12となっている．
評価文集\ref{CORPUS:all}\,において実際に書き換えられた文の数は入力文数の
5.3\%に過ぎないが，このことを考慮すると翻訳速度向上への原文書き換え
の貢献度は高いと考えられる．

評価文集\ref{CORPUS:all-applied}\,を対象とした実験の結果より，書き換える
べき文がすべて書き換えられた場合には翻訳速度は2.6倍程度にまで向上すると
いう一つの目安が得られた．
また，構文解析が失敗することがあらかじめ判明している文だけを対象とした場
合には，評価文集\ref{CORPUS:all}\,や\ref{CORPUS:all-applied}\,を対象とし
た場合よりも大きな効果が現れることが確認された．
\begin{table}[htbp]
\caption{翻訳速度の比較}
\label{tab:result_efficiency}
\begin{center}
\begin{tabular}{|c|c|c|c|}\hline
評価文集 & 原文書き換えなし(秒) & あり(秒) & 速度比 \\\hline\hline
\ref{CORPUS:all}          & 1.20 & 1.07 & 1.12 \\
\ref{CORPUS:fail}         & 2.63 & 2.01 & 1.31 \\
\ref{CORPUS:all-applied}  & 3.93 & 1.46 & 2.69 \\
\ref{CORPUS:fail-applied} & 5.27 & 1.51 & 3.49 \\\hline
\end{tabular}
\end{center}
\end{table}

原文書き換え系を組み込むことによってシステム全体の処理効率が向上したの
は，具体的には次の二つの理由による．
我々の構文解析系は二段階方式に基づいており，適格文用の構文解析規則を用い
て解析を行なう機構と，この機構による通常の解析が失敗した時点で起動され，
解析途中で生成された部分構造の中から発見的知識を用いて妥当なものを選び出
すための別の機構を備えている．
第一の理由は，システムにとっての不適格文が原文書き換え系によって適格文に
書き換えられると，第二の機構による処理を実行する必要がなくなるからである．
従って，構文解析前に原文書き換えを行なうことによる処理効率向上の効果は，
我々のシステムに限らず，制約緩和法や部分解析法のように二段階方式で構文解
析を行なっているシステムで一般に期待できる．

システムが想定していない言語現象を含む文の構文解析が失敗することは，第一
の機構に記述されている規則をすべて適用し終えないと判明しない．
これに対して，システムが想定している言語現象の文の解釈は，すべての規則を
適用しなくても生成できる．
速度向上のもう一つの理由は，
原文書き換えによって，第一の機構で適用される規則の数すなわち生成される
部分構造の数が減っていることである
\footnote{適用される規則の数が具体的にどの程度減ったかの検証は本稿の範囲
を越える．}．

今回実装した書き換え規則では実際には記述していないが，
\ref{sec:preedit:ruleformat:action}\,節で述べたように，
本稿の原文書き換え系では書き換え操作として前編集記号を付加する操作を記
述することができる．
前編集記号の付加によって解釈の曖昧性が減るため，この操作を記述することに
よって解析速度がさらに向上する．
例えば，文(E\ref{SENT:B1_should}')では``if''に名詞節接続詞か副詞節接続詞
かの曖昧性があるが，文(E\ref{SENT:B1_should}'')では副詞節接続詞に決定さ
れるため，文(E\ref{SENT:B1_should}')を文(E\ref{SENT:B1_should}'')に書き
換えれば，さらに翻訳時間が短縮される．

