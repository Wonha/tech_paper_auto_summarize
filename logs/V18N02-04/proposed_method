単語分割のための言語資源
\label{section:LRS}

この節では，まず，日本語を例に単語境界を明示しない言語の文を単語に分割する問題につい
て説明する．次に，入力文を自動的に単語列に分割する自動単語分割器を構築するために利用
可能な言語資源について述べる．


\subsection{単語分割問題}


日本語や中国語のように，単語境界を明示しない言語は多数ある．これらの言語における自然
言語処理の第一歩は，文に単語境界情報を付与することである．以下では，次の文を入力の例
として，単語分割問題を説明する．
\begin{description}
\item[入力：] 畜産物価格安定法を施行
\end{description}
単語分割問題は，入力の文字列の全ての隣接する2文字間に単語境界を置くか置かないかを決定
する2値分類問題である．注目している2文字が異なる単語に属する場合には空白を，同じ単語
に属する場合には何も置かないとすると，上記の例文を適切に単語に分割した結果は以下のよ
うになる．
\begin{description}
\item[出力：] 畜産 物 価格 安定 法 を 施行
\end{description}
このように，入力文字列を単語に分割することで，単語を単位とした自然言語処理技術を適用
することが可能となる．ただし，単語分割における誤りは，後続する自然言語処理の精度を低
下させる点に注意しなければならない．


\subsection{単語分割済みコーパス}
\label{section:WSC}

自動単語分割器に関する研究は多数あり，そのほとんどがデータに基づく方法を採用している
\cite{統計的言語モデルとN-best探索を用いた日本語形態素解析法,形態素クラスタリングによる形態素解析精度の向上,A.Stochastic.Finite-State.Word-Segmentation.Algorithm.for.Chinese,最大エントロピーモデルに基づく形態素解析.--未知語の問題の解決策--,Conditional.Random.Fields.を用いた日本語形態素解析}\footnote{単語分割と同時に品詞を
付与する形態素解析器は，品詞を無視することで自動単語分割器として用いることができるの
で，自動単語分割器の研究に含めている．}．これらの自動単語分割器は，単語分割基準に従っ
て人手で単語に分割されたコーパスからパラメータを推定する．したがって，学習コーパスに
おける誤りは自動分割の結果に波及し，後続する自然言語処理のアプリケーションの精度を損
なう．それゆえ，単語分割済みコーパスの質は，非常に重要である．高い分割精度を確保する
ためにも，後続する自然言語処理を適用する対象分野の単語分割済み文を自動単語分割システ
ムの学習コーパスとすることが望ましい．しかしながら，単語分割基準に従って正確に単語分
割されたコーパスを用意するコストは非常に高い．というのも，作業者は，対象分野の用語と
単語分割基準を熟知している必要があるからである．実際，コンピューター操作に熟練し単語
分割基準を熟知した作業者が，ある分野の5,000文を非常に高い精度で単語分割するのに2週間
（8時間$\times$10日）を要したという事実もある\footnote{これは著者の実際の経験に基づいて
いる．その際の作業においては，高機能のエディターを高度に利用し，必要に応じてプログラ
ムを記述・実行し，自動分割器を適宜再構築することで単語分割誤りを非常に効率良く修正し
た．}．したがって，低いコストで準備できる言語資源のみを用いて対象分野の文を高い精度で
分割する自動単語分割器の実現方法は非常に有用である．


\subsection{3種類の辞書}

\begin{figure}[t]
  \begin{center}
\includegraphics{18-2ia4f1.eps}
  \end{center}
  \caption{単語境界の3値表現}
  \label{figure:3-valued}
\vspace{-0.5\baselineskip}
\end{figure}

単語分割基準が所与とすれば，単語分割問題に用いることができる辞書は，3つに分類できる．
以下では，これら3種類の辞書について，\figref{figure:3-valued}に示した3値表現を用いて
詳述する．
    \begin{itemize}
\item \textbf{単語辞書：}この辞書は，単語分割基準に従う単語からなる．つま
  り，この辞書に含まれる文字列は，ある文脈で最左の文字の左と最右の文字の右に単語境界
  があり，さらにその内部には単語境界がない．例えば，3値表現された以下の文字列は単語で
  ある．
  \begin{quote}
    \verb*+|言-語|+
  \end{quote}

\item \textbf{単語列辞書：}この辞書は，単語の列からなる．つまり，この辞書
  に含まれる文字列は，ある文脈で最左の文字の左と最右の文字の右に単語境界があり，さら
  に，各文字列のすべての文字間に単語分割基準に従って単語境界情報が付与されている．例
  えば，3値表現された以下の文字列は単語列である．
  \begin{quote}
    \verb*+|計-算|言-語|学|+
  \end{quote}

\item \textbf{複合語辞書：}この辞書は，単語の連接である文字列からなる．つ
  まり，この辞書に含まれる文字列は，ある文脈でその左右両端に単語境界があるが，文字列
  内部の単語境界情報は不明である．例えば，3値表現された以下の文字列は複合語である．
  \begin{quote}
    \verb*+|計 算 言 語 学|+
  \end{quote}
    \end{itemize}

人が利用することを想定した商用・非商用の機械可読辞書は多数ある．実際，様々な対象分野
における専門用語や固有名詞を多数含む辞書がある
\cite{CD-科学技術45万語対訳辞典.英和／和英}．また，仮名漢字変換のための辞書が様々な分
野において公開されている\cite{無料ライフサイエンス辞書の活用と効能}．これらの辞書の見
出し語は，自動単語分割器が学習に用いるコーパスの単語分割基準とは無関係に選定されてお
り，多くの自動単語分割器において，これを精度向上に直接利用することはできない．

単語分割基準に照らすと，人が利用することを想定した辞書の見出し語の多くは，
\pagebreak
上記の分類
では複合語である．左右両端は単語境界であることがかなりの確度で期待できるが，文字列の
内部の単語境界情報がない．複合語は，人的コストをかけて単語列に変換することができる．
この際に必要な作業は，左右の両端が単語境界であることのチェックと，文字列内のすべての
文字境界に単語境界情報を付与することである．このコストは，対象分野の単語分割済みコー
パスの作成に要するコストに比べて非常に少ない．以上の議論から，複合語や単語列を参照す
ることで精度が向上する自動単語分割器を構築することは実用的意義が非常に大きい．


単語分割法
\label{section:AWS}

本節では，前節の3種類の辞書を学習データとする日本語単語分割法について述べる．提案手法
は，3種類の辞書と単語分割済みコーパス（部分的にアノテーションされていれば良い）を学習デー
タとする．


\subsection{最大エントロピーモデルによる点予測単語分割}
\label{subsection:ME}

日本語の単語分割の問題は，入力文の各文字間に単語境界が発生するか否かを予測する問題と
みなせる\cite{文字クラスモデルによる日本語単語分割,日本語単語分割を題材としたサポートベクタマシンの能動学習の実験的研究,教師なし隠れマルコフモデルを利用した最大エントロピータグ付けモデル,Training.Conditional.Random.Fields.Using.Incomplete.Annotations}．つまり，文
$\Bdma{x} = \Conc{x}{m}$に対して，文字$x_{i}$と$x_{i+1}$の間が単語境界であるか否かを
表すタグ$t_{i}$を付与する問題とみなせる．

付与するタグは，単語境界であることを表すタグ{\bf E} （``\verb*+|+''に相当）と，非単語境
界であることを表すタグ{\bf N} （``\verb*+-+''に相当）の2つのタグからなる．各文字間のタ
グを単語境界が明示されたコーパスから学習された最大エントロピーモデル(ME model; maximum entropy model)により推定する\footnote{文献
\cite{日本語単語分割の分野適応のための部分的アノテーションを用いた条件付き確率場の学習}
のようにCRF (conditional random fields)により推定することもできるが，計算コストと記憶
領域が大きくなる．これらの差は，スパースな部分的アノテーションコーパスからの学習にお
いて顕著となる．つまり，CRFのように系列としてモデル化する方法では，アノテーションのな
い部分も考慮する必要があるのに対して，点推定の最大エントロピーモデルでは，アノテーショ
ンのある部分のみを考慮すればよい．このような考察から，本論文では計算コストの少ない最
大エントロピーモデルを用いる．}．その結果，より高い確率を与えられたタグをその文字間
のタグとし，単語境界を決定する．すなわち，以下の式が示すように，最大エントロピーモデ
ルにより，単語境界と推定される確率が非単語境界と推定される確率より高い文字間を単語境
界とする．
\begin{displaymath}
  P_{ME}({\bf E}|i,\Bdma{x}) > P_{ME}({\bf N}|i,\Bdma{x})
\end{displaymath}
これにより，入力文を単語に分割することができる．

最大エントロピーモデルによる単語分割法では，単語境界情報が付与された $\Bdma{x} =
\Conc{x}{m}$の各文字間を，タグ$t_{i}$と素性の組み合わせ$S$とみなして，学習と確率推定を行
う．
\begin{displaymath}
  S = \{(t_{i},\,f_{i,1}(\Bdma{x}),\,f_{i,2}(\Bdma{x}),\,\cdots)
  \;|\;1 \leq \forall i \leq m-1\},
\end{displaymath}
素性$f_{i,j}(\Bdma{x})$の詳細は次項で述べる．


\subsection{参照する素性}


文字$x_{i}$と$x_{i+1}$の間に注目する際の最大エントロピーモデルの素性としては，文字列
$x_{i-1}^{i+2}$に含まれるの部分文字列である文字$n$-gramおよび字種$n$-gram ($n = 1,\,
2,\,3$)をすべて用いる\footnote{字種は，漢字，ひらがな，カタカナ，アルファベット，数
  字，記号の6つとした．}．ただし，以下の点を考慮している．
\begin{itemize}

\item 素性として利用する$n$-gramは，先頭文字の字種がその前の文字の字種と同じか否か，
  および，末尾文字の字種がその次の文字の字種と同じか否かの情報を付加して参照する
  \footnote{パラメータ数の急激な増加を抑えつつ素性の情報量を増加させることを意図して
  いる．これにより，参照範囲を前後1文字拡張して$x_{i-2}^{i+3}$の範囲の$n$-gram ($n =
  3,\,4,\,5$)が参照されることになる．}．

\item 素性には注目する文字間の位置情報を付加する．

\end{itemize}


\subsection{辞書の利用}

さらに，前述した3種類の辞書を参照し，以下の素性を用いることを提案する．
\begin{itemize}

\item 文字列$x_{i-1}^{i+2}$に含まれる文字$n$-gram ($n = 1,\,2,\,3$)が，単語辞書中の単
  語と一致する文字列であるか否かを表す9素性（9つの位置の文字$n$-gramについて判定）

\item 注目する文字境界（$x_{i}x_{i+1}$の間）の辞書中の位置を表す以下の4素性
  \begin{itemize}
  \item 単語の開始位置の``\verb*+|+''に該当するか否かを表す素性（単語，単語列，複合語
    のいずれかが$x_{i+1}x_{i+2}\cdots$に前方一致するか否か）
  \item 単語の終了位置の``\verb*+|+''に該当するか否かを表す素性（単語，単語列，複合語
    のいずれかが$\cdots x_{i-1}x_{i}$に後方一致するか否か）
  \item 単語列の単語境界の``\verb*+|+''に該当するか否かを表す素性（$\cdots x_{i}
    x_{i+1} \cdots$の位置にいずれかの単語列が出現し，かつ$x_{i}$と$x_{i+1}$の間が
    単語列中の``\verb*+|+''に該当するか否か）
  \item 単語や単語列の``\verb*+-+''に該当するか否かを表す素性（$\cdots x_{i}x_{i+1}
    \cdots$ の位置にいずれかの単語か単語列が出現し，かつ$x_{i}$と$x_{i+1}$の間が
    ``\verb*+-+''に該当するか否か）
  \end{itemize}
\end{itemize}


