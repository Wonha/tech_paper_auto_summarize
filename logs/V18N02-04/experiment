評価
\label{section:評価}
提案手法の評価のために，様々な自動単語分割器を構築し，テストコーパスに対する分割精度
を測定した．この節では，その結果を提示し提案手法の評価を行う．


\subsection{実験条件}

\begin{table}[t]
  \caption{単語分割済みコーパス}
  \label{table:corpus}
\input{04table01.txt}
\end{table}

\begin{table}[t]
  \caption{辞書}
  \label{table:dictionary}
\input{04table02.txt}
\end{table}

まず，対象分野のテストコーパスを日本経済新聞\cite{日経全文記事データベース[4紙版]}の
記事とした．
\pagebreak
学習コーパスは一般分野の単語分割済みコーパスである．評価のために，学習コ
ーパスと同じ分野のテストコーパスも用いた（\tabref{table:corpus}参照）．一般分野コーパス
は，現代日本語書き言葉均衡コーパス
\cite{Balanced.Corpus.of.Contemporary.Written.Japanese}（13,181文）と，日常会話のための
辞書の例文\cite{会話作文英語表現辞典}（14,754文）である．すべての文は，人手により適切に
単語に分割されている．実験では，9-foldの交差検定を行った．つまり，テストコーパスを9つ
の部分に分割し，8つの部分を複合語や単語列の選定に用い，残りの1つを自動分割のテストと
して用いることを，9通りに渡って行った．実験に際して，\secref{section:LRS}で述べた3 種
類の辞書を用意した．1つ目は単語辞書(UniDic-1.3.9)で，語彙サイズが非常に大きいことに加
えて，その見出し語が学習コーパスと同じ単語分割基準に従っていることが注意深くチェック
されている\cite{コーパス日本語学のための言語資源：形態素解析用電子化辞書の開発とその
応用}．2つ目は複合語辞書で，その見出し語は機械可読の商用辞書\cite{CD-科学技術45万語対
訳辞典.英和／和英}から得た．その多くは，専門用語と固有名詞である．実験では，テストと
して用いられる1つの部分コーパス以外の8つの部分コーパスに文字列として出現する複合語を
用いた．これらの複合語は，両端は単語分割基準と一致していることが期待されるが，その保
証はない．3つ目は単語列辞書である．単語列辞書は，複合語辞書の見出し語を単語分割基準に
従って人手により分割することで得られる．単語列は，結果的に1単語である場合もある．実験
では，8つの部分コーパスに文字列として出現する単語列を用いた．複合語の左右どちらかの端
が単語分割基準と一致していない場合は単語列辞書から除外した．したがって，単語列の数は
複合語の数よりも少なくなっている．

\tabref{table:dictionary}にこれらの辞書の諸元を示す．この表から複合語と単語列の平均文
字数はそれぞれ3.04文字と3.12文字であることが分かる．これらは，学習コーパスの単語長
（1.40文字）や新聞コーパスの平均単語長（1.50文字）より長い．単語列は平均1.61単語からなる．
自動単語分割器のパラメータは，学習コーパスとこれらの辞書を同時に参照し推定される．



\subsection{評価基準}

自動単語分割の評価に用いた基準は，適合率，再現率，境界推定精度及び文正解率である．こ
れらの計算方法を以下のような例を用いて説明する．ここで，自動単語分割の結果をAWS，正解
の単語列をCORとしている．
\begin{description}
\item[　AWS:] \underline{畜産} 物価 格安 定法 \underline{を} \underline{施行}
\item[　COR:] \underline{畜産} 物 価格 安定 法 \underline{を} \underline{施行}
\end{description}
境界推定精度は，単語境界情報が正しく推定された文字間の割合である．上記の例では，文字
数は11あるので，単語境界の推定対象となる文字間の数は10である．この内，単語境界情報が
正しく推定された文字間は5であるので境界推定精度は5/10となる．文正解率は，すべての文字
間において単語境界情報が正しく推定された文の割合である．適合率と再現率は，以下のよう
に計算される．まず，正解の単語列に含まれる単語数を$N_{COR}$，自動単語分割の結果に含ま
れる単語数を$N_{AWS}$とし，さらに正解の単語列と自動単語分割の結果の最長部分一致単語列
に含まれる単語数を$N_{LCS}$とする．この定義の下，適合率は$N_{LCS}/N_{AWS}$で与えられ，
再現率は$N_{LCS}/N_{COR}$で与えられる．上述の例では，最長部分一致単語列は下線を引いた
単語列であり，その単語数から$N_{LCS} = 3$である．正解の単語列の単語数から$N_{COR}=7$
であり，自動単語分割の結果の単語数から$N_{AWS}=6$である．したがって，再現率は$N_{LCS}
/N_{COR} = 3/7$であり，適合率は$N_{LCS}/N_{AWS} = 3/6$である．



\subsection{評価}

参照する辞書による単語分割精度の差を調べるために，辞書を参照せずコーパスのみから学習
する自動単語分割器\AWS{B}（ベースライン）を構築し，さらに以下の4つの自動単語分割器を構
築した．

\begin{tabular}{rl}
  \AWS{W1:} & コーパスに加えて単語辞書\AWS{w1}を参照 \\
  \AWS{W2:} & コーパスに加えて単語辞書\AWS{w2}を参照 \\
  \AWS{S:}  & コーパスに加えて単語列辞書\AWS{s}を参照 \\
  \AWS{C:}  & コーパスに加えて複合語辞書\AWS{c}を参照
\end{tabular} \\
これらの自動単語分割器による一般分野における分割精度を\tabref{table:result1}に，対象
分野における分割精度を\tabref{table:result2}に示す．

\begin{table}[tb]
  \caption{一般分野における自動単語分割の精度}
  \label{table:result1}
\input{04table03.txt}
\end{table}

\begin{table}[tb]
  \caption{適用分野における自動単語分割の精度}
  \label{table:result2}
\input{04table04.txt}
\end{table}

\tabref{table:result1}から，ベースラインである自動単語分割器\AWS{B}の一般分野における
分割精度は十分高いが，\tabref{table:result2}から，対象分野においては分割精度が著しく
低下することがわかる．自動単語分割器\AWS{C}の結果から，複合語辞書を用いることで対象分
野における分割精度が向上することが分かる．複合語辞書としては，多くの分野において利用
可能な人のための辞書を直接用いることができるので，付加的な人的コストを必要としない．
このことから，複合語辞書を参照することで自動単語分割器の精度向上が実現できることは非
常に有用であるといえる．

自動単語分割器\AWS{C}の分割精度は，両分野において，コーパスと同じ基準で単語に分割され
た単語辞書\AWS{w1}を参照する自動単語分割器\AWS{W1}の分割精度より低い．これは，単語辞
書\AWS{w1}の見出し語の数が，約14.5万語と非常に大きいことと，本実験での適応対象である
新聞記事が，単語辞書の想定分野となっていることによる．このように，大きな単語辞書を，
様々な分野に対して準備することは現実的ではないであろう．実際，単語辞書に含まれる単語
の合計の文字数は430,797文字（\tabref{table:dictionary}参照）と非常に大きく，これは，対
象分野の約9,879文（\tabref{table:corpus}参照）に相当する．第\subref{section:WSC}で述べた
ように，非常に熟練した作業者の単語分割速度が1日500文程度であるから，この量のコーパス
を作成するには，対象分野の表現と単語分割基準を熟知した作業者が約20日間作業にあたる必
要があると考えられる．

単語列辞書\AWS{s}と同じ単語数の単語辞書\AWS{w2}を用いる自動単語分割器\AWS{W2}の分割精
度を自動単語分割器\AWS{C}と比べると，\AWS{C}の精度は\AWS{W2}よりも高い．複合語辞書は，
処理すべき適用分野のテキストと共に提供されることが多い．これらのことから，ある分野に
自動単語分割器を適用する場合，一般的な分野の辞書を整備するのではなく，その分野の複合
語辞書を利用するのがよい戦略であるといえる．

単語列辞書を参照する自動単語分割器\AWS{S}の対象分野における単語分割精度は，複合語辞書
を参照する自動単語分割器\AWS{C}よりも高い．これは，単語列辞書が複合語辞書に単語境界情
報を付与した結果であることを考えると当然である．このことから，対象分野のテキストに出
現する複合語に単語境界情報を付与することで，さらなる精度向上を実現できることが分かる．

文字列「共同宣言」を複合語としてまたは単語列として辞書に追加することにより分割精度が
向上した例を次に示す．
\begin{description}
\item[　\AWS{B}:] …\verb*+|日-米|安-保|共|同|宣-言-取|り|ま-と-め|+…
\item[　\AWS{C}:] …\verb*+|日-米|安-保|共|同|宣-言|取|り|ま-と-め|+…
\item[　\AWS{S}:] …\verb*+|日-米|安-保|共-同|宣-言|取|り|ま-と-め|+…
\end{description}
自動単語分割器\AWS{B}では「宣言取」を単語であると出力しているが，\AWS{C}では，複合語
「\verb*+|共 同 宣 言|+」を参照することで文字列「共同宣言」の後に単語境界があることが
分かり，正しく「宣言」と「取」に分割されている．さらに\AWS{S}では，単語列
「\verb*+|共-同|宣-言|+」を参照することですべての箇所で正しく単語に分割されている．な
お，分野特有であると思われる表現でも，実験に利用した商用辞書に含まれていない単語列に
関しては，辞書の追加による精度向上はみられなかった．

自動単語分割器\AWS{S}による対象分野の分割精度は，大規模な単語辞書を参照する自動単語分
割器\AWS{W1}による分割精度よりも高い．複合語辞書に含まれる合計の文字数は，59,868文字
（\tabref{table:dictionary}参照）で，これは，対象分野の1,373文に相当する．アノテーショ
ンに必要な人的コストは，単語辞書の構築に必要な人的コストと比べて非常に少ない．さらに，
複合語の多くが専門用語と固有名詞であるので，作業者に要求される技能は，分野知識と名詞
に関する単語分割基準の熟知である．したがって，作業者の確保はコーパスの準備に比べては
るかに容易である．

以上のような考察から，現実的な状況において，既存の辞書のカバー率が高くないある対象分
野の自動単語分割器を構築する最良の戦略は，
\begin{enumerate}
\item 対象分野のテキストに出現する複合語辞書の見出し語を収集し，提案する自動単語分割
  器を用いる
\item 作業者が確保できる場合には，さらにこれらの複合語に単語境界情報を付与し，提案す
  る自動単語分割器を用いる
\end{enumerate}
であると結論できる．


