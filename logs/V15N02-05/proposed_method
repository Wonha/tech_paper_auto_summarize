興味について\label{sec_興味}
\subsection{大衆の興味}

興味は
ある対象に対して面白いと感じる又は魅かれている
状態を示すものであり，個人によって興味を持つ対象は様々である．
我々は個人の興味の集合を大衆の興味とした．
大衆の興味を引きやすいということは
より多くの人に興味を持たれるものであり，
このようなものを大衆の興味を得られやすい情報として扱っている．
前述のように各個人の興味は多種多様であり，1つの尺度では表せないものである．
しかし不特定多数の人がいる中で
興味を持つ人がどの程度いるかという
大衆の興味として扱うことで興味の傾向などが得られると考えている．


\subsection{対象とする興味}

我々が定義した大衆の興味には次に示す2種類の興味が含まれていると考える．
\begin{itemize}
\item 時間変動を含んでいる興味

      時間変動を含んでいる興味はトレンドや流行と呼ばれ，
      今現在や過去のある時点で興味を集めているもの
\item 対象自体が持っている興味

      対象（語句）自体が普遍的に持つ「興味を発生させる強さ」を指し，
      時間で変動せずに対象自体が持っている普遍的な興味の度合い
\end{itemize}
我々は
語句自体が持つ時間変動を持たない後者の興味の強さに注目し
本論文の対象とした．
例えばトレンド分析の結果「収賄の疑いで逮捕」が抽出された場合，
これは現在注目を集めている特定の話題として抽出されたものである．
本論文ではこのような時間で変動するトレンドではなく，
「逮捕」という語句そのものが普遍的に持つ興味があると考え，
その強さを明らかにするためにその語句に対して
興味の強さを値として与えた．


順位情報付き文書\label{sec_rank}


人の興味の情報が得られるものとして
Web掲示板，Blog，Webページのアクセスランキング，アンケート
などが存在する．
我々は大衆の興味を含んでいる情報源として順位情報に注目し，
Webで公開されているニュースランキングを選択した．
ランキングは不特定多数の利用者の興味が反映されており，
大衆の興味を含むデータとして有効である．



\subsection{順位情報と興味}\label{sec_RANK-INT}
本論文で扱う順位情報について述べる．本論文における順位情報とは，ある対象
を一定の基準で並び替えを行い，昇順または降順に付与した順番の事である．
順位を付与する際に用いられる基準には様々な種類
が存在する．以下に順位情報と順位を決定した基準についていくつか示す．

\underline{順位情報と順位の決定基準}

\begin{itemize}
\item アクセス数ランキング：アクセス数
\item 選択式のアンケート：投票数
\item ダウンロードランキング：ダウンロード数
\item 検索キーワードランキング：クエリの使用回数
\end{itemize}

例として示した順位情報は人に選択されるほど上位の順位が付与される．
そのため，順位情報は多数の人の興味が集合した結果であり，大衆の興味を強く
反映していると考える．

順位を決定する基準であるアクセス数や投票数は人々に選択された数がそのまま反映され直接的に
人の興味に関係する．
順位情報自体はこの基準の上下関係である．
この意味で順位情報は大衆の興味と間接的に関係している情報と考えられる．
そこで，本論文では大衆の興味という情報をスコアの形で推定するために，
順位情報をアクセス数やダウンロード数に変換することを考えた．



\subsection{順位情報の扱い}

\ref{sec_RANK-INT}節で述べたように順位情報は興味に対して間接的な関係を示
している値である．本論文で集めた順位情報はアクセス数によって順位が決定さ
れている．そこでまず順位情報をアクセス数の値に変換することを考える．
これは順位からアクセス数を推定することで行い，
順位情報の示す上下関係から順位付けの決定基準に変換することに相当する．
この変換によって
順位が持っている興味に対する間接的な関係を
アクセス数のように興味に対して直接関係する値に変換することが可能になる．


アクセス数と順位の間にある関係は経験則でべき乗の法則に従うこ
とが知られている\cite{lada2002}．本論文ではこの経験則を利用して順位を興
味に直接関係する値として変換する．
順位の変数$r$とアクセス数の変数$h$の関
係をべき乗の法則に従うとし，両対数上で直線となる特性から式(\ref{eq_ZIP})が
仮定できる．式(\ref{eq_ZIP})に順位とアクセス数の関係式を示す．
\begin{equation} \label{eq_ZIP}
 \mathit{log}(h) = C_{1} - C_{2} \cdot log(r)
\end{equation}


式(\ref{eq_ZIP})において$C_{1}$及び$C_{2}$は
任意の定数を示している．
本研究では式を簡単にするため$C_{1}=C_{2}=1$として扱う．この結果順位$r$
からアクセス数$h$を推定する変換式$Hit(r)$を式(\ref{eq_rank2hit})に示す．
\begin{equation} \label{eq_rank2hit}
 \mathit{Hit}(r) = h = 10^{-log(r)} = \frac{1}{r} 
\end{equation}

式(\ref{eq_rank2hit})によって文書に付与されている順位$r$はアクセス数に変
換される．
式(\ref{eq_rank2hit})で表される推定アクセス数は0から1までの値をとり，
最大のアクセス数が1となるように正規化されている．



提案手法\label{sec_method}
本節では文書に興味の強弱を値として付与する方法について提案する．
提案手法の概略を図\ref{flow}に示す．

\begin{figure}[b]
\begin{center}
\includegraphics{15-2ia5f1.eps}
\end{center}
\caption{提案手法の大まかな流れ}
\label{flow}
\end{figure}


文書に含まれる語句の興味の強弱を推定するために，
まず文書に含まれる形態素から内容語を興味判別の素性として抽出した．
なぜなら
文書が興味を持たれるかは
その文書の内容に依存しており，
人が文書の興味を判断する際に文法的機能を示す機能語では
直接的に興味を引く対象にはならないと考えたためである．


次に，今注目している
素性が興味を引くかどうかを興味の強弱の値で表すことによって推定する．
興味を値で推定する方法として学習データを利用した2つの尺度を用いた．
1つ目の尺度として学習データにおいて
順位付き文書に出現する回数と順位無し文書に出現する回数の割合を使用し
た．これは，
興味を持たれやすい文書はランキングに出現しやすく，それ
に伴って文書に含まれる内容語が
ランキングの中で出現する回数が多くなると考えるためである．
2つ目の尺度は出現順位である．
興味が持たれやすいならば高
い順位に出現することが多くアクセス数も高い値を持つと考える．ここでは順位か
ら推定したアクセス数の平均を利用した．
以上2つの尺度を本論文では興味を推
定するために用いる．

最後に文書自体に興味の強弱を値で付与する．
文書の興味の強弱は文書に含まれる素性に付与された興味の強弱の値によって決定する．
以上の3つのステップで本システムは興味の強弱に関する値を文書に付与する．
\begin{enumerate}
 \item 興味を推定するための素性の抽出\\
	入力された文書を形態素解析し内容語を抽出する．
 \item 素性の興味強度の推定\\
       順位付き文書を利用して素性に興味の強弱を値で付与する．
 \item 文書の興味強度の推定\\
       文書に対して興味の強弱を値で付与する．
\end{enumerate}

次節より各ステップの詳細について説明する．


\subsection{興味を推定するための素性の抽出}\label{nai}

入力されたそれぞれの文書から興味の判別を行う際に重要であると
考えられる素性を抽出する．形態素解析器に茶筌\footnote{
形態素解析器 ChaSen, Ver.~2.3.3, 奈良先端科学技術大学院大学　松本研究室，http://chasen.naist.jp/hiki/ChaSen/.
}を用いた．
人が文書に対して興味があるかどうか判断する場合，助詞，助動詞，接続詞などの機能語
に注目することは考えにくく，文書の内容が表れている内容語が重要である
と考える．
また出現した単語の順序よりも，どのような単語が出現しているかが
重要であると考える．
そこで，文書を内容語の集合(bag-of-words)で表現することにした．
本論文で抽出する内容語の品詞を茶筌(IPADIC)
の品詞体系に従って次に示す．



\underline{使用する品詞}
\begin{enumerate}
 \item 名詞（一般，固有名詞，サ変接続，形容動詞語幹）
 \item 動詞（自立）
 \item 形容詞（自立）
\end{enumerate}

ただし，以下に示す8形態素は
出現頻度が非常に多く，また他の語句の補助的な機能を持つ語句であることから
興味の強弱の判断材料として不向きであるため，ストップワード
とする．

\underline{ストップワード}
\vspace{0.5\baselineskip}
\begin{center}
 \fbox{する，ある，よる，いる，なる，いう，みる，できる}
\end{center}
\vspace{0.5\baselineskip}

抽出処理の例を\exref{chasenex}に示す．


\begin{itembox}{\ex{}\label{chasenex}内容語の抽出処理}
入力：共産社民両党に国会を混乱させたことをわびた．\\
抽出単語：共産，社民，党，国会，混乱，わびる
\end{itembox}

本節で述べた品詞，条件を持つ内容語について次節以降の処理を行う．



\subsection{素性の興味強度の推定}\label{calc_int}


対象となる素性に
学習データを利用して興味の強弱を値として与える方法について述べる．
学習データはあらかじめ用意しておいた順位情報が付与されている文書，
及び順位情報が付与されなかった文書の集合である．
文書自体の興味の強弱が内容語に左右されるとしたときに，
内容語自身が持つ興味への影響の強弱は，
注目している内容語が学習データの順位付き文書において出現する回数
及びその順位に関係していると考えられる．

\underline{興味に関係する要素}
\begin{itemize}
 \item 順位情報付き文書に出現した文書数
 \item 順位情報無し文書に出現した文書数
 \item 順位別出現文書数
\end{itemize}

入力文書から抽出した素性には，興味の強弱に基づいた値として
興味スコアを付与する．興味スコアを付与するために以下の処理を行う．

\begin{enumerate}
 \item 学習データにおける対象素性の各出現回数を数える．出現回数は
       順位情報付き文書に出現した文書数，順位情報無し文書に出現した文書
       数，各順位における出現文書数の3種類である．       
 \item 対象が学習データ内で一度も出現していない場合，
       興味スコアの付与は困難である
       ため興味スコアの付与は行わずに素性の集合から取り除く．
 \item 各種出現回数から興味スコアを付与する．
\end{enumerate}

本論文では興味を2つの尺度で評価する．
まず平均アクセス数の形で興味を評価する方法について述べる．

入力文書$D$に含まれる
素性を$w$として$w$が順位$r$に出現した文書数$Rank\_DF_{r}(w)$，
素性$w$が順位情報付き文書に出現した文書数を$Ranked\_DF(w)$，
素性$w$が
順位情報無し文書に出現した文書数を$UnRanked\_DF(w)$と表す．
このとき素性$w$について平均アクセス数$Average\_Hit(w)$を式
(\ref{all_hit})によって求める．
順位$r$をアクセス数に変換する関数$Hit(r)$は式
(\ref{eq_rank2hit})を用いる．
式(\ref{all_hit})における$M$は順位付き文書に付与される順位で最も低い順位を示す．
\begin{equation} \label{all_hit}
 Average\_Hit(w) = \frac {\sum_{r=1}^{M}(Hit(r) \cdot Rank\_DF_{r}(w))} {Ranked\_DF(w)}
\end{equation}

次に，興味を持たれる要素ならば順位付き文書に出現する回数が多いという観
点から素性$w$が全文書に対して順位付き文書に出現する
割合を$Ranked\_Ratio(w)$で示し
式(\ref{prob})を用いる．
\begin{equation} \label{prob}
 Ranked\_Ratio(w) 
	= \frac{Ranked\_DF(w)}{Ranked\_DF(w)+UnRanked\_DF(w)}
\end{equation}

以上2つの尺度から
素性$w$の
興味スコア$Interest(w)$を式(\ref{bow})によって算出する．
\begin{equation} \label{bow}
 Interest(w) 
	=  Average\_Hit(w) \cdot Ranked\_Ratio(w)
\end{equation}

それぞれの素性について式(\ref{bow})を使って興味スコアを決定する．
この時，興味スコアが算出できなかった素性は除外する．
こうして入力文書$D$に対して値が決定できた興味ス
コア列を$F$で示し文書の興味推定に使用する．
興味スコアの作成例を\exref{chasenex2}に示す．

\vspace{0.5\baselineskip}
\begin{itembox}{\ex{}\label{chasenex2}興味スコア列の作成\\}
入力$D_0$：南極観測隊の越冬交代式が1日，昭和基地で開かれた．\\
抽出単語：｛南極，観測，越冬，交代，昭和，基地，開く｝\\[-0.5zw]
{\small
\begin{center}
\begin{tabular}{c||c|c|c|c|c|c}\hline
&&& \multicolumn{3}{c|}{$Rank\_DF_{r}$}\\ \cline{4-6}
\raisebox{0.5\normalbaselineskip}[0pt][0pt]{素性}& \raisebox{0.5\normalbaselineskip}[0pt][0pt]{$Ranked\_DF$}&\raisebox{0.5\normalbaselineskip}[0pt][0pt]{$UnRanked\_DF$}&$r=1$&${r=2}$&${r=3}$&\raisebox{0.5\normalbaselineskip}[0pt][0pt]{$Interest$}\\
\hline
南極&2&3&1&0&1&0.266\\
観測&1&3&0&1&0&0.125\\
越冬&0&3&0&0&0&0\\
交代&0&0&0&0&0&--- \\
昭和&2&2&0&2&0&0.25\\
基地&0&0&0&0&0&--- \\
開く&1&9&0&0&1&0.033\\
\hline
\end{tabular}
\end{center}}\par\vspace{0.5zw}
興味スコアの計算例(南極)：
\begin{align*}
\mathit{Interest}(南極) & = Average\_Hit(南極) \cdot Ranked\_Ratio(南極) \\
 & = \frac {\frac{1}{1}+\frac{1}{3}}{2} \cdot \left(\frac{2}{2+3}\right) = 0.266
\end{align*}

興味スコア列：$ F_0=\{0.266,0.125,0,0.25,0.033\}$
\end{itembox}



\subsection{文書の興味強度の推定}

入力文書$D$から作成した興味スコア列$F$を利用して
興味の強弱を値とした文書興味スコアを文書に付与する方法について述べる．
入力文書に含まれる素性それぞれが，順位に対して影響を与えるとしたとき，
興味スコアの高い素性は順位を上げる要素であり，
興味スコアの低い素性は順位を下げる要素である．
そこで，入力文書$D$に含まれる素性から
作成した興味スコア列$F$を使用して文書興味スコアを式(\ref{txt_bow})によっ
て算出する．
\begin{equation} \label{txt_bow}
 Interest\_Doc(D) =  \frac{1}{N}{\sum_{val \in F} val }
\end{equation}

式(\ref{txt_bow})において，
$F$は入力文書$D$から作成した興味スコア列を示し，$N$は$F$の興味スコア列の
要素数を示している．
\exref{chasenex2}に示した入力文書$D_0$の興味スコアは\exref{text}に示すように計算される．

\begin{itembox}{\ex{}\label{text}文書興味スコアの算出}
\vspace{-1\baselineskip}
\begin{align*}
 Interest\_Doc(D_0) & =({0.266+0.125+0+0.25+0.033}) \div {5}  \\
   & =0.132
\end{align*}
\vspace{-1.5\baselineskip}
\end{itembox}

本研究では入力文書に文書興味スコアを計算し順位を付与するシステムを構築し
た．入力文書の順位付けは各入力文書について式(\ref{txt_bow})を使用して文書
興味スコアを付与し，スコアの高い順に順位を与える．
システムは順位の高い順に出力を行う．



処理単位の拡張\label{sec_method2}

前節で述べた内容語を素性とした興味判別は記事の内容を特定する
情報が少なく，判別する要素として十分ではないことが問題として分かった．
この問題に対応するため，処理の単位の拡張を行った．
提案する処理単位を以下に示す．
\begin{itemize}
\item[1] 複合名詞を素性として抽出
\item[2] 内容語及び複合名詞の組み合わせを素性として抽出
\end{itemize}
以降では，内容語及び複合名詞の組み合わせを「複合素性」と呼び，興味の推定に使用する．
次節より，複合名詞を素性として抽出する方法，複合素性を抽出する方法，
拡張した素性を使って文書に興味のスコアを付与する方法について順に述べる．


\subsection{複合名詞の抽出}\label{fukugou}

入力されたそれぞれの文書から興味の判別を行う際に
重要であると思われる素性を複合名詞として抽出する．
複合名詞の研究は盛んに行われており，
本論文では専門用語の抽出\cite{Nakagawa2003}を参考に複合名詞を作成した．
複合名詞の作成対象となるのは名詞，接尾辞，接頭詞の連続部分である．


複合名詞作成にあたって以下に示す出現回数をコーパスよりカウントする．
\begin{itemize}
\item 2単語の文中における共起回数をコーパスよりカウントする
\item 2単語の連接回数をコーパスよりカウントする
\item 2単語それぞれに連接する名詞の種類数をコーパスよりカウントする
\end{itemize}


本研究では複合名詞作成のコーパスとして日本経済新聞
1990年から
2004年までの14年分を使用した．
 連接した2つの形態素を「$i j$」とした場合，
$i$と$j$が文中において
共起する回数を$Count_{co}(i,j)$， 
$i$の後に$j$が連接する回数を$Count_{bigram}(i,j)$，
前方の語$i$の後に連接する名詞の種類数を$Count_{var}(i)$，
後方の語$j$の前に連接する名詞の種類数を$Count_{var}(j)$としたとき
以下の条件のいずれかに一致するものを複合名詞とした．

\underline{名詞の結合条件}
\begin{itemize}
\item 条件1:
      \begin{equation}
       Count_{bigram}(i,j) \div {Count_{co}(i,j)} > 0.01
      \end{equation}
\item 条件2:
      \begin{equation}
       \sqrt{(Count_{var}(i)+1)^2+(Count_{var}(j)+1)^2} > 100
      \end{equation}
\end{itemize}

3語以上の複合名詞は
それぞれの形態素間について同様の方法を用いて判定を行う．複合名詞の作成例を
\exref{fukuex}に示す．

\begin{itembox}{\ex{}\label{fukuex}複合名詞の判定\\}
入力を「競売入札価格の決定」としたとき名詞が連続している部分は
｛競売，入札｝と｛入札，価格｝の部分である．この2つについて複合名詞の
判定について行う．
\vspace{0.5zw}
\begin{center}
\begin{tabular}{c|c|c|c}\hline
対象&条件1&条件2&判定\\ \hline
競売，入札&0.913&368.5&結合\\ \hline
入札，価格 &0.195&1191.8&結合\\ \hline
\end{tabular}
\end{center}
\vspace{0.5zw}
｛競売，入札｝と｛入札，価格｝の両方が複合名詞として扱う条件を満たしているため
「競売入札価格」を複合名詞として扱う．
\end{itembox}
以上の手順で複合名詞を作成し，興味の判別素性として用いる．また複合名詞に
ならないものは興味判別の素性として扱わない．

\subsection{複合素性の抽出}\label{taple}

入力されたそれぞれの文書から興味の判別を行う際に
重要であると思われる素性を
内容語及び複合名詞を組み合わせた複合素性として抽出する．

そのため\ref{fukugou}節で述べた複合名詞の処理も行う．
複合名詞とならなかったものは内容語として扱う．
文書の形態素解析を茶筌で行い，文書が内容語のみによって構成されて
いるとし，まずは連接している名詞に対して複合名詞処理を行い，
複合名詞と内容語の集合を作成する．
入力文書と複合名詞処理後の結果の例を\exref{ex複合}
に示す．内容語を抽出する条件は\ref{nai}節と同様である．

\begin{itembox}{
\ex{}\label{ex複合}複合名詞と内容語の抽出
}
入力：インド北部で厳しい冷え込みが続いている．\\
抽出単語：インド北部，厳しい，冷え込み，続く
\end{itembox}

\exref{ex複合}に示した内容語と複合名詞の集合から次に示す条件で組み合わ
せを作成する．

\underline{組み合わせの作成条件}
\begin{itemize}
\item 内容語及び複合名詞の出現順は考えない．
\item 組み合わせの作成は1つの文中から探す．
\item 2要素からなる組み合わせで行う．
\item 組み合わせを出現文書数でカウントする．
\item 学習データ内で出現文書数5以下1,000以上の組み合わせは扱わない．
\end{itemize}

出現文書数の閾値は\ref{th}節の内容語を素性とした評価で最も良好な結果を得られ
た下限閾値5及び上限閾値1,000をそのまま適用した．
\exref{ex複合}の内容語及び複合名詞から複合素性を作成した例を
\exref{extaple}に示す．

\begin{itembox}{
\ex{}\label{extaple}複合素性の作成
}
\begin{center}
｛インド北部，厳しい｝，｛インド北部，冷え込み｝,...,｛冷え込み，続く｝
\end{center}
\end{itembox}

複合素性は，2要素からなる素性集合の全部分集合である．
本節で説明した複合素性を1つの素性として扱い
，\ref{calc_int}節で述べた
方法で興味スコアを付与し，これを利用して文書興味
スコアの付与を行う．

\subsection{拡張した素性を使った文書興味スコアの計算方法}

入力文書$D_i$に対して内容語，複合名詞，複合素性の3種類の素性
集合が抽出できる．
それぞれに対して式(\ref{all_hit})及び式(\ref{bow})を使って興味
スコア列を作成する．値が付与できなかった素性はこの時点で除去され
る．作成した興味スコア列をそれぞれ，内容語を$F_i$，複合名詞を$C_i$，
複合素性を$T_i$として，
全ての素性を利用するときの文書興味スコアを式(\ref{txt_EX})に示す．
\begin{align} \label{txt_F}
 F_i & =\{Val_{1},Val_{2},...,Val_{N_F}\} \\
 C_i & =\{Val_{C1},Val_{C2},...,Val_{N_C}\} \\
 T_i & =\{Val_{T1},Val_{T2},...,Val_{N_T}\} 
\end{align}
\begin{equation}
 Interest\_Doc'(D_i) =  \frac{
	\sum_{Val \in F_i,C_i,T_i} Val}{ N_F + N_C + N_T}   
\label{txt_EX}
\end{equation}

式(\ref{txt_EX})において$N_F$，$N_C$，$N_T$は
それぞれの興味スコア列の要素数を示している．
この評価式を使って文書興味スコアを文書に与え，
スコアが高い順に文書に順位を付ける．



