
原言語単語列[MATH]と目的言語単語列[MATH]の対応関係の強さを示す尺度として，対応度[MATH]を定義する．
対応度は，原言語の単語列の出現回数，目的言語の単語列の出現回数，両者が同時に対訳文に同時に出現する回数で求められ，いくつかの計算方法が提案されている[CITE]．
従来手法では重み付きDice係数が用いられている．
Dice係数はXとYの事象において，Xが発生する回数とYが発生する回数の和に対してXとYの事象が同時に出現する回数の割合で表す．
さらに，同時出現回数の重みを与えたものを重み付きDice係数と呼び，これはXとYの相関関係だけでなく，出現回数も考慮に入れることができる．
日本語単語列を[MATH]，英語単語列を[MATH]，[MATH]の日本語文書中の出現回数を[MATH]，[MATH]の英語文書中の出現回数を[MATH]とし，[MATH]と[MATH]が対訳文に同時に出現する回数を[MATH]とすると，重み付きDice係数を用いた対応度は，以下の式で定義される[CITE]．
従来手法の基本的な考え方は，原言語文書と目的言語文書から抽出される連続単語列集合の全ての組合せに対して，[REF_連続単語列間の対応度計算方法]節に述べた対応度を計算し，対応度の高い連続単語列ペアから順に対訳表現として抽出するという手法である．
図[REF_基本アルゴリズム]の流れ図に従って，各処理を説明する．
対訳文書[MATH]を構成する日本語文書及び英語文書中の各対訳文を形態素解析する．
形態素解析された対訳文書[MATH]中の各対訳文を[MATH]とする．
各対訳文[MATH]に対して英語連続単語列集合[MATH]と日本語連続単語列集合[MATH]を抽出し，[MATH]を連続単語列データベースに登録する．
ここでの連続単語列とは，連続単語列の構成単語数の最大値を[MATH]とした場合の[MATH]の条件を満たす単語n-gramである．
[REF_実験]節の実験では[MATH]を用いた．
(4)から(6)の処理で抽出対象とする連続単語列の出現回数の最低値を閾値[MATH]とし，その初期値である[MATH]を代入する．
4節の実験では，[MATH]は，抽出された英語及び日本語連続単語列の出現回数の最高値の1/2の値に設定した．
なお，(4)から(6)の処理は，対訳表現が抽出されなくなるまで閾値[MATH]を変えずに繰り返される．
対訳表現が抽出されなくなれば(7)で[MATH]を下げ，再び(4)から(6)が繰り返される．
上記(2)の全ての[MATH]に対して，閾値[MATH]回以上出現する英語連続単語列([MATH]とする)と日本語連続単語列([MATH]とする)を抽出する．
(4)で抽出された全ての[MATH]，[MATH]に対して，[REF_連続単語列間の対応度計算方法]節の評価式にしたがって対応度を計算し，以下のa),b)の処理を行う．
[MATH]において最大の対応度をもつ[MATH]を探す．
[MATH]において最大の対応度をもつ[MATH]を探す．
[MATH]と[MATH]及び[MATH]と[MATH]が同じで，かつ，[MATH]と[MATH]の対応度が
[MATH]の条件を満たすならば，連続単語列ペア[MATH]を対訳表現とみなして，対訳表現データベースに登録する．
b)の条件の右辺は評価式(ここでは[MATH])に[MATH]を代入することにより求められる．
出現回数が閾値[MATH]の場合，対応度が最高となるのは[MATH]の時である．
したがって，出現回数が閾値[MATH]より小さい場合，[MATH]の時の対応度の最高値を超えることはない．
この条件を課すことで，閾値[MATH]を下げた次の段階で得られる対応度の最高値は，前段階で抽出される対訳表現の対応度の値を越えないことが保証される．
以降の処理で新たな対訳表現を抽出候補としたいため，既に抽出した対訳表現，つまり，(5)で「対訳表現データベース」に登録された対訳表現[MATH]に関連する連続単語列を連続単語列データベースから削除する．
削除の方法は，連続単語列データベース内の[MATH]に同時に出現する[MATH]と同一の部分をもつ英語連続単語列[MATH]-[MATH] ([MATH]と[MATH]-[MATH]が同一である場合も含む)と，[MATH]と同一の部分をもつ日本語連続単語列[MATH]-[MATH] ( [MATH]と[MATH]-[MATH]が同一である場合も含む)を[MATH]から削除する．
[MATH]でなく[MATH]と同一の部分をもつ英語連続単語列[MATH]-[MATH]を削除する理由は，[MATH]-[MATH]は[MATH]を元にして抽出された連続単語列であるためである．
[MATH]-[MATH]を削除する理由も同様である．
(5)において対訳表現が抽出されたならば(4)の処理に戻る．
抽出されなければ(7)に進む．
[MATH]であれば閾値[MATH]の値を1つ減らして(4)から(7)の処理を繰り返す．
[MATH]であれば処理を終了する．
[MATH]は抽出対象とする連続単語列の最低出現回数であり，4節の実験では[MATH]又は[MATH]に設定した．
この手法の特徴は，連続単語列ペアの出現回数に対する閾値を設け，その閾値を満足する連続単語列ペアを対象にして対訳表現を抽出し，閾値を満足する連続単語列ペアがなくなれば，その閾値を徐々に下げていくという点にある．
対応度と連続単語列ペアの出現回数は相関関係をもつように設定されているので，出現回数に対する閾値を設けて，その値を徐々に小さくしていくことで，対応度の高い連続単語列ペア，つまり確からしい連続単語列ペアから順に対訳表現を抽出することができる．
また，閾値を下げていき，精度が保証されなくなる段階で，処理を終了することもできる．
我々は[REF_従来]節の従来手法に対して，(A)文節区切り情報や品詞情報の利用，(B)対訳辞書の利用，(C)複数候補の対訳表現が得られた場合の人手による選択，(D)多対多の対応数を考慮に入れた対応度評価式，(E)対訳文書の分割による漸進的な抽出，の5つの改良を行った．
これらを改良した提案手法の処理の流れ図を図[REF_提案アルゴリズム]に示す．
ステップの番号のカッコ内の数字は，[REF_抽出アルゴリズム]の抽出アルゴリズムの各ステップの番号に対応している．
図[REF_提案アルゴリズム]の四角の枠で囲まれたステップは，本提案で改良されたステップである．
ステップ(1)-2では，形態素解析と同時に文節区切り処理を行い，ステップ(2)-1では，その結果を用いて文節を超えないように連続単語列を抽出する．
ステップ(5)-1の対応度の計算では，改良された対応度の評価式を用いる．
ステップ(1)-1，(5)-2，(5)-3-aは，辞書を参照する場合に適用されるステップである．
辞書参照だけでなく，人手による確認も行う場合はステップ(5)-3-aではなく，ステップ(5)-3-bを用いる．
対訳文書の分割による漸進的な抽出は，ステップ(1)-3で対象となる対訳文書をあらかじめ決められた単位に分割し，ステップ(7)-2で1単位ずつ追加することによって対象とする文書範囲を拡大していくという手法をとる．
以下に，提案アルゴリズムの各処理を説明する．
既存の対訳辞書を「対訳辞書データベース」に登録する．
対訳文書[MATH]を構成する日本語文書及び英語文書の各対訳文において形態素解析及び文節区切り解析を行う．
形態素解析及び文節区切り解析された各対訳文を[MATH]とする．
対訳文書[MATH]を[MATH]個に分割し，
[MATH]とする．
現時点での分割文書番号[MATH]に[MATH]をセットする．
対訳文書[MATH]中の各対訳文[MATH]に対して，(1)-2の文節区切り解析結果を利用して，文節の境界を超えない範囲で英語単語列の集合[MATH]と日本語単語列の集合[MATH]を抽出する．
各対訳文[MATH]における[MATH]を連続単語列データベースに追加する．
[MATH]であれば，(3)の処理に進む．
[MATH]であれば，現時点で「対訳表現データベース」に登録されている対訳表現[MATH]に関連する連続単語列を連続単語列データベースから削除する．
削除の方法は，連続単語列データベース内の[MATH]に同時に出現する[MATH]と同一の部分をもつ英語連続単語列[MATH]-[MATH]([MATH]と[MATH]-[MATH]が同一である場合も含む)と，[MATH]と同一の部分をもつ日本語連続単語列[MATH]-[MATH]([MATH]と[MATH]-[MATH]が同一である場合も含む)を[MATH]から削除する．
(これは，ステップ(6)と同じ処理である．
)
(4)から(6)の処理で抽出対象となる連続単語列の出現回数の最低値を閾値[MATH]とし，その初期値[MATH]を代入する．
[REF_実験]節の実験での[MATH]の値は[REF_抽出アルゴリズム]節の抽出アルゴリズムに準ずる．
上記(2)-2の全ての[MATH]に対して，[MATH]回以上出現する英語連続単語列([MATH]とする)と日本語連続単語列([MATH]とする)を抽出する．
抽出された全ての[MATH]，[MATH]に対して，[REF_多対多評価式]節の計算方法にしたがって対応度を計算し，以下のa),b)の処理を行う．
[MATH]において最大の対応度をもつ[MATH]を探す．
[MATH]において最大の対応度をもつ[MATH]を探す．
[MATH]と[MATH]及び[MATH]と[MATH]が同じであり，以下の条件を満たしており，かつ，連続単語列ペア[MATH]が「対訳表現除外データベース」に登録されていないならば，連続単語列ペア[MATH]を対訳表現候補とする．
対応度にDice係数を用いる場合: [MATH]対応度にLog-Likelihoodを用いる場合:
上記の条件を課す理由は，[REF_従来]節の従来手法の抽出アルゴリズムの(5)と同じである．
本処理は閾値[MATH]において複数回繰り返されるが，閾値において1回目の処理であれば，(5)-2に進む．
2回目以降の処理であれば，(5)-3-aまたは(5)-3-bに進む．
(5)-1で候補とされた連続単語列ペア[MATH]において，[MATH]を構成する英語自立語単語の集合と，[MATH]を構成する日本語自立語単語の集合を取り出し，両集合間での組合せにおいて，少なくとも1つの組合せが「対訳辞書データベース」に登録されているならば，連続単語列ペア[MATH]を対訳表現と認定し「対訳表現データベース」に登録する．
(5)-1で候補とされた対訳表現候補[MATH]を全て対訳表現と認定し「対訳表現データベース」に登録する．
(5)-1で候補とされた対訳表現候補を対訳表現候補[MATH]を対応度の高いものから順に並べ替える．
それをファイルに格納し，そのファイルを作業者に提示する．
作業者は各対訳表現候補を確認し，間違った対訳表現候補をファイルから削除する．
全ての確認を終了し，ファイルが保存されると，ファイルに残された候補は「対訳表現データベース」に登録され，ファイルから削除された候補は「対訳表現除外データベース」に登録される．
(5)-2,(5)-3-a,(5)-3-bで「対訳表現データベース」に登録された全ての対訳表現[MATH]に関連する連続単語列を連続単語列データベースから削除する．
削除の方法は，連続単語列データベース内の[MATH]に同時に出現する[MATH]と同一の部分をもつ英語連続単語列[MATH]-[MATH]([MATH]と[MATH]-[MATH]が同一である場合も含む)と，[MATH]と同一の部分をもつ日本語連続単語列[MATH]-[MATH]([MATH]と[MATH]-[MATH]が同一である場合も含む)を[MATH]から削除する．
(5)において対訳表現が抽出されたならば(4)の処理に戻る．
抽出されなければ，ステップ(7)-1に進む．
[MATH]であれば，閾値[MATH]の値を1つ下げ，(4)から(7)の処理を繰り返す．
[MATH]でなければ，ステップ(7)-2に進む．
[MATH]は100%の精度が得られる出現回数の最低値であり，[REF_実験]節の実験では予備実験の結果から[MATH]に設定した．
[MATH]，つまり，抽出対象が全対訳文書でないならば，[MATH]に[MATH]を加え，(2)から(7)の処理を繰り返す．
一方，[MATH]かつ[MATH]であれば，閾値の値を下げて(4)から(7)の処理を繰り返す．
[MATH]かつ[MATH]であれば，全処理を終了する．
[MATH]は抽出対象とする連続単語列の最低出現回数であり，[REF_実験]節の実験では，従来手法と同様，[MATH]又は[MATH]を用いた．
[REF_連続単語列間の対応度計算方法]節の従来手法による抽出結果を分析すると「中心に多くの:will become the target」「その保有する膨大な:vast inventory」のように，構成する一部の単語の対応は正しいが，全体では間違っているという対訳表現が数多くみられた．
このような例の多くは，英語や日本語の表現として意味をなさない不適切な単位であることが多かった．
この課題を解決するため，不適切な対訳表現候補を生成しない工夫を施す．
具体的には，以下の処理を行う．
候補となる連続単語列を抽出する時(ステップ(2)-1)，文節区切り情報を用いて，文節境界の範囲を超える連続単語列候補を生成しない．
なお，英語には，文節という単位がないため，動詞句，名詞句，前置詞句，副詞句の4つの文の構成成分を文節とする．
あらかじめ設定された連続単語列内の位置及び品詞の条件をもつ連続単語列は生成しない．
これは，その条件を規則として表現し，その規則に適合する連続単語列は生成しないことで実現している．
現時点での品詞レベルの規則数は英語25規則，日本語45規則，単語(見出し)レベルの規則数は，英語201規則，日本語309規則である．
以下に具体例を示す．
図[REF_文節区切り利用連続単語列抽出]は日本語文における文節区切り結果とそれに基づく連続単語列抽出の例である．
形態素解析ツールによって区切られた形態素の区切りを``/''，係り受け解析ツールによって区切られた文節の区切りを``//''で表す．
文節区切り情報を利用しない場合「する安全」「決議の諸」などの対訳表現として不適切な日本語表現が候補となるが，提案手法では文節境界の範囲を超える連続単語列を生成しないため，これらの表現は候補とならない．
また，(b)の条件を課することによって，文節内の不適切な表現も生成されない．
例えば「の」や「れる」のような一単語のみからなる助詞や助動詞は生成されないが「決議_の」や「満たす_れる」のように，助詞が名詞の後ろに位置する場合や，助動詞が動詞の後ろに位置する連続単語列は生成される．
上記の処理をすることにより，提案手法では意味的にまとまりをなしていない文字列を除外することができる．
対訳辞書は，抽出精度向上のための有効な知識である．
しかし，対訳辞書を手がかりとして抽出すると，対訳辞書に登録されていない専門用語などの表現が抽出されなくなる可能性がある．
そこで，我々は，従来手法のアルゴリズムで抽出された対訳表現に対して，対訳辞書を参照することによって適切な対訳表現を選り出し，それらを優先的に抽出するという改良を行った．
閾値[MATH]において対訳表現が抽出される限り，ステップ(4)から(6)の処理が繰り返されるが，何回目の処理かによって処理内容を変える．
閾値[MATH]での処理が1回目の場合，対訳辞書を参照し，その候補が対訳関係にあると認められれば抽出する．
対訳関係か否かの判断は，連続単語列を構成する英語と日本語の自立語単語の組合せにおいて1つでも対訳辞書登録語があれば，対訳関係にあると認定する．
この理由は，対訳辞書登録語との完全一致する連続単語列ペアのみを対訳関係にあると認定すると，対訳関係にある連続単語列ペアはわずかとなり，辞書参照の効果が得られないためである．
ステップ(6)では，抽出された対訳表現に関する連続単語列候補は削除される．
閾値での処理が2回目以降では，この削除された状態で，対訳辞書を参照せずに対訳表現を抽出する．
このように，対訳辞書の利用は適切な対訳表現を選り出す働きだけでなく，不適切な連続単語列候補を除外する役割も果たすことができる．
次に人手による確認・選択を考える．
人手による確認・選択は，作業効率に見合った効果が得られるかどうかが重要である．
その作業が時間や手間がかかるものであれば，最終結果を人手で取捨選択する作業と変わらない．
我々は，ここでも従来手法の抽出アルゴリズムの性質を利用して，繰り返し処理の途中に人手による確認・選択作業を施す．
具体的には，出現回数の閾値での1回目の処理では，辞書参照による対訳表現抽出を行い，2回目以降の処理において，ステップ(5)-1で候補とされた対訳表現候補全てに対して，人間が正しいかどうかを確認する．
正しいと判断された候補は「対訳表現データベース」に登録され，一方，残りの対訳表現は「対訳表現除外データベース」に登録される．
「対訳表現データベース」に登録された連続単語列ペアは，ステップ(6)の連続単語列候補の削減に利用される．
一方「対訳表現除外データベース」に登録された連続単語列ペアは，ステップ(5)-2で対訳表現を抽出する時に参照され，対訳表現候補から必ず除外される．
従来手法では対応度を評価する式として重み付きDice係数が用いられたが，提案手法では，重み付きDice係数と同様に，原言語と目的言語の単語列の同時出現回数と相関があるLog-Likelihoodを用いる．
さらに，重み付きDice係数やLog-likelihoodに対して，多対多の対応数を考慮した改良を行う．
Log-Likelihood[CITE]は，ある表現Xの出現が別の表現Yの出現にどの程度強く依存するかを調べるための確率論に基づいた尺度である．
実際の出現事例においてXの出現がYに依存しないという仮説とYの出現/非出現に依存するという仮説の尤度比で表す．
[REF_連続単語列間の対応度計算方法]節の[MATH],[MATH],[MATH],[MATH].
[MATH]の前提に加えて，対訳文書が有する文数を[MATH]とすると，以下の式で定義される．
次に，多対多の対応数を考慮した対応度評価式について説明する．
[REF_従来]節の従来手法を用いて抽出した対訳表現を分析した結果，図[REF_抽出結果の例](a)のように，日本語連続単語列と英語連続単語列が，対応度が同じで，かつ，多対多の関係で対応付けられている場合に誤りが多かった．
一方，(b)の例のように，同じ対応度では1対1の対応関係しか持たない場合，その大半は正しかった．
図[REF_抽出結果の例](a)の現象は，一部の単語が異なり，残りの単語は全て共通である対訳文が複数存在した場合に起こる．
その共通部分において組み合わされる日本語・英語連続単語列ペアは対応度が等しくなり，多対多の対応関係を有する対訳表現となる．
上記に述べた多対多の関係を有する対訳表現の抽出を避けるために，Dice係数及びLog-likelihoodの対応度[MATH]に対して，原言語と目的言語の連続単語列が多対多の関係で対応付けられる場合にはその対応度の値が小さくなるような重み付けを与える．
以降，この対応度を[MATH]と表記し，多対多の対応数を考慮した対応度と呼ぶ．
[MATH]を以下のように定義する．
[MATH]は従来のDice係数やLog-likelihoodによる対応度の値である．
[MATH]は現段階のステップ(4)で生成された全ての連続単語列において，日本語単語列[MATH]を有する連続単語列ペアの数であり，[MATH]は，英語単語列[MATH]を有する連続単語列ペアの数である．
上記の式は，日本語単語列[MATH]と英語単語列[MATH]からなる連続単語列ペアにおいて，[MATH]が対応する英語単語列の数と，[MATH]が対応する日本語単語列の数の和が大きいほどその値が小さくなるように設定されている．
また，[MATH]と[MATH]が1対1で対応する場合の値はDice係数やLog-likelihoodから計算される[MATH]の値と等しくなるように設定されている．
ステップ(5)の処理における英語と日本語の連続単語列の組み合わせ数は，対訳文書の文数が多くなるにしたがい増大する．
この連続単語列候補の生成を抑えるために，文書分割による漸進的な抽出手法を提案する．
まず，ステップ(1)-3で対象となる対訳文書をあらかじめ定められた文数の単位で分割し，まず1単位で，100%の精度が保証される出現回数まで抽出を繰り返す(ステップ(7)-1)．
その単位での処理が終了すれば，さらに1単位を追加して抽出を繰り返す(ステップ(7)-2)．
追加しながら処理を繰り返し行い，抽出対象が対訳文書全体に及べば処理を終了する．
対象とする文を徐々に拡大することで，対象とする文数が少ない初期の段階で抽出された対訳表現に関する英語・日本語連続単語列を候補から除外することができる．
これにより，抽出対象が拡大された時の連続単語列候補の生成を削減することができる．
