我々の従来システムにとっての不適格現象には様々なものがあるがそれらをすべて一度に扱うことは容易ではない．
このため本研究では，出現頻度が高い現象や翻訳品質の改善度が大きい現象を含む文を書き換え対象として優先的に選ぶことにする．
書き換え対象を選定するために，英文法書の例文や新聞記事[CITE]を我々のシステムで処理し，構文解析に失敗した文のうち558文についてその原因を分析した．
構文解析に失敗する現象は595箇所で見られた．
このうち238箇所は，綴り誤りなどの絶対的不適格現象や，辞書や形態素解析系の不備によるものであった．
残り357箇所のうち108箇所が省略現象によるもの，61箇所が倒置によるもの，41箇所が挿入語句によるものであった．
また，特殊構文を含まないが文が長いために構文解析に失敗する文が26文存在した．
この分析結果に基づいて，表[REF_tab:illformedness]に示すパターンへ対処することを目的とした．
表[REF_tab:illformedness]のパターンで，構文解析に失敗した558文に現れたすべての倒置，省略，挿入を網羅しているわけではない．
パターン7ないし10は，複雑で長い部分を動詞の後方に置くための前置詞句の前置であるが，ここでは倒置とみなす．
表[REF_tab:illformedness]において，上付き記号?は任意項を，{ }は選択項をそれぞれ表し，斜字体の語句は省略されている語句を意味する．
表[REF_tab:illformedness]のパターンは我々の従来システムにとっての不適格現象であり，他のシステムの中には適切に処理できるものも存在すると考えられる．
しかし，例えば日本電子工業振興協会の自然言語処理技術委員会で編集された翻訳品質評価用テストセット[CITE]で取り扱いが重要な特殊構文として取り上げられているように，これらを適切に処理することは一般の機械翻訳システムにとっても重要な課題である．
また，これらの現象のうち，倒置，省略，挿入は，英日機械翻訳システムの一般利用者が日々接することが多いテキストの一つである英字新聞記事に比較的頻繁に現れる表現である[CITE]ため，これらを適切に処理する必要性は高い．
本節では，これらの現象[CITE]を含む文をどのように書き換えれば翻訳品質が改善されるかを検討する．
以降，従来システムとは我々の従来システムを指す．
倒置のうち分詞を中心とする叙述部の倒置や否定表現が冒頭に置かれた文における倒置などを扱う．
例えば文(E[REF_SENT:inversion_whatis])は過去分詞が文頭に現れているために，構文解析に失敗し(J[REF_SENT:inversion_whatis])のような出力しか得られない．
しかし，文(E[REF_SENT:inversion_whatis])の先頭に``what is''という語句を追加して文(E[REF_SENT:inversion_whatis]')のように書き換えると，従来システムにとって適格文となり文(J[REF_SENT:inversion_whatis]')のような翻訳が得られる．
\sentE Affiliated is the parent company of Globe Newspaper Co. \sentJ◇加入した‖Globe Newspaper Coの親会社である。
\sentNewE What is affiliated is the parent company of Globe Newspaper Co. \sentNewJ合併されるものは、Globe Newspaper Coの親会社である。
文(E[REF_SENT:inversion_neither])に見られるように，否定の副詞``neither''が冒頭に置かれた節では主語と助動詞の倒置が生じる．
このような節に対しては，``neither''を``and also''に書き換えて，助動詞``have''を否定形にし主語の後方に移動する．
このような処理の実現には，助動詞の移動先を決定しなければならないため，主語になる名詞句この場合`` the government regulators''を認識する必要がある．
このため，書き換え規則の適用条件部には簡単な構文構造を認識するための手続きも記述する．
この手続きに関しては[REF_sec:preedit:ruleformat:condition]節で述べる．
\sentE Neither have the government regulators indicated that there will be a problem. \sentJ◇どちらも、政府取締官を示された状態にしない‖そこのそれは、問題であろう\sentNewE And also the government regulators have not indicated that there will be a problem. \sentNewJそしてまた、政府取締官は、問題があるであろうことを示さなかった。
接続詞の省略など構文的知識に依存する省略のいくつかを扱う．
文(E[REF_SENT:ellipsis_saythat])は，二つの被伝達節が``and''で連結されているが，一つ目の被伝達節を導く``that''が明示されていない．
これが原因で構文解析に失敗するが，``said''の直後に``that''を補えば構文解析の失敗は避けられるようになる．
\sentE Sprinkel said the fall of the dollar had substantially restored U.S. cost competitiveness and that the deterioration of the U.S. trade balance appeared to have abated. \sentJ◇Sprinkelによれば、ドルの低下は、米国のコスト競争、及び、それを大幅に回復した‖米国の貿易収支の悪化は、減少したために、現れた。
\sentNewE Sprinkel said that the fall of the dollar had substantially restored U.S. cost competitiveness and that the deterioration of the U.S. trade balance appeared to have abated. \sentNewJ Sprinkelは、ドルの低下が米国のコスト競争を大幅に回復したということ、そして、米国の貿易収支の悪化が減少したように思われるということを言った。
また，文(E[REF_SENT:ellipsis_sothat])で``so''と相関関係にある``that''が省略されていることは，``so''の直後の形容詞に代名詞が後続していることを手がかりにすれば検出できる．
\sentE The 2.5 pct discount rate is so low it is politically impossible to cut it further. \sentJ 2.5パーセント割引率は、そのようにそれが政治上まで不可能である安値が更にそれを切ったことである。
\sentNewE The 2.5 pct discount rate is so low that it is politically impossible to cut it further. \sentNewJ 2.5パーセント割引率は、更にそれを切ることが政治上不可能であるほど低い。
挿入句は文中の他の語句と特に構文的な関係を持つことなく現れ，コンマやダッシュや括弧などで区切られる．
括弧で囲まれた挿入句を発見することは比較的容易であるが，コンマで囲まれている場合にはコンマの他の用法との区別を行なう必要があり，挿入句の正確な認識は容易ではない[CITE]．
しかし，コンマだけでなくその前後の語句も手がかりとし，表[REF_tab:illformedness]のようなパターンとして捉えれば，挿入句の発見はより正確に行なえる．
例えば文(E[REF_SENT:parenthesis_someofthem])において，一つ目のコンマの直後に存在する``some of them''のような特徴的な語句や二つ目のコンマの直後に存在する(助)動詞に着目すればよい．
このような手がかりに基づいて認識した挿入句を括弧で囲めば，既存の構文解析系による処理が成功するようになる．
ただし，文(E[REF_SENT:parenthesis_someofthem])は挿入だけでなくbe動詞の省略も含んでいるため，``them''の直後に``are''を補う必要がある．
\sentE Their separate proposals, some of them conflicting, will be woven by House Democratic leaders into a final trade bill for a vote by the full House in late April. \sentJ◇それらの個別の提案、‖いくらかの‖それら‖対立する、‖下院の民主党のリーダーによって4月下旬の下院本会議による投票のための最終の貿易手形に織られるであろう。
\sentNewE Their separate proposals ( some of them are conflicting ) will be woven by House Democratic leaders into a final trade bill for a vote by the full House in late April. \sentNewJそれらの個別の提案(それらのうちのいくらかが対立している)は、下院の民主党のリーダーによって4月下旬の下院本会議による投票のための最終の貿易手形に組み立てられるであろう。
強調のための言語的手段には，[REF_sec:object:inversion]節で述べた倒置文の他に感嘆文や修辞疑問文や分裂文などがある．
このうち従来システムでは文(E[REF_SENT:emphasis])のような分裂文を適切に処理することができないが，これを文(E[REF_SENT:emphasis]')のように書き換えれば翻訳が改善される．
文(E[REF_SENT:emphasis]')は，文(E[REF_SENT:emphasis])に対して，``it''を削除し，``which''を``what''に置換し，焦点の名詞句とその直前のbe動詞を``which''節の後方へ移動するという三操作を行なうことによって得られる．
\sentE However, he added that in the end, it was market forces which prevailed. \sentJしかしながら、彼は、結局それが普及していた市場諸力であるとつけ加えた。
\sentNewE However, he added that in the end, what prevailed was market forces. \sentNewJしかしながら、彼は、結局普及していたものが市場諸力であるとつけ加えた。

本節で述べる原文書き換え系を組み込んだ機械翻訳システムにおける解析の流れを図[REF_fig:flow]に示す．
このシステムでは，形態素解析終了後に書き換えを実行した後，書き換えた部分の形態素解析を行ない，入力文全体の形態素解析結果を構文解析系に送る．
一度目の書き換え結果に対して全体を覆う構文構造が生成できず構文解析に失敗した場合，処理の制御は原文書き換え系に戻る．
再度書き換えを行なう場合には，各書き換え規則に記述されている規則の信頼度(後述)に従って，一度目の書き換えでは用いなかった規則を新たに適用したり，逆に一度目の処理で行なった書き換えを取り消したりする．
原文書き換え系での処理は，形態素解析結果に対して先頭から順に書き換え規則の適用条件との照合を行なっていき，適用条件が満たされる部分を順次書き換えていく．
書き換え規則には，次に示すように，適用条件と書き換え操作の他，制御情報として適用抑制規則集合と信頼度を記述することができる．
適用条件は，ある指定された属性を持つ語句がある位置あるいは区間に存在するかどうかを調べる手続きの論理積，論理和の形で表現される．
入力文中での書き換え対象候補の出現位置は次のように表す．
まず着目語の出現位置を変数[MATH]で表し，[MATH]で着目語の[MATH]語後方(文末側)の語を，[MATH]で着目語の[MATH]語前方(文頭側)の語を指す．
コンマや終止符なども語とみなす．
特別な記号として文末の語を指すドル記号$を用いる．
この他，コンマが書き換え対象を発見するための重要な手がかりとなることが多い[CITE]ため，[MATH]で着目語の後方に存在する[MATH]番目のコンマを指し，[MATH]で前方の[MATH]番目のコンマを指すことにする．
例えばword_class(com_fwd_[MATH], noun)という手続きは，着目語に最も近い後方のコンマの二語後方に，語種(品詞)候補として名詞を持つ語が存在するとき真を返し，存在しないとき偽を返す．
適用条件部に記述する手続きは主に語の形態素語彙属性を調べるものであるが，特別な手続きとして，入力文のある部分を節や名詞句と解釈できるかという構文的な属性を調べる手続きを記述する．
ただし，簡単な構文解析しか行なわない方針であることから，節の認識は次のような手順で行なう．
処理対象の先頭から順に述語になり得る定形動詞を探していく．
もし見つかれば，その述語候補と人称・数が一致する名詞を主辞とする名詞句がその前方に存在するかどうかを調べる．
もしそのような名詞句が存在すれば，それを主語とみなし，節が存在するものとする．
ここで，名詞句を認識する手続きは次のような簡単な構造を検出するものである．
上付き記号?と+はそれぞれ一回以下，一回以上の出現を意味する．
書き換え操作には，語句の追加・削除・置換・移動，文の分割，前編集記号の付加がある．
前編集記号の付加は，語の形態素語彙属性を指定したり，節や句の範囲や従属先を指定したりするためのものである．
語句の語彙属性や従属先の指定によって解釈の曖昧性が減るため，解析の品質と速度の向上が期待できる．
ある規則[MATH]に与えられている適用抑制規則集合は[MATH]の適用を抑える他の規則に関するメタ条件を表し，規則[MATH]はその適用抑制規則集合に記述されている識別番号の規則が既に適用されている場合には適用されない．
規則[MATH]の適用抑制規則集合には，[MATH]の書き換え対象と重複する部分を書き換えようとする規則だけでなく，書き換え対象が[MATH]のものと重複しない規則を含めてもよい．
規則には，その信頼性が高く規則の適用によって翻訳品質が向上することがほぼ確実な規則もあれば，信頼性があまり高くない規則もある．
信頼度は，このようなことを考慮して，信頼性があまり高くない規則による悪影響を抑えるために設定したものである．
各規則には，その信頼性に応じてA，B，Cのいずれかの信頼度を与える．
信頼度Aの規則は最初の構文解析の前に適用し，構文解析に失敗してもこの規則による書き換えは取り消さない．
規則に信頼度Aを与えるのは，この規則を適用しないと構文解析に失敗することがほぼ確実であり，たとえこの規則によって書き換えた表現の構文解析に失敗して断片的な構文構造しか得られなかったとしても，この規則を適用しない場合の(断片的な)構文構造から生成される翻訳よりも高い品質の翻訳が生成されると期待される場合である．
信頼度Bの規則は最初の構文解析の前に適用するが，最初の構文解析に失敗した場合，この規則による書き換えは取り消す．
信頼度Cの規則は最初の構文解析の前には適用せず，最初の構文解析に失敗した場合に初めて適用する．
各規則にどの信頼度を与えるかは実験を繰り返して経験的に決定する．
書き換え規則の例として，挿入と省略を含む文(E[REF_SENT:parenthesis_someofthem])に対処するための規則と分裂文(E[REF_SENT:emphasis])に対処するための規則を図[REF_fig:rule_ex]に示す．
図[REF_fig:rule_ex]の最初の規則が挿入と省略のための規則であり，二つ目が分裂文のための規則である．
ただし，これらは，理解を容易にするため実際の規則を簡単化したものである．
最初の規則の適用条件が満たされるのは，現在着目している位置に``some of them''が存在し，着目語の直前がコンマであり，着目語に最も近い後方のコンマの直後に動詞が存在し，二つのコンマに挟まれた区間に``some of them''を主語とする述語が存在しないときである．
このとき，コンマを括弧に書き換え，``some of them''の直後にbe動詞``are''を挿入する．
二つ目の規則は，現在着目している位置に代名詞``it''が存在し，着目語の直後がbe動詞の肯定形あるいは否定形であり，その直後に名詞句が存在し，その名詞句の直後に``which''が存在するときに適用する．
