\section{評価実験および考察}
\label{実験および考察}

学習者の作文から誤用共起表現を収集し，これに対する正用共起表現を求め，こ
のデータを用いて仮説の妥当性を評価する．同時に，
シソーラスを用いた場合との比較から，
誤用動詞に対する代替動詞候補を順位付けて提示するための尺度として，
出現環境の類似度が有用であること
を示す．最後に図\ref{図:提案アルゴリズム}に示した代替動詞の
提示法に基づいた共起表現に関する作文支援システムの実用性について検討する．


\subsection{使用するデータ}
\label{使用するデータ}

\begin{itemize}
\item[(1)] 学習者コーパス

誤用収集には，国立国語研究所『日本語学習者による日本語作文と，その母語訳
	   との対訳データベース ver.~2. CD-ROM版』(2001) から，中国，
	   インド，カンボジア，韓国，マレーシア，
	   モンゴル，シンガポール，タイ，ベトナム
	   の学習者による日本語作文を使用する．平均500字程度の作文で，
	   1,000人分が収録されている．
	   学習者の日本語レベルは明示されていないが，
	   日本語学習時間に関する情報および実際の作文の質から，
	   我々は本データベース中の作文は
	   中級前後の学習者による作文と考えている．

\item[(2)] 母語話者コーパス

出現環境の類似度計算と共起の自然さの判定には，
日本語の大規模なコーパスとして一般的な
，CD-毎日新聞データ集1991年〜2007年版を使用する．総文数16,165,255 
から成る．本研究では，この新聞コーパスから格助詞を伴った名詞と動詞の共起
表現を抽出する（これを「母語話者共起データ」とする）．ただし，機能語
「（さ）せる」（使役），「（ら）れる」（受身），「できる」（可能）につい
ては，入力の共起表現と同様，動詞とこれらの機能語を合わせて一単語として扱
い，形態素解析器の辞書に載っている複合動詞も一語として扱う．
また，名詞が複合語の場合は最後の名
詞を抽出する（複数の形態素から成る名詞でも使用した形態素解析器の単語辞書
に登録されているものは一単語として扱う）．例えば，「社会問題」の場合は
「問題」として抽出する．共起表現の抽出には，形態素解析器
$ChaSen$\footnote{
http://chasen.naist.jp/hiki/ChaSen/
}
および係り受け解析器$CaboCha$\footnote{
http://chasen.org/~taku/software/cabocha/
}
を使用した．
このようにして
得られた共起表現の延べ頻度は37,659,107，異なり数は7,420,195 である．この
うち，動詞の異なり数は 32,822，
名詞の異なり数は 78,708，$\langle n, c\rangle$の異なり数は 290,016，である．


\item[(3)] シソーラス

意味的な類似度
を用いて代替動詞候補を求める場合との比較を行うために，
シソーラスとして分類語彙表
(『分類語彙表増補改訂版データベース』国立国語研究所(2004))，
	   EDR電子化辞書（概念辞書CPD-V020.1および日本語単語辞書JWD-V020）
を使用する．

分類語彙表は，大分類として，「1. 名詞の仲間（体の類）」，「2. 動
	   詞の仲間（用の類）」，「3. 形容詞の仲間（相の類）」，「4. その
	   他の仲間」に分類され（動詞の仲間である用の類は16,704語収録されている）
，これらがさらに 5 つの部門に分類されてい
	   る．各部門がさらに項目に区別され，番号を与えた項目の数は4類
	   を通計して
895項である．項目番号は，左の桁が粗い分類の番号を示
	   し，順に細かい分類になっている．さらに，
このグループが「段落番号」と「小段落番号」で細分化されている．
分類情報（大分類，項目番号，段落番号，小段落番号）は，シソーラス上の位置を
	   表すと見ることもできる．例えば，「飲む」に付与された分類情報
	   は 2.3331-12-01（大分類 2，項目番号 3331，段落番号12，小段落
	   番号 01）であるが，これは「飲む」が図\ref{図:Tree}に示すよう
	   な木構造を持つシソーラス上の葉ノードであることを示すと見るこ
	   ともできる．

EDR電子化辞書の概念辞書は概念間の上位下位関係を記述したものであり，日本
	   語単語辞書には形態情報の他に，見出し語
	   の持つ概念が示されており，総動詞数は45,084個である．両者を用いて
	   動詞のシソーラスを構成することができる．作成した動詞シソーラ
	   スは，総概念数 32,959（ただし，各動詞から上位を辿っていった場
	   合の最上位概念が3つあったため，それらの上位にルート概念を追加
	   した），概念間の上位下位関係の総数 34,567，最大の深さ 17である．

本研究では，動詞間の意味的な類似度を基本的には\cite{長尾}で紹介されているシソーラス上の類似度に従って求める．ただし，動詞が多義語である
場合や，一つの概念の上位概念が複数ある場合も考慮し，動詞$v_{1}$と$v_{2}$の意味的な類似度$SIM_{Dic}(v_{1},v_{2})$を以下のように定義する．
\[
SIM_{Dic}(v_{1},v_{2})
 =\max_{c \in C\!M(v_{1},v_{2})}\frac{2 \cdot Depth(c)}{Dis(v_{1},c)+Depth(c)+Dis(v_{2},c)+Depth(c)}
\]
ここで，$C\!M(v_{1},v_{2})$ は動詞$v_{1}$と$v_{2}$の共通の上位概念ノード
の集合，\textbf{$Depth(c)$}は$c$の深さ，すなわち，シソーラスのルートノードからノード
$c$ への最長パス長，\textbf{$Dis(v,c)$} は，ノード$c$からノード$v$へ至る最短パス長
	   である．

分類語彙表に基づく意味的な類似度の計算では，分類語彙表に記載されている動詞とその分類情報を図\ref{図:Tree}
	   のようなシソーラスと見なして類似度の計算を行う．なお本稿では，
	   分類語彙表を用いた$SIM_{Dic}$を$SIM_{Dic1}$，EDR電子化辞書を
	   用いた$SIM_{Dic}$を$SIM_{Dic2}$で表す．
\end{itemize}

\begin{figure}[t]
\begin{center}
\includegraphics{18-1ia2f3.eps}
\end{center}
\caption{分類語彙表の木構造} \label{図:Tree}
\end{figure}



\subsection{誤用・正用共起表現データ}
\label{誤用・正用共起表現データ} 

誤用の共起表現と正用の共起表現を対にしたものを誤用・正用共起表現対
と呼び，これを集めたものを誤用・正用共起表現データと呼ぶ．本稿では，動詞
のみが誤りである場合を扱うため，以降の実験で使用する誤用・正用共起表現対
は，$(\tupple{n,c,v},\tupple{n,c,v^*})$ の形式をしている（つまり，$v$ が
誤用動詞，$v^*$ がその正用動詞である）．
本稿では，評価結果の信頼性を高めるため，3名の母語話者がそれぞれ誤用・正用共起表現データの作成を行った．
前節(1)で述べた学習者コーパスか
ら誤用・正用共起表現データを作成する具体的な手順を以下に示す．

\begin{itemize}
\item[(1)] 
著者以外の日本語母語話者（作業者A，作業者B，作業者C）\hspace{-0.5zw}\footnote{
3名とも日本語教育経験を持つ．また，作業者には不自然な共起に対する修正支
	   援システムにつながる手法の評価に用いるデータとすることは伝え
	   たが，手法自体（類似度や共起の自然さの判定法）は伝えていない．
}
が，学習者の作文を読み，不自然な
$\tupple{n, c, v}$を誤用共起表現として収集する．
\item[(2)] 次に，
誤用共起表現が自然な表現になるように，
3名の作業者が個別に修正を行い，これを正用共起表現とする．修正に際しては，
構成要素のうちの一箇所を修正することで自然な日本語に書き換え，誤
	   用・正用共起表現対を求める．
自然な表現にするのに2箇所以上の修正が必要な場合は対象から除く．
また，学習者の日本語のレベルが意図する内容を日本語で表現するのに十分でなく，
作業者が誤用共起表現から正用共起表現を
	   推定するのが困難な場合は修正の対象から除く．動詞を修正する場
	   合は，基本的には誤用共起表現から想像できる動詞のうち文脈を考
	   慮して適切なものを正用動詞として推定する．修正する際に文脈を
	   考慮するが，誤用動詞から推測することを前提とし，作文の内容か
	   ら正用動詞を推測し，校正するものではない．以下に例を示す
	   （SG041 は学習者データのファイル名を指す）．
\begin{quote}
新年を祝わなければ、中国人の\underline{伝統を落とし}ます。(SG041)\\
誤用・正用共起表現対：($\tupple{伝統, を, 落とす},\tupple{伝統, を, 失う}$)\\
\end{quote}
\item[(3)] 上記で求めた誤用・正用共起表現対のうち，誤用共起表現 
$\tupple{n,c,v}$ に対して，その正用共起表現が $\tupple{n,c,v^*}$ となっ
ていないもの，および，以下の場合に該当するものを削除し，誤用・正用共起表
現データを作成する．
\begin{itemize}
\item[(a)] 自動詞と他動詞の使用の誤り，
\item[(b)] $n$が形式名詞の場合，
\item[(c)] $n$または$v$が平仮名表記になっていてかつ同音異義語を持つ場合，
\item[(d)] $v$が「なる」「する」の場合，
\item[(e)] $n$または$v$が日本語にない場合，
\end{itemize}
(a)は，出現環境の類似度に基づくのではなく，自動詞形／他動詞形の変換によ
	   り代替動詞候補を求めるべき誤りである．(b) は，形式名詞の使用
	   を学習者が誤っている（学習者が意図した先行詞を作業
	   者が推定
	   できない）可能性があり，その場合，作業者が誤用とその修正
	   （正用）の判断を誤る可能性があるためである．(c)は，同音異義語
	   を持つ $n$または$v$を含む不自然な共起表現 $\tupple{n, c, v}$ 
	   の場合，学習者が意図した語を作業者が特定する際の信頼性が低
	   くなるためである．同音異義語を持つか否かの判定は，国語辞典を
	   使用した．(d)は，広範囲の意味を取り得る「する」と「なる」が誤っ
	   て使用されている場合は，学習者が意図した語を作業
	   者が推定す
	   るのが困難なためである．(e) は，学習者が意図した単語と異なる
	   単語を作業者が推定することを避けるためである．母語話者コー
	   パス（新聞コーパス）から抽出した共起データにも，国語辞典の見
	   出しにも出現しないとき，「日本語にない」と判定した．
\end{itemize}

評価実験では，上記の手順で
	   作成した誤用・正用共起表現データのうち，
	   3名の作業者が3名とも動詞のみを修正した
誤用・正用共起表現対191を最終的な評価データ
	   として使用する．作業者Aが作成したものを誤用・正用共起表現データA，作業者Bが作成したもの
	   を誤用・正用共起表現データB，作業者Cが作成したもの
	   を誤用・正用共起表現データCとする．作成された誤用・正用共起表
	   現データA，誤用・正用共起表現データB，誤用・正用共起表現デー
	   タCの内訳を表\ref{データの内訳}に示す．
誤用・正用共起表現データにおいて，正用動詞まで一致したものは65個(34.0\%)であっ
た．複数の漢字表記を持つ動詞に対して，表記が異なる修正を行った場合（「作
る」と「つくる」など）を含めると，約40\%である．動詞を修正する場合に正用
動詞は一意とは限らないことを考慮すると，上記の割合は当然の結果とも言える．

\begin{table}[t]
\caption{誤用・正用共起表現データの内訳}
\label{データの内訳}
\input{02table01.txt}
\end{table}

誤用・正用共起表現データを用いて仮説の妥当性等を評価するためには，
以下の条件が満たされている必要がある．
\begin{itemize}
\item[(1)] 
誤用動詞に対して，一般には正用動詞は複数あるが，作業者がそれらのあり得る正用のうちの一つを選んでいる，
\item[(2)] 
作業者は，誤用動詞に対して，一般には複数ある正用動詞のうち，誤用動詞と出現環境の類似性が比較的高い動詞を選ぶというような偏った傾向にはない．
\end{itemize}
日本語学習者に対する日本語教育経験を有する
日本語母語話者による誤用動詞の修正であるから，(1)は満たされているものと
考えている．一方，修正の方法（正用動詞）は一般に複数あり得るため，作業者
によっては，たまたま，複数ある正用動詞のうち誤用動詞との出現環境の類似
度が高い方の動詞を用いた修正を行う傾向にあるということもあり得る．
作業者A，B，C には作業結果のデータをどのように利用するかなどを知らせることなく
行ったため，3名全員が(2)を満たさない作業を行う可能性は極めて低い．そこで，
\ref{仮説の検証}節および\ref{シソーラスとの比較}節の実験
では，誤用・正用共起表現データA，B，C，それぞれで同じ傾向の結果が得られることを示すことで，(2)が成り立つことを示すとともに，仮説の妥当性および誤用動詞に対する代替動詞候
補を順序付けて提示するための尺度として出現環境の類似度が優れていることを
示し，\ref{システムの実用性}節でも，誤用・正用共起表現データA，B，C それぞれ
を用いて仮説に基づく共起表現に関する作文支援システムの実用性を検討する．


\subsection{仮説の検証}
\label{仮説の検証}

\ref{誤用・正用共起表現データ}節で述べた誤用・正用共起表現データを用いて
仮説の妥当性を評価する．誤用動詞と正用動詞の出現環境の類似度の傾向だけを
評価するため，図\ref{図:提案アルゴリズム}の提示法の(2)はスキップし，(3)
では自然さの判定を行わず $Candidates = V$ とする．候補動詞の
全体集合 $V$ は\ref{使用するデータ}節(2)で述べた新聞コーパスから抽出した
母語話者共起データ中の全動詞の集合$V_{News}$とし，
$SIM$は\ref{出現環境の類
似尺度}節で延べた出現環境の類似度$SIM_{H}$とする．つまり，出現環境の類似
度だけで，誤用・正用共起表現対 ($\tupple{n, c, v},\tupple{n, c, v^*}$) 
の誤用動詞 $v$ から，代替動詞候補を優先順位付きで求める．この出力から，
正用動詞 $v^*$ の順位\footnote{
$SIM(v,v^*)=SIM(v,v')$なる候補動詞$v'(\neq v^*)$がある場合は，それらの平均
の順位とする．たとえば，類似度の降順に並べたとき，$SIM(v,v_{1})> SIM(v,
v_{2})>SIM(v, v_{3}) = SIM(v, v_{4}) = SIM(v, v_{5})> SIM(v, v_{6})$ で，
$v_{3}$が正用動詞 $v^*$ である場合，出力される順位は，4 である．
}
を求める．ただし，`unknown1' が出力されている場合は，便宜上順位を特別な
記号 `unknown1'とする\footnote{
順位としては，任意の自然数$k$に対し $k<$ unknown1 と解釈する．後述の unknown*，
\ref{システムの実用性}節で述べる unknown2，NG についても同様である．
}
．また，正用動詞$v^*$が提示される候補の中にない場合，
つまり $v^*\notin V$の場合も，順位が求められないため，便宜上順位を特別な
記号 `unknown*' とする．
全誤用・正用共起表現対191のうち，求め
られた順位が$k$ 位以内である誤用・正用共起表現対の割合 (top $k$ accuracy) で
仮説の妥当性を検討する．

\begin{figure}[b]
   \begin{center}
\includegraphics{18-1ia2f4.eps}
   \end{center}
   \caption{出現環境の類似度だけで代替動詞候補を優先付けした場合のtop $k$ accuracy}
   \label{類似度のみtopK}
  \end{figure}

誤用・正用共起表現データA，B，C，それぞれにおける top $k$ accuracyを図\ref{類似度のみtopK}に示す．図\ref{類似度のみtopK}のグラフでは
$k=2000$ のところまでしか top $k$ accuracy が描かれていないが，
$k = |V| = | V_{News} | = 32,822$ のときの
top $k$ accuracy は，誤用・正用共起表現データAの場合は，
  99.5\%，誤用・正用共起表現データBの場合は，100.0\%，誤用・正用共起表現
  データCの場合は，100.0\% である．誤用・正用共起表現データAの場合に100\%になっていないのは，`unknown*' を出力
  した誤用・正用共起表現対が1個あった
  ためである．

前述したように，top $k$ accuracy が $\alpha$\% であるとは，全誤用・正用
共起表現対の $\alpha$\% の誤用・正用共起表現対で，誤用動詞との出現環境の類似度が
高い上位$k$個の候補の中に正用動詞が含まれていることを意味する．したがっ
て，$|V|$に比べ十分小さな$k$におけるtop $k$ accuracyが100\%に近いな
らば，「誤用動詞との出現環境が類似している順に全動詞を並べた場合，正用動
詞（代替動詞）はその上位にある傾向にある」という仮説が成り立つと言える．
図\ref{類似度のみtopK}より，
誤用・正用共起表現データAでは，top 845 accuracyは 80\%，
誤用・正用共起表現データBでは，top 575 accuracy は80\%，誤用・正用共起表
現データCでは，top 790 accuracy は 80\%である．
845, 575, 790は，それぞれ，$|V|=|V_{News}|=32,822$の，2.6\%，
1.8\%，2.4\%であるから
，いずれのデータに対しても
仮説が成り立っていると言える．
したがって，本実験より，仮説が妥当で
あることが示せたと考えている．ただし，本仮説は，誤用動詞との出
現環境の類似度順位において，正用動詞がどの程度高い順位にあるかまで
は言及しておらず，単に傾向を述べているにすぎない．

  そこで，次節では，候補動詞の順位付けを，誤用動詞との出現環境の類似度で行っ
  た場合の方が，誤用動詞との意味的な類似度で行った場合より，正
  用動詞の順位が高い傾向にある，つまり，誤用動詞に対する代替動詞候補を順位
  付けて提示するための尺度として，出現環境の類似度の方が
意味的な類似度よりも有用であることを示す．
  
  
\subsection{意味的な類似度を用いた場合との比較}
\label{シソーラスとの比較}

\begin{figure}[b]
\begin{center}
\includegraphics{18-1ia2f5.eps}
\end{center}
\hangcaption{シソーラスに基づく類似度だけで代替動詞候補を優先付けした場
 合のtop $k$ accuracy（誤用・正用共起表現データAを用いた場合）}
\label{共通topK-A}
\end{figure}

\begin{figure}[t]
\begin{center}
\includegraphics{18-1ia2f6.eps}
\end{center}
\hangcaption{シソーラスに基づく類似度だけで代替動詞候補を優先付けした場
 合の top $k$ accuracy（誤用・正用共起表現データBを用いた場合）}
\label{共通topK-B}
\end{figure}
\begin{figure}[t]
\begin{center}
\includegraphics{18-1ia2f7.eps}
\end{center}
\hangcaption{シソーラスに基づく類似度だけで代替動詞候補を優先付けした場
 合の top $k$ accuracy（誤用・正用共起表現データCを用いた場合）}
\label{共通topK-C}
\end{figure}

 意味的な類似度として \ref{使用するデータ}節(3)で述べた
 $SIM_{Dic1}$，$SIM_{Dic2}$を用いて，前節で行った実験と同様にして top
 $k$ accuracy を求めた結果を図\ref{共通topK-A}，図\ref{共通topK-B}，図\ref{共通topK-C}に示す．
図\ref{共通topK-A}は誤用・正用共起表現データAに対する結果，
図\ref{共通topK-B}は誤用・正用共起表現データBに対する結果，
図\ref{共通topK-C}は誤用・正用共起表現データCに対する結果である．

ただし，
類似度として$SIM_{Dic1}$を用いる場合は，図\ref{図:提案アルゴリズム}の(3)の$V$は，分類語彙表の見出し動詞
の集合$V_{Dic1}$，(4)の出現環境の類似度$SIM$の代わりに分類語彙表に基づく
類似度$SIM_{Dic1}$とし，類似度
として$SIM_{Dic2}$を用いる場合は，図\ref{図:提案アルゴリズム}の(3)の$V$は，
EDR電子化辞書の見出し動詞
の集合$V_{Dic2}$，(4)の出現環境の類似度$SIM$の代わりにEDR電子化辞書に基づく
類似度$SIM_{Dic2}$
とした．
図\ref{類似度のみtopK}と図\ref{共通topK-A}，図\ref{類似度のみtopK}と図
\ref{共通topK-B}，図\ref{類似度のみtopK}と図\ref{共通topK-C}の比較から，
出現環境の類似度$SIM_{H}$を用いた場合の方が，分類語彙表に基づく
類似度$SIM_{Dic1}$およびEDR電子化辞書に基づく類似度$SIM_{Dic2}$を用いた場合よりも，top $k$
accuracy が高いことがわかる．
$V_{Dic1}$の要素数は，分類語彙表の見出し本体の異なりから
，接辞を示す「-」
 や句を形成する「…」を除いて17,249である\footnote{
用の類の語数は16,704と記載されているが，$|V_{Dic_1}|=17,249$は異表記も一つの見出しと
して数えたためである．
}．
しかも，分類語彙表には，
「ブレーキを掛ける」のように動詞一単語
の形式になっていない表現が含まれて
いるため，扱える候補動詞の数は17,249よりも少ない．
これに対して$V_{News}$の要素
数は32,822である．これが大規模な母語話者コーパスから抽出した共起データに
基づいて求めた出現環境の類似度を用いた場合と，分類語彙表に基づく類似度を
用いた場合の top $k$ accuracy の違いの原因の一つ
である可能性もある．
扱える候補動詞
の全体数が大きいことも大規模な母語話者コーパスを用いた場合の出現環境の類
似度が代替動詞候補を順位付けて提示するための尺度として有用である理由の一
つとなり得る．
しかし，$V_{Dic2}$ の要素数は45,084であり，
$V_{News}$
の要素数
よりも多いが，top $k$ accuracy が高くはない．そのため，候補の全体集
合の大きさが top $k$ accuracy の違いの原因であるとは言えない．
ここで，
採用語彙の範囲を見ると，分類語彙表は現代の日常社会で普通に用いられる語を中心に採用している．一方，EDR電子化辞書は，機械翻訳を目的とし，新聞，百科事典，教科書，参考書などを中心としてデータが作成されている．シソーラス構築の際に参考にする文書のジャンルの違いに起因する候補動詞の集合の違いもtop $k$ accuracy の違いの原因の一つであると考えられる．

以上より，図\ref {共通topK-A}，図\ref {共通topK-B}，図\ref {共通topK-C}
に示した結果だけから直ちに，代替動
詞候補を順位付けて提示するための尺度として出現環境の類似度が
シソーラスに基づく意味的な類似度よりも有用であるとは言えない．

そこで，
$SIM_{H}$と$SIM_{Dic1}$，$SIM_{H}$と$SIM_{Dic2}$
とで共通に類似度が定義されている動詞のみに候補を制限した場合を考える．つ
まり，$V = V_{News} \cap V_{Dic1}$ とし
て，$SIM$として$SIM_{H}$を用いた場合と$SIM_{Dic1}$ を用いた場合
との top $k$ accuracy の比較，および
，
$V = V_{News} \cap V_{Dic2}$ とし
て，$SIM$として$SIM_{H}$を用いた場合と$SIM_{Dic2}$ を用いた場合
とのtop $k$ accuracyの比較を行う．これにより，誤用動詞の代替動詞候補を順
位付けて提示するための尺度としての性能の比較を
$(V_{News} \cap V_{Dic1})\times(V_{News} \cap V_{Dic1})$上，
$(V_{News} \cap V_{Dic2})\times(V_{News} \cap V_{Dic2})$上
に限って行うことになり，ある意味公平な評価と言える．

\begin{figure}[t]
\begin{center}
\includegraphics{18-1ia2f8.eps}
\end{center}
\caption{$V=V_{News}\cap V_{Dic}$とした場合のtop $k$ accuracy（誤用・正用共起表現データAを用いた場合）}
\label{類似度のみ共通topK-A}
\end{figure}
\begin{figure}[t]
\begin{center}
\includegraphics{18-1ia2f9.eps}
\end{center}
\caption{$V=V_{News}\cap V_{Dic}$とした場合のtop $k$ accuracy（誤用・正用共起表現データBを用いた場合）}
\label{類似度のみ共通topK-B}
\end{figure}

\begin{figure}[t]
\begin{center}
\includegraphics{18-1ia2f10.eps}
\end{center}
\caption{$V=V_{News}\cap V_{Dic}$とした場合のtop $k$ accuracy（誤用・正用共起表現データCを用いた場合）}
\label{類似度のみ共通topK-C}
\end{figure}

誤用・正用共起表現データA，B，C における結果をそれぞれ
図\ref{類似度のみ共通topK-A}，
図\ref{類似度のみ共通topK-B}，
図\ref{類似度のみ共通topK-C}に示す．
図\ref{類似度のみ共通topK-A}，図\ref{類似度のみ共通topK-B}，
図\ref{類似度のみ共通topK-C}の凡例の
$SIM\_H[News*Dic1]$は，
$V = V_{News} \cap V_{Dic1}$ とし，$SIM$として$SIM_{H}$を用いた場合を，
$SIM\_Dic1[News*Dic1]$は，
$V = V_{News} \cap V_{Dic1}$ とし，$SIM$として$SIM_{Dic1}$ を用いた場合を，
$SIM\_H[News*Dic2]$は，
$V = V_{News} \cap V_{Dic2}$ とし，$SIM$として$SIM_{H}$を用いた場合を，
$SIM\_Dic2[News*Dic2]$は，
$V = V_{News} \cap V_{Dic2}$ とし，$SIM$として$SIM_{Dic2}$ を用いた場合を
示す．なお，
図\ref{類似度のみ共通topK-A}，
図\ref{類似度のみ共通topK-B}，
図\ref{類似度のみ共通topK-C}のグラフでは，
$k$ = 2,000 のところまでしか top $k$ accuracy が描かれていないが，
$V = V_{News} \cap V_{Dic1}$ の場合，
$k$ = $|V|$ = 9,693のときの top $k$ accuracy は，
$SIM_{H}$，$SIM_{Dic1}$ ともに，誤用・正用共起表現データAの場合は 67.5\%，
誤用・正用共起表現データBの場合は 68.6\%，
誤用・正用共起表現データCの場合は 65.4\%
である．
また，
$V = V_{News} \cap V_{Dic2}$ の場合，
$k$ = $|V|$ = 13,169のときの top $k$ accuracy
は，
$SIM_{H}$，$SIM_{Dic2}$ ともに，誤用・正用共起表現データAの場合は 79.1\%，
誤用・正用共起表現データBの場合は 82.7\%，
誤用・正用共起表現データCの場合は 76.4\% である．
100\%になっていないのは，表\ref{unknownの個数}に示す個数の `unkonwn1' お
よび `unknown*' を出力した誤用・正用共起表現対があったためである．

\begin{table}[t]
\caption{unknown1，unknown* を出力した誤用・正用共起表現対の個数}
\label{unknownの個数}
\input{02table02.txt}
\end{table}

図\ref{類似度のみ共通topK-A}，図\ref{類似度のみ共通topK-B}，図\ref{類似度のみ共通topK-C}より，いずれの誤用・正用共起表現データの場合
でも，$SIM_{H}$を用いた場合が，
$SIM_{Dic1}$，$SIM_{Dic2}$ を用いた場合よりもtop $k$ accuracy が高いことが
分かる．

次に，$V=V_{News}\cap V_{Dic1}$において正用動詞が候補
中にある129個（誤用・正用共起表現データA），131個（誤用・正用共起表現データ
B），125個（誤用・正用共起表現データC），
$V=V_{News}\cap V_{Dic2}$において正用動詞が候補中にある151個（誤用・正用共起
表現データA），158個（誤用・正用共起表現データB），146個（誤用・正用共起表現データC）について順位の平均と分散を
求めたものを表\ref{順位の平均と分散}に示す．
表\ref{順位の平均と分散}より，出現環境の類似性($SIM_{H}$)を用いた方が
シソーラスに基づく意
味的な類似度($SIM_{Dic1}$，$SIM_{Dic2}$)を用いた場合より，正用動詞の順位
の平均は高く，分散も小さいことがわかる．

\begin{table}[t]
\caption{$SIM_{H}$と$SIM_{Dic1}$，$SIM_{Dic2}$の順位の平均と分散}
\label{順位の平均と分散}
\input{02table03.txt}
\end{table}

いくつかの例について，
$SIM_{Dic1}$，$SIM_{Dic2}$と$SIM_{H}$を用いた場合に
出力される正用動詞の順位を表\ref{正用動詞の順位比較}に示す．
例1，例2，例3は，\ref{誤用と正用の関係}
節で示した例の分類と対応している．例 1，例 2 のような「正用動詞が誤用動
詞の類義動詞である場合」は，
$SIM_{H}$を用いた場合の順位は，$SIM_{Dic1}$，$SIM_{Dic2}$を用いた場合と
比較し，ほぼ同じか高い傾向にある．
一方，例3のような「正用動詞が誤用動詞の類義動詞ではない場合」では，
$SIM_{Dic1}$，$SIM_{Dic2}$と$SIM_{H}$の順位は大きく異なり，$SIM_{H}$を用いた方が$SIM_{Dic1}$，$SIM_{Dic2}$を用いた場合より順位が高い傾向にある．

\begin{table}[t]
\caption{$SIM_{H}$と$SIM_{Dic1}$，$SIM_{Dic2}$の正用動詞の順位の比較}
\label{正用動詞の順位比較}
\input{02table04.txt}
\end{table}

以上をまとめると，シソーラス
に基づく意味的な類似度に比べ，出現環境の類似度は，
誤用動詞に対する代替動詞候補を順位付けて提示するための尺度として
有用であることが分かる．



\subsection{提案手法に基づく共起表現に関する作文支援システムの実用性}
\label{システムの実用性}

本節では，誤用・正用共起表現データA，B，Cを用いて，図\ref{図:提案アルゴリズム}
の代替動詞候補の提示手法に基づいた作文支援システムの実用性について検討する．

誤用・正用共起表現対($\tupple{n,c,v},\tupple{n,c,v^*}$)に対し，図\ref{図:
提案アルゴリズム}の手法により，$v$ の代替動詞候補を優先順位付きで出力し，
その中での正用動詞 $v^*$ の順位\footnote{
$SIM(v,v^*)=SIM(v,v')$なる候補動詞$v'(\neq v^*)$がある場合は，\ref{仮説
の検証}節と同様に平均の順位とする．
}
を求め，誤用・正用共起表現データA，B，C それぞれに対して top $k$
accuracy を求める．
図\ref{図:提案アルゴリズム}の(3)における$\tupple{n,c,v'}$の自然
さの判定は，\ref{共起の自然さ}節式(\ref{判定式Exist})で行う．ただし，閾
値$f_{0}$の値として，0, 9, 19の3通りを試した．$SIM$は$SIM_{H}$で，候補動詞
の全体集合 $V$ は $V_{News}$ である．
図\ref{図:提案アルゴリズム}の手法で `unknown1'，`unknown2'が出力される
誤用・正用共起表現対に対しては正用動詞の順位が求まらないが，そのような
誤用・正用共起表現対は誤用・正用共起表現データA，B，C にはなかった．
候補動詞の集合（図\ref{図:提案アルゴリズム}の $Candidates$）の中に正用動
詞が含まれない場合，つまり，正用共起表現が自然と判定できない場合も順位が求まらない．表\ref{NGの個数}にそのような誤用・
正用共起表現対の個数を示す．
（　）の中の値は，全誤用・正用共起表現対191個に対する割合である．
便宜上このような誤用・正用共起表現対に対しては，
順位を特別な記号 `NG' とする．

\begin{table}[b]
\caption{提示される候補動詞集合中に正用動詞が含まれない誤用・正用共起表現対の個数}
\label{NGの個数}
\input{02table05.txt}
\end{table}

\begin{figure}[b]
\begin{center}
\includegraphics{18-1ia2f11.eps}
\end{center}
\caption{提案手法（図\ref{図:提案アルゴリズム}）によるtop $k$ accuracy（誤用・正用共起表現データAを用いた場合）}
\label{自然さの判定topK-A}
\end{figure}

\begin{figure}[t]
\begin{center}
\includegraphics{18-1ia2f12.eps}
\end{center}
\caption{提案手法（図\ref{図:提案アルゴリズム}）によるtop $k$ accuracy（誤用・正用共起表現データBを用いた場合）}
\label{自然さの判定topK-B}
\end{figure}
\begin{figure}[t]
\begin{center}
\includegraphics{18-1ia2f13.eps}
\end{center}
\caption{提案手法（図\ref{図:提案アルゴリズム}）によるtop $k$ accuracy（誤用・正用共起表現データCを用いた場合）}
\label{自然さの判定topK-C}
\end{figure}

図\ref{自然さの判定topK-A}，図\ref{自然さの判定topK-B}，
図\ref{自然さの判定topK-C}に，
誤用・正用共起表現データA，B，Cを用いた場合の，提案手法による top $k$
accuracy を示す．
図には，共起の自然さで候補を絞らない場合の
結果，つまり，\ref{仮説の検証}節の結果（図のSimple）も比較のために示して
いる．
誤用・正用共起表現データA，B，C，いずれも
共起の自然さの判定を，$f_{0}=9$を閾値として用いた式(\ref{判定式Exist}) 
で行った場合のtop $k$ accuracy は
$f_{0}=0$の場合に比べ，$k$ が比較的小さなところで顕著に高い．
これは，出現頻度を考慮することにより，係り受け解析の失敗のために
母語話者共起データに含まれてしまった誤った共起ペア
の影響を軽減できたことが一因と考えら
れる．しかし，$f_{0}=19$を閾値とした場合，
$f_{0}=9$の場合に比べ，top $k$ accuracyは低くなり，適
切な候補までが除かれてしまうことの影響の方が逆に大きくなっている．

付録に入力の誤用共起表現に対する代替動詞候補の出力例と，それに対する適切
さの判断の例を示す．
付録の例のように，実際に日本語学習者が提案手法に基づく作文支援システム
を利用する場合，辞書と学習者の日本語の知識だけで，上位に提示される候補の
うち，これは違うと単純に判断できるものもあると考えられる（例えば，付録の
「ある」「なる」「できる」）．
また，
自分では思い付かない，あるいは，母語—日本語辞書では求まらない候補
なのであるが，見ればこれだと分かる場合もあると考えら
れる．このように考え，学習者は上位30位までの候補が適切か否かを検討するの
は負担と感じないと想定し，現状を評価してみる．

式(\ref{判定式Exist})の閾値を$f_{0}=9$とした場合のtop 30 accuracy は
誤用・正用共起表現データAを用いた場合に52.4\%，誤用・正用共起表現データB
を用いた場合に57.6\%，誤用・正用共起表現データCを用いた場合に57.6\%
であり，十分に高いとは言えない．その原因は，共起の自然さの判定法と誤用動詞
との出現環境の類似度による順位付けそれぞれにある．

\begin{figure}[b]
\begin{center}
\includegraphics{18-1ia2f14.eps}
\end{center}
\caption{母語話者新聞共起データに含まれない正用共起表現の数} 
\label{コーパス比較_未知語}
\end{figure}

まず，共起の自然さの判定法について考察する．
2.3節で述べたように，十分大規模な母語話者コーパスを用いれば，
式(\ref{判定式Exist})による共起の自然さの判定でも有用であると考えている．
しかし，表\ref{NGの個数}から分かるように，
全誤用・正用共起表現対における，
正用共起表現が自然と判定でき
ない誤用・正用共起表現対の割合は，
$f_0=0$，$f_0=9$，$f_0=19$ それぞれの場合で，約1割，約3割，約4割である．
今回使用した新聞17年分の母語話者コーパスではまだ十分な規模とは言えず，
これが top $k$ accuracy が十分に高くない原因の一つである．
しかし，以下に示すように，新聞コーパスを単に大規模にしただけでは
不十分であると考えられる．
図\ref{コーパス比較_未知語}に誤用・正用共起表現データA，B，C に関して，
共起データの規模と，その共起データに含まれない正用共起表現の個数の関係を
示す．
横軸の数値 $year$ は，
1991年〜~$year$年の新聞コーパスを用いて母語話者共起データを作成したことを
示し，縦軸の値は，
誤用・正用共起表現データ中の正用共起表現のうち，その母語話者共起データに
含まれないものの個数である．
図\ref{コーパス比較_未知語}から，母語話
者共起データに含まれない正用共起表現の数の減少率が，
8年分を超えたところから下がっ
ている．この結果から，新聞コーパスを大きくすることでこの数を小さくするの
は不可能であると考えられるため，新聞と異なるジャンルからコーパスを構築す
る必要がある．

次に，誤用動詞との出現環境の類似度による提示する候補動詞の順位付けについて
考察する．
今回提案した手法では，
「誤用共起表現$\tupple{n,c,v}$の$v$との出現環境が類似している順に
全動詞を並べた場合，$v$の代替動詞はその上位にある傾向にある」
という仮説に基づき，誤用共起表現$\tupple{n,c,v}$に対して，$n,c$との共起が
自然な動詞$v'$を$v$との出現環境の類似度の降順で提示する．\ref{仮説の検証} 
節で述べたようにこの仮説は妥当であり，\ref{シソーラスとの比較}節で述べた
ように，類似度としてシソーラス
に基づいた意味的な類似度を用いるよりは精度が
高い．しかし，上述の結果が示すように，一つの誤用動詞との出現環境の類似度
だけでは優先付けの情報として不足している．そこで，実用に耐える作文支援システ
ムを構築するには，入力情報を増やすことが考えられる．つまり，ほぼ同じこと
を意味している（とシステム利用者は思っている）複数の共起表現
$\tupple{n,c,v_1},\tupple{n,c,v_2},\cdots,\tupple{n,c,v_m}$を入力する
（$n,c$は共通）．こうすることで，$n,c$との共起が自然な動詞$v'$を
\[
 SIM(v_1, v') + SIM(v_2, v') + \cdots + SIM(v_m,v')
\]
の降順で提示することができ，より精度の高い優先付けが期待できる．これは一
見，システム利用者に過度の負担をかけるように見える．しかし，もし，最初か
らほぼ同じ事を意味していると思われる複数の共起表現
$\tupple{n,c,v_1},\tupple{n,c,v_2},\cdots,\tupple{n,c,v_m}$を思い付かな
い場合は，まず，一つの共起表現を入力し，提示される比較的上位の候補動詞の
中からそのような共起表現を指定することで，利用者に大きな負担をかけること
なく実現できる．

誤用・正用共起表現データを用いて行った今回の評価から，提案手法に基づいて
共起表現に関する作文支援システムを構築する際には，上記で考察したように，使用
する母語話者共起データの規模，および，システム利用者（日本語学習者）が入力
する情報に関して課題があることがわかった．
今回の評価では，誤用・正
用共起表現データを作成する際，一つの誤用共起表現に対して一つの正用共起表
現を適用した．しかし，実際の正用共起表現は一つとは限らず，候補中に正用として指定
した動詞以外で適切なものが含まれていることが十分考えられる．実際，付録に
示した判断が「○」のものは適切な代替動詞である．したがって，実際に学習者
がシステムを使用する場合には，30 位以内の候補に適切な代替動詞が含まれて
いる割合は，今回求めたtop 30 accuracy よりも高いと期待される．



