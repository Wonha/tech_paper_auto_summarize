国語学や言語学の分野において，助数詞に関する研究は古くから行われてきた．
また，文法的な性質だけでなく，助数詞や助数詞の数える対象である名詞との関係に着目して，意味的な分類を行う試みもある．
さらに，自然言語処理の分野では助数詞の特徴を考慮して処理を行う解析手法が提案されている．
本章では助数詞の文法に関する研究，助数詞の分類に関する研究，助数詞を対象にした自然言語処理についてそれぞれ概観する．
日本語助数詞の代表的な研究に[CITE]が挙げられる．
形態的には「最も単純な品詞」とされてきた助数詞であるが用法の点では助数詞の振る舞いが複雑多様であることを指摘した上で，その個別的な用法を用例に即して紹介している．
[CITE]では世の中には生活の必要に応じていろいろな物の数え方があり，生活の新しい場面，新しい話題に即して新しい助数詞が生まれると述べられている．
その一方で明治の始まる前後までは助数詞として用いられてきたが，現在はその機能が失われている語の例が指摘されている．
このような「助数詞の用いられ方の変化」に着目し，[CITE]は大規模なアンケートを実施して，助数詞の実際の用いられ方について調査を行った．
さまざまな年代，さまざまな職種の男女半数づつ計425人に対して行われたアンケート結果から年齢層別の助数詞の使われ方の差異を明らかにしている．
さらに[CITE]では[CITE]の調査結果に基づき，5つの助数詞の典型的な用法について考察している．
助数詞を数詞に連接する付属語ではなく数詞の語尾とする研究もある[CITE]．
しかし，本稿では二つの理由からこの立場は採用しない．
一つは，助数詞に関する様々な現象を説明するのに，語尾という考え方は不適切であると考えるからである．
[CITE]で指摘されているような多様性や可変性を説明するのに，数詞と助数詞は独立した語であると考えるのが自然である．
もう一つは，LFG規則を実装する日本語LFGシステムにおいて，形態素解析に茶筌[CITE]を用いているためである．
茶筌では数詞と助数詞を明確に分けている．
本稿で扱う対象ではないが，日本語数量詞の大きな研究課題の一つに数量詞遊離構文の問題がある[CITE]．
遊離数量詞とは(a)「3個のりんごを食べた」(b)「りんごを3個食べた」の(b)のような構文である．
この構文をめぐって，(a)の連体数量詞文との置換の可否や，その決定要因，また(a)，(b)の表現の意味やニュアンスの違いについて様々な先行研究が分析や解釈を行っている．
これらの課題を解決するためには，文法的な関係というよりはむしろ数量表現とそれが指す名詞や動詞などの意味関係に着目しなければならない．
[CITE]はプロタイプ理論に基づいて，認知意味論的な立場から，助数詞の分類を試みている．
[CITE]は，助数詞ならびに助数詞と同じ働きをする名詞600語に対し，数えられる対象や同じ対象を数える助数詞群の共通点や差異について解説を行っている．
[CITE]は[CITE]に記載されている助数詞cとそれが数える名詞nを書き起こしたデータから一つのcが二つ以上のnとペアになっているもの計9,352組を用いて，自動的に助数詞オントロジーを構築する手法について提案している．
[CITE]は翻訳などのアプリケーションに必要となる日本語文生成の際に，オントロジーを用いて名詞の意味的な情報を参照し助数詞を選択する手法について提案している．
英語でも``ten feet long''の`feet'や``two shelves higher''の`shelves'のように日本語の助数詞に似た数量表現が存在する．
[CITE]はこのような表現を対象にしてHPSGシステム上で解析を行う手法を提案している．
上記と同様にHPSGに関する研究ではあるが，本稿に最も関連のある先行研究は[CITE]である．
[CITE]は日本語HPSG文法において助数詞を解析し，適切な解析結果，すなわちMinimal Recursion Semantics（以下，MRS）を出力する手法について提案している．
本研究も基本的な目的は同様であるが，次の点が異なる．
まず，[CITE]では網羅的な助数詞の処理を提案していながら，MRSについての考察は主に対象となる名詞を数え上げるための助数詞に限定されていることである．
本稿では，その他の助数詞についても考察を行う．
さらに，助数詞が省略されていてもその省略の有無に関係なく同一のf-structureを導出する文法や助数詞の性質を変化させる接頭辞や接尾語を考慮した文法について提案する．
また，二つの基準を設定してf-strucrtureの妥当性を検討することも本稿の特徴である．
さらに[CITE]には，提案されている語彙規則(type hierarchy)に助数詞をどのように割り当てるかの具体的な記述がない．
本稿では，LFGの語彙規則(lexical category)に語を割り当てる方法についても言及する．
また，本稿では，今回提案した文法がどのくらい網羅的に実際のテキストを処理できるかを検証するための精度評価実験を行う．

提案規則の詳細について述べる前に，この節ではLFG規則の表記方法について説明する．
LFG規則は語彙規則と文法規則によって定義される．
語彙規則では，f-structureの素性に対応するSUBJ(ect)やOBJ(ect)などの引数(argument)やlexical category，属性と属性値などを定義する．
([REF_lex-intro])に語彙規則の例を示す．
1行目は動詞「読む」にVというlexical categoryが割り当てられており，PRED(icate)「読む」はargumentにSUBJとOBJという二つの引数を持つことが記述されている．
2行目には名詞「太郎」のlexical categoryがNでありPREDが「太郎」であることが記述されている．
3行目には名詞「本」のlexical categoryがNでありPREDが「本」であることが記述されている．
4行目には格助詞「が」のlexical categoryがPPであり，主格を示す属性NOM(inative)とその値`+'を持つことが記述されている．
5行目には格助詞「を」のlexical categoryがPPであり，目的格を示す属性ACC(usative)とその値`+'を持つことが記述されている．
文法規則は，句構造規則とそれに付与される機能的注釈で表現される．
注釈において用いられる`[MATH]'という記号は句構造の一つ上の節点に存在するf-strucutreを，`[MATH]'は現在の節点のf-structureを指す．
([REF_grammar-intro])に([REF_lex-intro])の語彙規則を含む文法規則を示す．
1行目の句構造規則では，0個以上のNPとVがSになることを定義している．
Vに付与されている注釈はVのPREDが一つ上，すなわち文全体のPREDであることを定義している．
NPに付与されている注釈はNOM属性の値が`+'であればNPの値が一つ上のSUBJに，ACC属性が`+'であればOBJになることを定義している．
2行目の句構造規則では，NとPPがNPになることを定義している．
Nに付与されている注釈はPREDが一つ上の節点であるNPのPREDであることを定義している．
([REF_lex-intro])の語彙規則と([REF_grammar-intro])の文法規則を「太郎が本を読む」の解析に適用すると，図[REF_lfg-intro]に示すように句構造規則によってc-structureの木構造が形成されると同時に，機能的注釈によって属性と属性値で表現されるf-structureが生成される．
表[REF_lexical-table]に助数詞の語彙カテゴリの一覧を示す．
本稿では助数詞が数詞に持たせる数の性質（基数／序数）という側面から「数量」，「順番」という二つの語彙カテゴリを設定する．
また，[CITE]では単位名を表す「メートル」，「円」などを助数詞に含めないとする説があることを紹介しているが，文法的には同じ働きをすることが指摘されている．
本稿ではこの立場から，これらの語も助数詞とする．
ただし，上述の二つのカテゴリとは別に「単位」，「通貨」という項目を設け，さらに数詞との位置関係から通貨を細分類した．
それぞれの語彙カテゴリについて以下に述べる．
単位に関する語彙カテゴリは，計測する対象の計測基準量を表す助数詞に割り当てられる．
日本語LFGシステムにおいてこの語彙カテゴリにはEDR概念辞書[CITE]の接尾語のうち，単位に分類されている語から「ヶ月」，「週目」などの時間に関する語を除いた計659語を採用する．
助数詞の中には単独で名詞として働く語も存在する．
「身長をcmで，体重はKgで入力して下さい」や「対ユーロでドルが下落している」など，単位や通貨も数詞を伴わずに単独で名詞として用いられる場合がある．
従って，このカテゴリの語には単に助数詞としての語彙ルールだけではなく，名詞としてのカテゴリも割り当てる．
さらに，助数詞として働く場合でも名詞の属性であるNTYPEを付与する．
これは，後述する英語のf-structureと平行にするためでもある．
通貨に関する語彙カテゴリは[CITE]と同様にその語彙的な特徴から二つに分ける．
まず，数詞の後に連接する後置詞，つまりいわゆる助数詞とほぼ同じふるまいをする語群である．
この語彙カテゴリに属する語はEDR概念辞書の「計量の単位」（概念ID `30f93d'）の下位概念である「金銭の単位」（概念ID `4446bd'）の直下にある語を採用した．
ただし，これらの語のうち「両」や「文」など通貨の単位ではあるものの現在ほとんど使われておらず，助数詞の他のカテゴリに分類した方が適切であると判断した語は除いた．
一方，数詞の前に連接する前置詞のカテゴリにはコーパスを観察した結果得られた3語だけが割り当てられている．
これらの語は助数詞というよりは純粋な名詞，もしくは記号としての性質が強い．
しかし，通貨に関する数量表現の整合を考慮して，これらの語にも語彙カテゴリと文法ルールを割り当てた．
通貨も単位と同様の理由から名詞のカテゴリも割り当て，NTYPE属性も付与する．
数量に関する語彙カテゴリはもっとも典型的な助数詞と言える語に割り当てるカテゴリである．
このカテゴリには，助数詞の表層を示すCLASSIFIER-FORM属性と助数詞の性質を示すCLASSIFIER-TYPE属性を付与する．
このカテゴリに属する語はIPA辞書[CITE]に登録されている接尾語のうち，数えられるものを特徴づける語を人手で選別した．
順番に関する語彙カテゴリは物事の順序を示す助数詞である．
このカテゴリにもCLASSIFIER-FORMとCLASSIFIER-TYPE属性を与える．
このカテゴリには，英語の序数を英訳したときに用いられる語である「等」，「位」，「号」，「級」，「流」及びIPA辞書において品詞が助数詞として定義されている語のうち「目」，「番」，「次」を含む語で，単位を示す「貫目」，「次元」を除いた語を採用した．
表[REF_grammar-table]に助数詞の語彙カテゴリの一覧を示す．
本節では数詞が助数詞もしくは名詞に連接して数量を表現している構文を解析するための文法について述べる．
助数詞の語彙カテゴリは[REF_lex]節のものを用いる．
単位や通貨に関する文法規則を([REF_grammar-unit])に示す．
単位や通貨を表す助数詞が数詞と連接する場合には，助数詞をPREDとし，数詞がそれを修飾する．
これは英語の``3 kg''や``10 dollars''のf-structureとの整合性を図ると同時に，[REF_lex]節でも述べたようにこれらの助数詞が接尾辞というよりもむしろ独立した名詞としての性質が強いと考えるからである．
単位・通貨は修飾先の名詞の属性について述べるために用いられる．
例えば「60デニールのストッキング」であれば「60デニール」はストッキングの数量ではなく，「繊維密度」を表現しているのであり，「300円のストッキング」の「300円」はストッキングの「価格」を表現している．
つまり「60デニール（という繊維密度）のストッキング」，「300円（という価格）のストッキング」と解釈できる．
従って，「60」や「300」などの数詞は直接「ストッキング」を修飾しているのではなく，「デニール」や「円」を修飾しているとして解析するのが妥当である．
さらに，通貨を示す接頭語が数詞に連接する表現を解析する文法を([REF_grammar-currency])に示す．
これも上記と同じ理由から接頭語をPREDとし，数詞がそれを修飾する．
Nadj:体言　NUMBER:数詞　CL_unit:単位に関する助数詞　CL_currency:通貨に関する助数詞():省略可能[MATH]: OR PRED:主辞SPEC:指定部
CL_Pref_currency:通貨に関する接頭語
数量を表す助数詞は，数詞の中でも「もの」や「こと」の数量を表現するのに用いられる典型的なものである．
「3個のりんご」や「3箱のりんご」の「3個」や「3箱」はいずれもりんごの数や量を表している．
単位・通貨とは異なり，数詞「3」は「りんご」を直接修飾していると考えられる．
つまり，助数詞は「数え方」を表現するために補助的に用いられる接尾語として扱う．
この場合，「個」と「箱」の数え方の違いはf-structureの構造そのものには反映されないが，助数詞の表層を属性値として表現することで，オントロジなどの知識源を利用した意味解析や文脈解析の処理を利用してより詳細な数え方の違いを扱うことを想定している．
数量に関する文法規則は，数詞と助数詞だけではなく，それによって数えられる名詞についても記述する必要がある．
例えば「りんご3個」と「3個のりんご」はそれぞれ「3個」が「りんご」の数を表しているため，これらの解析結果は同じであることが望ましい．
([REF_grammar-card1])に「3個のりんご」と「りんご3個」を解析するための文法規則を示す．
この規則ではPREDはりんごであり，その数が3であると解析する．
これは英語の``3 apples''と同じf-structureを持たせることを意図した分析である．
CL_cardinal:数量に関する助数詞　PPadnominal:連体化助詞
また「3個の値段」，「3個を食べた」など，数える対象である名詞が省略され，数詞と助数詞が単独で現れる場合もある．
このような現象を解析するための文法規則を([REF_grammar-card2])に示す．
この文法規則ではPREDには代名詞を示す記号`PRO'を挿入し，その属性に表層が無いことを示す属性値nullを与える．
この操作によって，名詞の省略の有無によらず同じ構造のf-structureを出力することができる．
上述([REF_grammar-card1])と下記の([REF_grammar-card2])の二つの規則は数詞と助数詞に同時に適用される．
体言には([REF_Nadj])に示すように連体化助詞による連体修飾のための規則も定義されていることから，数量に関する表現が連体化助詞によって連体修飾を行う場合には，常に二つのf-structureが出力される．
e:省略記号
ADJUNCT:修飾成分
また，上述とは逆に，「3自衛隊」や「7競技」のように助数詞を伴わずに直接数詞が名詞に連接してその数を表すことがある．
このような現象を解析するための文法規則を([REF_grammar-card3])に示す．
この文法規則では助数詞の表層を表すCLASSIFIER-FORM属性に表層が無いことを示す属性値`null'を与えることにより，助数詞の有無によらず同じ構造のf-structureを出力することができる．
N:名詞
数詞が順番を示す表現は主に三つが想定される．
まず一つは[REF_lex]節で挙げた順番に関する助数詞が連接した場合である．
このような構文に対しては([REF_grammar-card1])の文法がほぼそのまま適用できる．
もう一つは接尾辞や接頭辞の連接によって数詞や助数詞の性質が変化する場合である．
これは，「3人目」，「5回目」のように数量を表す助数詞に接尾辞「目」が連接する場合と「第3章」，「第1回」など数詞の前に接頭辞「第」が連接する場合がある．
さらに，「第3回目」，「第5次」など，接頭辞は助数詞が順番を示していても任意に連接する場合がある．
これらの現象を解析するための文法規則を([REF_grammar-ord1])に示す．
助数詞の属性値が基数を示すcardinalであっても，数詞の示す数の性質は基数から序数に変化する．
従って，語彙ルールには接尾辞によって数詞の属性NUMBER-TYPEが序数を示す値ordinalになる可能性について記述しておく必要がある．
([REF_grammar-ord2])に数量を示す助数詞「回」の語彙規則の記述例を示す．
CL_Pre_ord:第CL_Post_ord:目
[MATH]:制約条件の相等
さらに接頭辞「第」は「第3の男」，「第6のコース」のように助数詞を伴わない単独の数詞に連接して数の性質を序数にする場合がある．
このような現象を解析するための文法規則を([REF_grammar-ord3])に示す．
[CITE]は，可算名詞を修飾する助数詞の処理において，「猫を2匹飼う」のように，格助詞「を」に連接するNPの後に単独で現れる数詞と助数詞をNPの修飾要素として扱う文法規則を提案している．
しかし，本稿の文法規則はこのように数詞と助数詞が単独で現れる場合には助数詞の修飾先として代名詞を示す記号`PRO'を挿入する．
これは，「2匹」と「猫」の関係が統語機能的な修飾関係にあるのではなく，照応関係にあると考えるからである．
[CITE]では，f-structureでは統語機能的関係を表現すべきであり，照応的な関係はその対象としないと述べているが，本稿もこの立場から文法規則を設計した．
日本語構文では数量表現が指すNPが必ず数量表現の直前に現れるとは限らない．
例えば「猫をマンションで2匹飼っていた」のように，「2匹」の係り先が構文中の任意の場所に現れる可能性がある．
[CITE]の文法規則では修飾先のNPが直前に現れない場合は数量詞の修飾を特定しない．
つまり本稿と同様に照応的な関係として解析する．
しかしその結果，「猫をマンションで2匹飼っていた」と「マンションで猫を2匹飼っていた」の解析結果が異なることになる．
本稿では，こういった単なる語順の違いにf-structureが影響されないことを配慮している．

LFG規則の妥当性の検証と解析精度の評価実験を行う処理は[CITE]に改良を加えて拡張した日本語LFG解析システムを用いる．
図[REF_kousei]に，本稿で用いる日本語LFGシステムの構成を示す．
まず日本語入力文が日本語taggerに渡される．
日本語taggerではChaSen [CITE]による形態素解析が行われる．
その結果に表層文字列や品詞情報を利用した形態素区切りの修正ルールを適用し，修正された形態素列に品詞情報を利用したアノテーションルールによってtagを付与する．
tagが付与された形態素列をXerox Linguistic Environment (XLE)に入力する．
XLEはLFG理論の仕様をほぼ完全に実装した処理系である[CITE]．
日本語システムは大きく分けて3種類のデータで構成されている．
一つはメモリ容量や探索深さ，LFG規則の優先順位などの設定を定義するデータ群である．
二つ目はLFGの文法理論に沿って実装された文法規則群である．
[REF_grammar]章で提案した文法規則群は名詞句に関する文法規則に追加されている．
三つ目は語彙規則群である．
[REF_lex]章で提案した助数詞に関する語彙規則はここに追加されている．
本節では[REF_rule]章で提案したLFG規則が導出するf-structureが[REF_mokuteki]節で設定した基準1を満たしているかを検証するために，同じ統語意味構造を持ちながらも語順の変化や省略によって表層形が異なった構文のf-structureを比較する．
一般に通貨や単位は数詞を伴わないで単独の名詞として用いられる例も多い．
そこで通貨の助数詞が数詞を伴う構文「100ドルを両替した。
」に対して文法規則([REF_grammar-card1])を適応して導出したf-structureと数詞を伴わない構文「ドルを両替した。
」のf-structureを図[REF_currency]に示す．
両者を比較すると同じ構造を持っていることが分かる．
次に数量に関する表現のf-structureについて検討する．
数量を表現する文法規則は[REF_grammar]節の文法規則([REF_grammar-card1])と文法規則([REF_grammar-card2])があり，これらは同時に適用されるので必ず2通りのf-structureが出力される．
「3箱の煙草」について図[REF_3box-a]に文法規則([REF_grammar-card1])によって導出されたf-structureを図[REF_3box-b]に文法規則([REF_grammar-card2])によって導出されたf-structureを示す．
図[REF_3box-a]のf-structureで「煙草」のSPECのNUMBER属性中のPREDが「3」になっているのは，煙草の数量が3であることを表現している．
従って，正しいf-structureは文法規則([REF_grammar-card1])によって導出された図[REF_3box-a]のf-structureである．
さらに，助数詞を伴わず直接数詞が名詞を修飾してその数を表す場合も，文法規則([REF_grammar-card3])によって図[REF_3box-a]と同じ構造のf-structureで表現される．
図[REF_3meigara]に「3銘柄」のf-structureを示す．
しかし，数詞の数える対象が係り先の名詞ではない場合がある．
例えば，「3箱の値段」という表現において数詞「3」の数える対象は「値段」ではない．
この名詞句の解釈は「3箱の何か（例えば煙草）の値段」とするのが妥当である．
図[REF_3box-c]と図[REF_3box-d]に「3箱の値段」のf-structureを示す．
文法規則([REF_grammar-card2])によって導出された図[REF_3box-d]のf-structureでは表層が省略されていることを現すPRON-TYPEの属性値nullを持つ代名詞`pro'の数量として表現されている．
つまり，図[REF_3box-d]のf-structureが「3箱の値段」の正しい統語意味構造を表している．
また，数量表現が係り先の名詞を伴わずに単独で現れる場合も([REF_grammar-card2])によって適切なf-structureを出力する．
例として「彼が選んだ3箱」のf-structureを図[REF_3box-tandoku]に示す．
次に，順序を示す表現について検討する．
それぞれの表現の差異は，属性や属性値によって表現されるが，基本的な構造はすべて等しいことが分かる．
図[REF_3banme]に文法規則([REF_grammar-ord1])によって導出された「3番目の男」のf-structureを示す．
「番目」は順番を示す助数詞の語彙カテゴリが割り当てられているため，CLASSIFIER-TYPE属性とNUMBER-TYPE属性の値は共に序数を示すord(inal)になっている．
図[REF_3ninme]に文法規則([REF_grammar-ord2])によって導出された「3人目の男」のf-structureを示す．
「人」は数量を示す助数詞の語彙カテゴリが割り当てられているため，CLASSIFIER-TYPE属性の値には基数を示すcard(inal)が入る．
しかし，接尾辞「目」が順番を表現しているためNUMBER-TYPE属性の値が序数を示すord(inal)になっている．
図[REF_dai3]に文法規則([REF_grammar-ord3])によって導出された「第3の男」のf-structureを示す．
この名詞句には助数詞が存在せず，助数詞の省略も想定され難いためCLASSIFIER-TYPE属性を持たない．
しかし，接頭辞「第」が順番を表現していることをNUMBER-TYPE属性の値がord(inal)になっていることで示している．
本節では[REF_mokuteki]節で設定した基準2について検証するために，日本語の表現に対応する他言語のf-structureと日本語のf-structureの比較を行う．
まず通貨・数量に関する表現のf-structureについて検討する．
図[REF_currency-e]に「100ドルを両替した．
」の英訳``I exchanged 100 dollars.''を入力として[CITE]の英語LFGシステムで出力されたf-structureを示す．
[REF_fstr-j]節の図[REF_currency]の日本語のf-structureと比較すると同じ構造を持っていることが分かる．
次に数量に関する表現のf-structureについて中国語のf-structureとの比較を行う．
数量に関する表現は助数詞を伴う場合と助数詞が省略される場合がある．
助数詞を伴う表現については[CITE]の中国語LFGシステムで出力されたf-structureと，助数詞を伴わない表現については英語のf-structureと比較する．
図[REF_3bin-1-j]に文法規則([REF_grammar-card1])が導出した「三本の酒」のf-structureを，図[REF_3bin-1-c]に「三瓶酒」に対応する中国語のf-structureを示す．
図[REF_3bin-1-c]のf-structureでは助数詞のための属性であるCLASSIFIERをPREDにしている．
これは，中国語の助数詞が連体修飾を受けることができるほど名詞としての性質が強いためである．
このような違いはあるものの，この表現に対するする日本語と中国語のf-structureの基本的構造はほぼ同じである．
次に，助数詞が数える対象である名詞が存在しない数量表現について「彼女が三本を飲んだ」と「\KetujiX{16-3ia3f00.eps}喝了三瓶」の解析結果を比較する．
図[REF_3bin-2-j]に日本語のf-structureを，図[REF_3bin-2-c]に中国語のf-strcutureを示す．
両者とも数える対象に，代名詞を示す`pro'を代入している．
これは，数える対象の名詞が存在する場合のf-structureとの整合性を図るための手当てであるが，それと同時に中国語と日本語の間のf-structreの整合性を保持することも可能にしている．
助数詞が省略される表現については英語のf-structureと比較を行う．
図[REF_3families]に「3家族」と``3 families''のf-structureを示す．
日本語のf-structureでは助数詞が存在しないことを明示的に表現するためにCLASSIFIER-FORM属性がnullになっているが，英語では基本的に助数詞を用いないので，それに対応する属性は存在しない．
しかし，基本的な構造は等しいことが分かる．
次に順序を示す表現について検討する．
図[REF_3rd-man]に[REF_fstr-j]節の図[REF_3banme]〜[REF_dai3]に対応する英語``third man''のf-structureを示す．
特に図[REF_dai3]の「第3の男」のf-structureとは同じ構造を持っている．

解析結果の評価はf-structureを[CITE]に準拠した形式(triples)に変換して行う．
この変換の際に文法的な情報ではなく実装の都合上付与されている属性は削除する．
図[REF_triples]に「3個のりんご」のf-structureとtriplesの対応関係を示す．
triples形式は``属性C（ノードA，ノードB）''もしくは``属性C（ノードA，属性値B）''という書式で表現される．
いずれも「Aの属性CはBである」と解釈する．
属性の要素はノードか値であるが，ノードは必ずノードIDを持つため，同じ語が同一文中に現れても区別が可能である．
図[REF_triples]中のtriples形式のデータは「りんご」のNUMBER属性が3であること，「3」のCLASSIFIER-FORM属性の値は「個」であること，「3」のCLASSIFIER-TYPE属性の値がcardinalであること，「3」のNUMBER-TYPE属性の値がcardinalであることを表現している．
解析対象はEDRコーパスから数詞を含む文を無作為に選び，単位・通貨に関する表現，数量に関する表現，そして順序に関する表現を人手で200表現ずつ抽出した．
本稿で提案する規則の効果を確認するために，精度の比較を[CITE]で採用されているLFG規則の解析結果と行う．
今回の提案規則による効果を正確に計測するために，旧規則の解析結果に単なる仕様変更によって正解にないNUMBER-TYPEなどの属性が含まれる場合はこの属性を削除した．
評価実験におけるtriplesに含まれる属性の一覧を表[REF_feature-table]に示す．
今回の実験では，多義性の解消を行っていないため，複数の解析結果が出力される可能性もあるが，精度の測定はそれらの解析結果すべてに対して行った．
例えば，[REF_fstr-j]節で「3箱の煙草」に対して得られた図[REF_3box-a]と図[REF_3box-b]の二つの解析結果のうち，図[REF_3box-a]が正解であるならば，この解析結果の精度は下記の表[REF_tagi-kekka]のように求められる．
今回提案したLFG規則のみを評価するため，解析する範囲を数詞，助数詞及びそれらが連体連体修飾を行っている場合はその修飾先の名詞句，連体修飾を受けている場合にはその修飾成分のみに限定した．
また「およそ30個」の「およそ」や「5%以下」の「以下」など直接連接して助数詞や数詞の修飾を行う付属語的な名詞も対象とした．
下記に解析対象の例を示す．
{単位・通貨に関する表現}
{400万円のミンクのコート、250万円の腕時計も頭にちらついた。
}
{IBMおよびコンパチはパソコン全体の80％以上を占めた。
}
{数量に関する表現}
{3国合わせての総人口が約750万人だから5人に1人が参加したことになる。
}
{順序に関する表現}
{2番目のLANは事務職員のためのLANだ。
}
{ASTの第1のライバルである強化ボードの開発者クォードラムでは、IBMが新しいラインに残したメモリー拡張のギャップに焦点を合わせている。
}
表[REF_unit-kekka]に単位・通貨に関する表現の解析結果を，表[REF_unit-kekka-old]と表[REF_unit-kekka-new]に属性別の結果を示す．
旧規則では単位・通貨と他の助数詞との区別をしていなかったため，CLASSIFIER-FORM属性とCLASSIFIER-TYPE属性が解析結果に含まれる．
そこで，今回の比較は，この二つの属性を予め削除して行った．
今回提案したLFG規則により全体的なF値はおよそ25%向上した．
表[REF_unit-kekka-old]のfragmentは，部分解析結果の属性であり，旧規則では適用される規則が存在せず部分解析しかできなかった表現があることを示している．
表[REF_unit-kekka-new]にこのfragment属性が存在しないことは提案規則ではすべて全体的な解析に成功していることを示している．
また，EDR概念辞書を用いて語彙エントリを追加したことにより，修飾関係を示す属性adjunctのF値が向上している．
表[REF_unit-kekka-new]でsubj，tense，atype，clause_typeのprecisionの値が下がっているのはすべての単位・通貨に名詞のlexical categoryを割り当てた結果，文法規則([REF_grammar-card3])が誤って適用されてしまう例があったためである．
今後は一般的に名詞としても用いられる単位名とほとんど名詞としては現れない単位の分別が必要である．
併置関係を示す属性conjのF値が両規則ともに0なのは，下記の例にあるような数詞と記号による表現を提案規則でカバーできなかったためである．
特に単位に関する表現は記号を含む表現が多く見られ，今後はこれらの記号と数詞に関する規則の精緻化が課題である．
{640×400ドットの解像度でグラフィックを表示できるという。
}
{旧システムの30％〜50％をリプレースする大規模な計画で、2年がかりで構築する。
}
表[REF_card-kekka]に数量に関する表現の解析結果を，表[REF_card-kekka-old]と表[REF_card-kekka-new]に属性別の結果を示す．
全体的なF値はおよそ5％向上している．
両者とも連体修飾を示すadjunct属性の値が低いのは，文法規則([REF_grammar-card1])と文法規則([REF_grammar-card2])によって生じた多義性によるものである．
この種の多義性を解消するためには[CITE]や[CITE]で提案されているオントロジーのような知識資源の利用が有効であると思われる．
その一方で，下記の例の「2人」と「仲間」のように，助数詞と数えられる対象の関係だけでは正しいf-structureを決定することが困難である場合もあり，文脈解析のようなより深い知識処理が必要である．
{3年前には、横浜防衛施設局に仲間2人が火炎瓶を投げて逮捕された。
}
{2人の仲間だったシンイチは、いつか姿を消した。
}
さらに，連体修飾成分と数詞，助数詞の関係を表現するのが難しい場合があった．
下記の文の「長男と2人」は「長男と（自分の）2人」を指しており，「長男」と「2人」の並置と考えるよりは「長男と」が「2人」を修飾すると解釈するのが適切であるが，本稿で提案したLFG規則ではこのような表現は扱えない．
{10年前、姉妹を頼って、長男と2人で引き揚げてきた。
}
また，本稿で提案した規則では評価用コーパス中の下記の表現が解析できなかった．
「100万票差」の「差」，あるいは「合計」，「積」なども含めて数量操作に関わる名詞については今後f-structureの表現方法も含めて扱い方を検討する必要がある．
{71年の大統領選挙で朴大統領に約100万票差で敗れる。
}
{11の市民団体が実行委員会を結成し、それぞれの企画を原爆忌の9日まで繰り広げる。
}
{これで輸入解禁州は全部で38になる。
}
上記の「11の市民団体」の「11」や「全部で38になる」の「38」のように，助数詞や接頭辞，接尾辞など数詞の性質を表現する機能語が連接せずに名詞を修飾している場合，その数詞が何を表現しているのか判断するのが難しい．
評価コーパスには数量を表す例しか出現しなかったが，下記の例文の「二百万のお宝」の「二百万」は「お宝」である「トルエン」の価格を表現しており，「一の富」の「一」は宝くじの一等を示している．
{千本の物が—。
二百万のお宝が。
そのとき、トルエンが爆発した。
[大沢在昌「ちきこん」『らんぼう』新潮文庫(1998)]}
{ふつうこれは百回ついたものだそうで、百回目を突きどめといって、これがつまり一の富、千両もらえるわけである。
[横溝正史「鶴の千番」『くらやみ婿』春陽文庫(1984)]}
表[REF_ord-kekka]に順序に関する表現の解析結果を，表[REF_ord-kekka-old]と表[REF_ord-kekka-new]に属性別の結果を示す．
旧文法ではCLASSIFIER-TYPE属性の序数を表現する値ordinalを定義していなかったため，解析結果を公平に比較するためにこの属性を削除した．
それでも，全体的なF値は21%以上向上した．
ただし，本稿で提案した規則では扱えない表現も見られた．
順序に関する表現は，通貨・単位や数量に関する表現よりも，助詞を介さずに直接他の名詞と連結して，複合名詞を形成する場合が多く，下記のように係り先がうまく決定できない例が散見された．
本稿で用いた日本語LFGシステムでは，処理時間を高速化するために[CITE]の手法を用いて，名詞が二つ以上連続するときにはすべて最右の名詞を主辞とする複合名詞としてまとめる処理を実施する．
その結果，下記の(a)では「第2次」が複合名詞中で最も右にある「撤兵」を修飾するため正しいf-structureを得ることができる．
しかし，(b)では「2次」が複合名詞中の「下請け」を修飾しているので本稿のシステムでは誤ったf-structureを導出する．
{このサマー地区はベトナム軍が第2次カンボジア撤兵の際に通過した地だ。
}
{2次下請け工場になると、忙しさだけは1次下請けに負けない。
}
また，下記の「版」，「条」，「面」のように助数詞が数量を現すものであっても実際には順序に関する表現である例があった．
これは[CITE]で示唆されているように，助数詞には基数と序数の両方を表すものがあるためであると思われる．
今後は，こういった助数詞の特定も必要である．
{この批評は大阪本社発行の13版をもとにしています。
}
{航空法施行規則145条に規定された各種の航空計器および航法装置。
}
{これは先日、離婚請求権が有責者にも認められたという判決が、新聞の1面に出た翌日の会話である。
}
