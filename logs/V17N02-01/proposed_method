本研究で提案する翻字手法の概要を図[REF_fig:1]に示す．
図[REF_fig:1]は，[CITE]と同様に左から「発音モデル」，「印象モデル」，「言語モデル」に大別される．
図[REF_fig:1]において，太い破線で囲まれた部分が本研究の特長である．
以下，図[REF_fig:1]に基づいて翻字手法について説明する．
本手法への入力は2つある．
1つ目は，翻字対象となる外国語の用語である．
2つ目は，翻字対象の種別として「人名」，「企業名」，「商品名」などのカテゴリを入力する．
本手法はこれらの入力に対して，1つ以上の漢字列を翻字の候補として出力する．
[CITE]では，3つ目の入力として翻字対象の意味や印象を表す「印象キーワード」を人手で入力する必要がある．
しかし，本手法ではWebから関連語を自動抽出する．
「発音モデル」，「印象モデル」，「言語モデル」に基づく翻字手法や関連語抽出手法そのものに新規性はない．
本研究の貢献は，{[CITE]の翻字手法に関連語抽出手法を統合して，ユーザが印象キーワードを与える負担を削減する点にある．
図[REF_fig:1]の最左では，「発音モデル」によって翻字対象と発音が似ている漢字列とそれぞれの確率が得られており，これらの漢字列が翻字候補となる．
現在，翻字対象となる外国語として日本語のカタカナ語を対象としている．
カタカナ語は発音表記であるローマ字に変換することが容易だからである．
ただし，ローマ字表記に変換することができれば，他の言語を入力することも可能である．
図[REF_fig:1]の中央では，「印象モデル」によって，自動抽出した翻字対象の関連語に関連する漢字とそれぞれの確率が得られている．
図[REF_fig:1]では，「\UTFC{559C}\UTFC{7231}」，「\UTFC{666E}\UTFC{53CA}」，「\UTFC{666E}\UTFC{901A}」，「\UTFC{597D}」といった関連語の集合を用いて，「\UTFC{7231}」，「\UTFC{666E}」，「\UTFC{597D}」といった漢字とそれぞれの確率が得られている．
[CITE]と[CITE]では，関連語（印象キーワード）はユーザが中国語で与える必要がある．
したがって，ユーザは翻字対象が指す実体や概念について知っていなければならず，また，中国語も知っていなければならない．
その結果，システムを利用できるユーザが制限されてしまう．
本研究は関連語を自動抽出して，この問題を解消する．
なお，「印象キーワード」という用語は[CITE]に従っており，実際には人手で与えた関連語である．
図[REF_fig:1]の最右では，入力された種別に対応する言語モデルとして「企業名言語モデル」が選ばれている．
発音モデルで得られた翻字候補は複数になる場合があるため，それぞれに順位を付ける．
具体的には，発音モデルで得られた確率を印象モデルおよび言語モデルで得られた漢字の確率と統合して，翻字対象に順位を付ける．
以下，[REF_sec:prob]で確率的な漢字選択手法の全体像について説明する．
[REF_sec:pronu]〜[REF_sec:categ]で「発音」，「印象」，「言語」のモデル化について個別に説明し，[REF_sec:auto]で関連語の抽出について説明する．
[REF_sec:prob]〜[REF_sec:categ]は[CITE]に基づいている．
本研究における翻字の目的は，「翻字対象のローマ字表記[MATH]」，「関連語[MATH]」，「翻字対象の種別[MATH]」が与えられた条件のもとで，[MATH]が最大になる漢字列[MATH]を選択することである．
式([REF_eq:Bayes])を用いて[MATH]を計算する．
式([REF_eq:Bayes])の1行目はベイズの定理を用いた変形であり，2行目では[MATH]，[MATH]，[MATH]が互いに独立であると仮定している．
[MATH]は[MATH]に依存しないため無視する．
最終的に，[MATH]は[MATH]，[MATH]，[MATH]の積として近似され，それぞれ「発音モデル」，「印象モデル」，「言語モデル」と呼ばれる．
発音モデルは，中国語の漢字列[MATH]が与えられた条件のもとで，ローマ字表記[MATH]が生成される条件付き確率[MATH]であり，式([REF_eq:Pronun])を用いて計算する．
ローマ字表記はヘボン式を使用し，中国語のピンイン[MATH]を中間言語として，中国語の漢字に変換する．
[MATH]，[MATH]，[MATH]はそれぞれローマ字の音節，ピンインの音節，漢字１文字である．
例えば，漢字列「\UTFC{7231}\UTFC{666E}\UTFC{751F}」が与えられた条件のもとで，ローマ字の音節「e pu son」が生成される確率を計算する場合は，ピンインの音節「ai pu sheng」を中継して，式([REF_eq:Cyukei])のように計算する．
式([REF_eq:Pronun])中の[MATH]と[MATH]は式([REF_eq:Ryk])を用いて計算する．
[MATH]はローマ字の音節[MATH]とピンインの音節[MATH]が対応する頻度であり，[MATH]はピンインの音節[MATH]と漢字[MATH]が対応する頻度である．
これらの頻度を計算するために，日中対訳辞書[CITE]のピンイン付き中国語と対応するカタカナ語[MATH]対を参考にして，ローマ字とピンインの音節，ピンインの音節と漢字を人手で対応付けた．
これらの一部をそれぞれ表１と2に示す．
表[REF_table:Pry]と[REF_table:Pyk]において，中国語のピンインには，発音の四声に基づいて1〜4の識別子が付けられている．
表[REF_table:Pry]では，1つのローマ字音節[MATH]に複数のピンインの音節[MATH]が対応している．
例えば，ローマ字の「a」に対して，3種類のピンイン音節「a1」，「ai4」，「an1」が対応している．
表[REF_table:Pyk]では，確率[MATH]は[MATH]になる場合が多く，一般的には１つの漢字は１つのピンインと対応することが分かる．
しかし，「\UTFC{4F5B}」と「\UTFC{4F3D}」はそれぞれ2つのピンインと対応している．
翻字を行う際に，ローマ字表記[MATH]の分割が複数ある場合は，すべての可能な分割を考慮する．
例えば，「epuson（エプソン）」は，二つのピンイン列と一致して次のように分割される．
e pu son: ai pu sheng
e pu so n: ai pu sou an
印象モデルは，漢字列[MATH]が与えられた条件のもとで，関連語列[MATH]が生成される条件付き確率[MATH]である．
[MATH]と[MATH]をそれぞれ単語[MATH]と漢字１文字[MATH]の単位で分割して，[MATH]を[MATH]に基づいて近似する．
しかし，[MATH]と[MATH]の数が常に同じであるとは限らないため，式([REF_eq:Ass])を用いて[MATH]を計算する．
すなわち，各[MATH]について[MATH]が最大となる[MATH]だけを考慮する．
表[REF_table:Pwk]に漢字3つと関連語4つに関する[MATH]を示す．
表中の「--」は，[MATH]と[MATH]が対応しないことを示している．
表[REF_table:Pwk]の例において，[MATH]は式([REF_eq:wk])のように計算される．
[MATH]は式([REF_eq:Ass2])を用いて計算する．
[MATH]は[MATH]と[MATH]の共起頻度であり，本研究では漢字字典を用いて計算する．
すなわち，漢字字典の見出し漢字を[MATH]として，[MATH]の意味記述に使用されている単語を[MATH]とする．
中国語の漢字字典から外来語の表記に良く使われる見出し漢字[MATH]文字を人手で選択し，見出し漢字の意味記述をSuperMorphoで形態素解析して，単語と見出し漢字の共起頻度を計算した．
表[REF_table:kanji2word]に[MATH]の例を示す．
表[REF_table:kanji2word]では，[MATH]が高いほど，漢字と単語の関係が強いことを示している．
例えば，「\UTFC{9AD8}（高い）」，「\UTFC{597D}（良い）」，「\UTFC{4E50}（楽しい）」という3つの漢字[MATH]に対して[MATH]が最も高い単語[MATH]は，それぞれ「\UTFC{52A0}\UTFC{9AD8}（高くする）」，「\UTFC{597D}\UTFC{5403}（おいしい）」，「\UTFC{4E50}\UTFC{4E8E}（喜び）」である．
ここで括弧内は各中国語に対する日本語訳を示す．
言語モデル[MATH]は，用語の種別[MATH]に関するコーパスを用いてモデル化する．
具体的には，式([REF_eq:Language])を用いて計算する．
[MATH]は[MATH]に依存しないので無視する．
原理的には，種別[MATH]のコーパスが与えられた条件のもとで，漢字列[MATH]が生成される条件付き確率を計算する．
実際は，種別[MATH]に関するコーパスを用いて漢字のNグラム確率を計算する．
現在は，[MATH]としている．
本研究では，以下に示す3種類の言語モデルを構築し，実験に使用した．
標準言語モデル：中国北京大学計算語言学研究所が富士通と共同で作成した「PFR\UTFC{4EBA}\UTFC{6C11}\UTFC{65E5}\UTFC{62A5}\UTFC{6CE8}\UTFC{8BED}\UTFC{6599}\UTFC{5E93}（人民日報タグ付きコーパス）」1998年1月の新聞記事一ヶ月分から構築したモデルであり，異なり[MATH]（延べ[MATH]）の漢字を含む．
企業名言語モデル：中国科学院計算技術研究所が主催している「\UTFC{4E2D}\UTFC{6587}\UTFC{81EA}\UTFC{7136}\UTFC{8BED}\UTFC{8A00}\UTFC{5904}\UTFC{7406}\UTFC{5F00}\UTFC{653E}\UTFC{5E73}\UTFC{53F0}（中国語自然言語処理オープンソース）」が提供している[MATH]社を含む「\UTFC{516C}\UTFC{53F8}\UTFC{540D}\UTFC{5F55}\UTFC{5E93}（企業名リスト）」から構築したモデルであり，異なり[MATH]（延べ[MATH]）の漢字を含む．
人名言語モデル：上記「\UTFC{4E2D}\UTFC{6587}\UTFC{81EA}\UTFC{7136}\UTFC{8BED}\UTFC{8A00}\UTFC{5904}\UTFC{7406}\UTFC{5F00}\UTFC{653E}\UTFC{5E73}\UTFC{53F0}」が提供している「\UTFC{5E26}\UTFC{8BCD}\UTFC{6027}\UTFC{8BCD}\UTFC{9891}\UTFC{7684}\UTFC{6269}\UTFC{5C55}\UTFC{8BCD}\UTFC{5178}（品詞および出現頻度付き拡張辞典）」から[MATH]件の人名を抽出して構築したモデルであり，異なり[MATH]（延べ[MATH]）の漢字を含む．
また，上記のモデルを構築する際に，SuperMorphoを用いてコーパスの形態素解析を行い，句読点，記号，機能語を事前に削除した．
本研究では，翻字対象が指す実体や概念に対して，その意味や印象を中国語で表記した関連語をWebから自動的に抽出し，翻字に利用する．
図[REF_fig:2]に，「エプソン」の関連語を自動抽出する過程を示す．
図[REF_fig:2]の上部では翻字対象に関連する関連語候補を抽出し，下部では抽出する関連語を選択している．
以下，それぞれについて説明する．
翻字対象の関連語を抽出するためには，翻字対象に関する文書が必要である．
例えば，翻字対象が商品名であれば，その商品を紹介する文書であり，翻字対象が企業名であれば，企業の理念などに関する文書である．
このような文書として，フリー百科事典「ウィキペディア（Wikipedia）」日本語版の記事を利用した．
2009年6月15日の時点では約[MATH]万の項目があり，一般名詞，人名，地名，企業名，商品名などが登録されている．
図{[REF_fig:karati]}は地名「カラチ」をWikipediaで検索して得られた記事ページの抜粋である．
図{[REF_fig:karati]}において，最上部の「カラチ」は記事の名称（記事名）であり，その下は本文である．
図{[REF_fig:karati]}の{「目次」}に示されているように，本文は「1歴史」，{「2気候」}，{「3人口統計」}などの「セクション（節）」によって構造化されることがある．
関連語候補の抽出は以下の手順に従って行う．
翻字対象語をWikipediaで検索して記事ページを取得する．
現在の手法では，記事ページがない用語に対しては関連語を抽出することができない．
取得した記事ページからHTMLタグを削除し，茶筌で形態素解析を行う．
形態素解析の結果から，名詞と形容詞を翻字対象の関連語候補として抽出する．
ただし，「名詞」のうち「名詞—数」，「名詞—接尾—助数詞」，「名詞—副詞可能」，「名詞—非自立」，「名詞—代名詞」は抽出しない．
図[REF_fig:2]では，「普及」や「普通」などの名詞と「好き」や「良い」などの形容詞が関連語の候補として抽出されている．
ここで，図{[REF_fig:karati]}に示した記事ページの本文は構造化されているため，上記の手順（2）において，関連語抽出に有効な特定のセクション内だけを解析対象とする手法が考えられる．
しかし，Wikipediaのガイドブックによる記事ページの編集方針では，記事は「記事名（項目名）」と「本文」で構成され，本文の基本構成は概要から次第に詳細内容になり，段落の数が多くなるようなら，「見出し」を付けて「セクション（節）」に分けるとしか規定していない．
見出しの付け方やセクションの分け方は記事の著者によって方針が異なる．
例えば，図{[REF_fig:karati]}で示した「カラチ」の記事ページは，「歴史」，「気候」，「人口統計」，「交通」，「姉妹都市」，「脚注」，「ギャラリー」の7セクションで構成されている．
一方，「ハワイ」の記事ページは，「歴史」，「地理」，「人口動勢」，「政治と法律」，「経済」，「教育」，「芸術・文化」，「日本との関わり」，「その他」，「注」，「関連項目」，「外部リンク」の12セクションで構成されている．
同じ地名に関する記述であるにも拘らず，「カラチ」と「ハワイ」の記事に共通するセクションは「歴史」だけである．
さらに，同じ見出しのセクションでも，著者によって記述の方針が異なる可能性がある．
このような状況では関連語抽出に有効なセクションを事前に定義することが困難である．
そこで，今回の実験では本文全体を対象として関連語の候補を抽出した．
Wikipediaから抽出した名詞と形容詞の中には，翻字対象との関連が低い語も含まれているため，翻字に使用する関連語を選択する必要がある．
単語間の関連度を計算する手法[CITE]が複数提案されている．
本研究では，翻字対象と関連語候補間の相互情報量[CITE]を計算して，その値が高い語を関連語として抽出する．
ここでいう相互情報量とは，正確にはpointwise mutual informationであり，式([REF_eq:mutual])を用いて計算する．
[MATH]と[MATH]は単語[MATH]と[MATH]それぞれの出現確率であり，[MATH]は[MATH]と[MATH]が同時に出現する確率である．
ここでは便宜上，[MATH]を翻字対象，[MATH]を1つの関連語候補とする．
図[REF_fig:2]の例では，[MATH]は「エプソン」であり，[MATH]は「好き，普及，普遍，良い」のいずれかである．
関連語の選択は以下の手順に従って行う．
[MATH]，[MATH]，[MATH]を計算するために，「[MATH]」，「[MATH]」，「[MATH] and [MATH]」を検索キーワードとしてYahoo! JAPANで検索し，検索結果の総数でそれぞれの確率を近似する．
式([REF_eq:mutual])の値が高い候補を関連語として選択する．
図[REF_fig:2]では，「エプソン」の関連語として「好き」，「普及」，「普通」，「良い」が選ばれている．
選択する関連語の件数は実験的に決めるパラメタである．
[REF_sec:exp]の評価実験では，関連語の件数を段階的に変化させて翻字への影響について考察する．
（2）で選択した関連語を中国語に翻訳する．
原理的には，この作業は機械翻訳システムを利用することで自動化することができる．
しかし，現在はYahoo! JAPANを利用して人手で翻訳している．
ただし，Yahoo! JAPANで翻訳できずに原言語がそのまま返される関連語は削除する．
図[REF_fig:2]では，「\UTFC{559C}\UTFC{7231}」，「\UTFC{666E}\UTFC{53CA}」，「\UTFC{666E}\UTFC{901A}」，「\UTFC{597D}」はそれぞれ「好き」，「普及」，「普通」，「良い」に対する訳語であり，翻字対象の関連語として使用される．
