本研究で提案するゼロ代名詞の照応解析手法
\label{sec:houhou}

\subsection{システムの概要}
\label{sec:gaiyou}

本研究で提案するゼロ代名詞照応解析システムの構成を\mbox{図
  \ref{fig:system}}に示す．以下，この図に沿って処理の流れを説明する．

\begin{figure}[htbp]
  \begin{center}
    \epsfile{file=eps/overview-jp.eps,scale=0.99}
    \caption{ゼロ代名詞照応解析システムの構成}
    \label{fig:system}
  \end{center}
\end{figure}

まず，システムは入力テキストを形態素・構文解析し，述語を中心とした係り
受け情報を抽出する．本システムでは，形態素解析にJUMAN~\cite{juman98}，
構文解析にKNP~\cite{knp98}を用いる．

次に，入力テキスト中の全てのゼロ代名詞を特定する．ここでは，省略されて
いる必須格要素をゼロ代名詞として検出する．具体的には，入力テキスト中の
係り受け情報と動詞の格フレームを照合し，入力テキスト中で充足されてい
ない必須格をゼロ代名詞と見なす．

続いて，ゼロ代名詞の指示対象を特定する．検出された各ゼロ代名詞について，
テキストにおける前方の文脈から（複合）名詞を指示対象の候補として抽出す
る．原理的には，ゼロ代名詞の出現箇所以前の全文脈が探索範囲となりうる．
しかし，一般的にゼロ代名詞は文章の論理的な構造を無視して極端に離れた対
象を照応することは少ない．そこで本手法では，段落が文章の論理構造に関連
することに着目し，ゼロ代名詞の出現箇所から前段落の先頭文までを指示対象
候補の探索範囲とする．

最後に，各ゼロ代名詞に対する複数の指示対象候補を尤度に基づいて順位付け
し，出力する．本手法では，候補$a_i$がゼロ代名詞$\phi$の指示対象である
確率$P(a_i|\phi)$を計算し，その値によって順位付けを行なう．しかし，
$P(a_i|\phi)$を表層的な情報だけを用いて推定することは困難なので，$a_i$
や$\phi$を抽象的な属性で表現する必要がある．

以下，\ref{sec:detection}節でゼロ代名詞の特定方法について述べ，
\ref{sec:sosei}節でゼロ代名詞${\it \phi}$と指示対象候補$a_i$を表現
するための属性について説明する．\ref{sec:kakuritu}節以降で提案する確率
モデルの詳細とその推定方法について説明する．


\subsection{ゼロ代名詞の特定法}
\label{sec:detection}

本手法では，動詞に関する係り受け情報と格フレームを比較することで，
充足していない必須格をゼロ代名詞として検出する．

ここでは，格フレーム辞書としてIPALの基本動詞辞
書\cite{ipal87}とサ変動詞辞書を利用する．IPAL基本動詞辞書は，
和語動詞861語を意味的・統語的特性から下位範疇化した3,379のサブエントリ
からなり，動詞あたり平均3.9個のサブエントリがある．また，サ変動詞辞書
はサ変動詞50語に関する94のサブエントリからなり，動詞あたり平均1.9個の
サブエントリがある．以降，両者を合わせて「IPAL動詞辞書」と呼ぶ．図
\ref{fig:nozomu}に，動詞「臨む」の格フレームを例示する．ここで「HUM」
や「ORG」などは，それぞれ「人間」や「組織」などの名詞意味素性を表す．

\begin{figure}[htbp]
  \def\baselinestretch{}
  \begin{center}
    \small
    \begin{tabular}{|c||l|l|l|}
      \hline
      \multicolumn{1}{|c||}{フィールド名} & \multicolumn{1}{|c|}{サブエントリ1} & \multicolumn{1}{|c|}{サブエントリ2} & \multicolumn{1}{|c|}{サブエントリ3} \\
      \hline
      見出し語 & のぞむ & のぞむ & のぞむ\\
      表記 & 臨む & 臨む & 臨む\\
      意味記述 & 集会などに出席する & ある重要な場面に出会う & ある所がどこかに面している\\
      格形式1& ガ & ガ & ガ\\
      意味素性1& HUM/ORG & HUM/ORG & LOC\\ 
      格形式2 & ニ & ニ & ニ\\
      意味素性2 & ACT & ABS & LOC\\
      類義語 & 臨席する，出る & 直面する，際する & 面する，向く\\
      ‥‥ & ‥‥ & ‥‥ & ‥‥\\
      \hline
    \end{tabular}
    \caption{IPAL動詞辞書に記述された動詞「臨む」のサブエントリ（抜粋）}
    \label{fig:nozomu}
  \end{center}
\end{figure}

IPAL動詞辞書の検索は次のように行う．まず，システムはテキスト中に現れる
全ての動詞について辞書を「表記」で検索し，適合する全ての格フレームを取
得する．「表記」で適合する格フレームがない場合は，「見出し語」（読み）
で動詞辞書を検索する．「見出し語」でも格フレームが得られない場合は，さ
らに「類義語」で検索を行なう．これは，類義の動詞は同一の格フレームを持
ちやすいという知見に基づく．また，IPAL動詞辞書に記載された「類義語」は，
同一の文脈でサブエントリの動詞と置き換え可能な表現かどうかなどの基準で
選定されているため，多くの類義語はサブエントリの動詞と格フレームが一致
する．例えば，図\ref{fig:nozomu}のサブエントリ1の場合，「臨席する」
「出る」はいずれも「HUM/ORGガACTニ」という格フレームを取り得る．このよ
うに「類義語」情報を利用することにより，IPAL動詞辞書未採録の2,038語の
動詞（3,150のサブエントリ）についても，事実上，格フレームの利用が可能
となる．

なお，「表記」「見出し語」「類義語」のいずれの検索でも格フレームが得ら
れない場合は，ゼロ代名詞特定の再現率を上げるため，意味素性「不明」のガ
格のみを必須格と仮定する．よって，本システムでは対象とする動詞に制限は
ない．

一方，格フレームに記述された意味素性との照合のため，入力テキスト中の名
詞に対しても意味素性を付与する必要がある．ここで，名詞辞書としてIPAL基
本名詞辞書\cite{ipal96}などを利用することが考えられる．しかし，当該辞
書は登録語数が1,081語と少ないため，本システムでは分類語彙表
\cite{koku64}を用いる．分類語彙表には87,743語が登録されており，そのう
ち名詞が55,443語含まれる．各登録語には分類番号（意味クラス）が5桁の数
値で与えられており，名詞の場合，544種類の意味クラスがある．分類語彙表
の構造を図\ref{fig:bunruigoihyou}に示す．
\begin{figure}[htbp]
  \begin{center}
    \epsfile{file=eps/bunruigoihyou.eps,scale=0.99}
    \caption{分類語彙表の構造}
    \label{fig:bunruigoihyou}
  \end{center}
\end{figure}

なお，一つの名詞が複数の意味クラスに対応する場合，その名詞はいずれの意
味クラスにも対応するものとして扱う．また，名詞シソーラスに登録されてい
ない名詞には，一律に「未知語クラス」を与える．

IPAL動詞辞書の意味素性と分類語彙表の意味クラスとの対応付けは，村田と長
尾\citeyear{mura97}の作成した対応表（表\ref{tab:taiou}）を用いた．この
表において，例えば「120」は上位3桁が「120」である意味クラス全てに対応
する．なお，「未知語クラス」の名詞は格フレームの選択に有効な情報を与え
ないため，いずれの意味素性にも対応しないものとする．

\begin{table}[htbp]
\def\baselinestretch{}
\begin{center}
\caption{意味素性と意味クラスの対応}
\label{tab:taiou}
\smallskip \footnotesize
\begin{tabular}{l@{}ll} \hline\hline
\multicolumn{2}{l}{IPAL基本動詞辞書の意味素性} & \multicolumn{1}{l}{分類語彙表の意味クラス（上位3桁）} \\\hline
ANI & （動物） & 156 \\
HUM & （人間） & 120, 121, 122, 123, 124 \\
ORG & （組織・機関） & 125, 126, 127, 128 \\
PLA & （植物） & 155 \\
PAR & （生物の部分） & 157 \\
NAT & （自然物） & 152 \\
PRO & （生産物・道具） & 14\\
LOC & （空間・方角） & 117, 125, 126 \\
PHE & （現象名詞） & 150, 151 \\
ACT & （動作・作用） & 133, 134, 135, 136, 137, 138 \\
MEN & （精神） & 130 \\
CHA & （性質） & 112, 113, 114, 115, 158 \\
REL & （関係） & 111 \\
LIN & （言語作品） & 131, 132 \\
TIM & （時間） & 116 \\
QUA & （数量） & 119 \\
CON & （具体物） & 11, 125, 126, 13, 158 \\
ABS & （抽象物） & 12, 14, 152, 155, 156, 157 \\
DIV & （制限緩やか） & 1 \\
\hline
\end{tabular}
\end{center}
\end{table}

次の例を用いて，ゼロ代名詞の特定処理を説明する．

\begin{flushleft}
  \begin{quote}
    \begin{itemize}
    \item [（例1）]会談に\underline{臨む}ことは党内に強い異論のある並
      立制受け入れとなるため，激しい反発を呼ぶのは必至である．
    \end{itemize}
  \end{quote}
\end{flushleft}

\noindent
下線部「臨む」には図\ref{fig:nozomu}に示す3通りの格フレームが対応する．
そこで，最適な格フレームを選択するために，ニ格の「会談」をそれぞれの格
フレームのニ格と比較する．ここで，「会談」は図\ref{fig:bunruigoihyou}
より意味クラス「13133」「13531」に対応するので，表\ref{tab:taiou}より
意味素性「ACT」に対応する．よって，図\ref{fig:nozomu}のサブエントリ1が
選択される．その結果，例1中でガ格が省略されていることが分かるので，ガ
格をゼロ代名詞として検出する．なお，一つの名詞が複数の意味クラスに対応
する場合，その名詞はそれぞれの意味クラスが対応する意味素性全てに対応す
るものとして扱う．また，充足格を利用しても複数の格フレームが候補として
残る場合は，残った候補のうちIPAL基本動詞辞書で先に記載されている格フレー
ムを選択する．本来ならば，動詞の多義性解消などによって最適な格フレーム
を選択すべきである．しかし，多義性解消はそれ自身で非常に難しい研究課題
であるので，本研究では扱わなかった．

\subsection{ゼロ代名詞と指示対象候補を表現する属性}
\label{sec:sosei}

日本語ゼロ代名詞の照応解析に関する先行研究では，指示対象候補に後接する
助詞や指示対象候補とゼロ代名詞間のテキスト内での距離などの属性によって
ゼロ代名詞や指示対象が表現されている．特に，助詞は焦点（話題の中心）の
推移をモデル化するセンタリング理論\cite{gros95}に基づく照応解析手法に
おいて中心的な役割を果たす\cite{kame86,walk94}．他にも，指示対象候補と
ゼロ代名詞間の意味的な整合性や語の頻度などが属性として利用されている．
本研究では，コーパスに基づく予備調査を通して照応解析に有効な属性につい
て検討し，以下に示す6つの属性を用いてゼロ代名詞${\it \phi}$と指示対
象候補$a_i$を表現する．

\begin{itemize}

\item ゼロ代名詞$\phi$に関する属性
  \begin{description}
  \item[格($c$)：]

    本研究では，日本語に多く現れる「ガ」「ヲ」「ニ」格のゼロ代名詞を扱
    う．よって，格$c$として取り得る値は「ガ」「ヲ」「ニ」のいずれかで
    あり，それぞれどの格が省略されたのかを表す．この値は，ゼロ代名詞の
    特定処理時に格フレーム辞書に基づいて決定される
    （\mbox{\ref{sec:detection}節}参照）．
    
  \item[意味素性($s$)：] 

    ゼロ代名詞，すなわち省略された格要素に対応する意味素性を表す．本手法
    では，IPAL動詞辞書で定義される19種類の意味素性を用いる（表
    \ref{tab:taiou}参照）．上記の「格」属性と同様に，ゼロ代名詞
    の特定処理において格フレーム辞書を参照することで決定される．
  \end{description}

\item 指示対象候補$a_i$に関する属性
  \begin{description}
  \item[助詞($p_i$)：] 

    候補$a_i$に後接する助詞を表し，可能な値は形態素解析で助詞と品詞付
    けられた語の全てである．助詞は従来の手法でも照応解析の有効な手がか
    りとして用いられている．

  \item[文間距離($d_i$)：] 

    ゼロ代名詞と候補$a_i$間の文数を表す．両者が同一文中にあれば$0$，指
    示対象候補がゼロ代名詞より$n$文前にあれば$n~(n>0)$とする．一般に，
    ゼロ代名詞からの距離が遠い候補ほど，指示対象になりにくい．なお，距
    離を計る単位としてゼロ代名詞と候補$a_i$間の語数や文節数なども考え
    られる．しかし，日本語は語順が比較的自由であり，また副詞句や形容詞
    句など様々な挿入句が可能であるため，文間距離を用いて大まかな距離を
    示し，より詳細には助詞$p_i$で区別する方法を採用する．

  \item[連体節に関する制約($r_i$)：]

    候補$a_i$が連体修飾節に含まれるかどうかを表す．含まれれば真，含ま
    れなければ偽の2値を取る．連体節に含まれる名詞句は照応されにくいと
    いう知見\cite{ehar96}を利用するために導入する．

  \item[意味クラス($n_i$)：]

    候補$a_i$の意味素性を表す．本手法では，分類語彙表\cite{koku64}で定
    義される544種類の分類番号を利用する．

  \end{description}
\end{itemize}


\subsection{確率モデル}
\label{sec:kakuritu}

ゼロ代名詞$\phi$が候補$a_i$を照応する確率を$P(a_i|\phi)$と定義する．こ
こで，$a_i$と$\phi$を\ref{sec:sosei}節で述べた属性で表現すると式
(\ref{eq:pcz1})が成り立つ．
\begin{eqnarray}
  \label{eq:pcz1}
  P(a_i|\phi) = P(p_i,d_i,r_i,n_i|c,s)
\end{eqnarray}

\noindent
式(\ref{eq:pcz1})は推定すべきパラメータ数が膨大であり，
大量の学習データを必要とする．
しかし，照応関係を付与したコーパスの作成は高価であり，
学習に十分な大きさのコーパスを作成するのは
現実的ではない．そこで，モデルの妥当性を保持しつつ確率値の推定を容易に
するため，以下の近似を行なう．

コーパス分析に基づく我々の予備調査によると，候補$a_i$に関する属性のう
ち，文間距離$d_i$，連体節に関する制約$r_i$は，それ以外の属性との関連が
比較的低い．そこで，$d_i$と$r_i$の独立性を仮定すると，式
(\ref{eq:pcz2})が得られる．
\begin{eqnarray}
  \label{eq:pcz2}
  P(a_i|\phi)\approx P(p_i,n_i|c,s)\cdot P(d_i) \cdot P(r_i)
\end{eqnarray}

\noindent 
$P(p_i,n_i|c,s)$において，助詞$p_i$と格$c$はそれぞれ指示対象候補とゼロ
代名詞の統語属性であり，意味クラス$n_i$と意味素性$s$はそれぞれ指示対象候
補とゼロ代名詞の意味属性である．そこで，統語属性と意味属性間の独立性を
仮定すると，式(\ref{eq:pcz})が得られる．
\begin{eqnarray}
  \label{eq:pcz}
  P(a_i|\phi) \approx P(p_i|c)\cdot P(n_i|s)\cdot P(d_i)\cdot P(r_i)
\end{eqnarray}

\noindent
式(\ref{eq:pcz})の右辺において，統語属性だけからなる要素$P(p_i|c)\cdot
P(d_i)\cdot P(r_i)$を{\bf 統語モデル}，意味属性だけからなる要素
$P(n_i|s)$を{\bf 意味モデル}と呼ぶことにする．

式(\ref{eq:pcz})のそれぞれのパラメータは，照応関係が付与されたコーパス
から得られる頻度情報を用いて，式(\ref{eq:ppc})によって計算できる．ここ
で，$F(x)$はコーパスにおける事象$x$の出現頻度を示す．
\begin{eqnarray}
  \label{eq:ppc}
  \begin{array}{rcl}
    P(p_i|c)&=&\displaystyle\frac{F(p_i,c)}{\sum_{j}F(p_j,c)}\\
    \label{eq:pns}
    P(n_i|s)&=&\displaystyle\frac{F(n_i,s)}{\sum_{j}F(n_j,s)}\\
    \label{eq:pd}
    P(d_i)&=&\displaystyle\frac{F(d_i)}{\sum_{j}F(d_j)}\\
    \label{eq:pm}
    P(r_i)&=&\displaystyle\frac{F(r_i)}{\sum_{j}F(m_j)}
  \end{array}
\end{eqnarray}

\noindent
ただし，意味モデル$P(n_i|s)$の推定については，\ref{sec:imimodel}節にお
いて照応関係が付与されていないコーパスの利用を検討する．


\subsection{照応関係付きコーパスを必要としない意味モデルの推定法}
\label{sec:imimodel}

データスパースネス問題を避けるため，\ref{sec:kakuritu}節で式
(\ref{eq:pcz1})の確率モデルを統語モデルと意味モデルに分解した．しかし，
式(\ref{eq:ppc})において，意味クラス$n_i$と意味素性$s$の全ての組み合わ
せに対して意味モデル$P(n_i|s)$を正しく推定するには，なお大量の学習デー
タが必要であり，データスパースネスを生じやすい．そこで本研究では，照応
関係が付与されていないコーパスを利用して意味モデルを推定する手法を提案
する．

格要素（名詞）の意味素性$s$は，動詞の語義とゼロ代名詞の格によって一意
に決まることが多い．これは名詞がゼロ代名詞化されている場合も同様である．
しかし，動詞の語義を付与したコーパスは高価であるため，ここではさらに次
の近似を行なう．すなわち，動詞に多義性がなく，重複する格が係らないと仮
定する．すると，意味素性$s$は動詞$v$とゼロ代名詞の格$c$の組み合わせで表現す
ることができ，式(\ref{eq:pns2})が成り立つ．
\begin{eqnarray}
  \label{eq:pns2}
  \begin{array}{rcl}
    P(n_i|s)\approx P(n_i|v,c)
  \end{array}
\end{eqnarray}

\noindent
$P(n_i|v,c)$は，動詞$v$の格$c$がゼロ代名詞化しているとき，その指示対象
の意味クラスが$n_i$である確率を表す．しかし，ゼロ代名詞は省略された格
要素であるため，動詞$v$の格$c$に本来埋まるべき名詞とゼロ代名詞の指示対
象は同じ意味素性に対応すると考えてよい．そこで，$P(n_i|v,c)$は$\langle
n_i$, $v$, $c\rangle$という係り受け（共起関係）を用いて推定することが
できる．すなわち，本手法は照応関係を付与していないコーパスを学習に利用
することができる．なお，照応関係を付与していないコーパスの利用可能性は
村田と長尾\citeyear{murata98}も指摘している．

意味モデルの学習は次のように行う．まず，照応関係などの付加情報が与えら
れていない未解析のコーパスを形態素・構文解析し，その結果得られる係り受
け関係に基づいて動詞と格要素の共起を自動的に抽出する．続いて，名詞シソー
ラス（分類語彙表）を利用して格要素を意味クラスに汎化し，意味クラス・動
詞・格の共起関係$\langle n_i$, $v$, $c\rangle$を収集する．最後に，共起
関係の頻度に基づいて意味モデルを生成する．

なお，意味モデルのパラメータ値$P(n_i|\,v,c)$の推定にはデータスパースネス
問題を避けるため，線形ディスカウンティング法(linear
discounting)~\cite{ney94}を用いる．ただし，動詞$v$の格$c$に関して何ら
共起情報が得られない場合，および候補$a_i$が名詞シソーラスに未登録で
「未知語クラス」が与えられている場合は，全ての意味クラス（544種類）に
関して等確率を与える．式(\ref{eq:pns3})に意味モデルの計算式を示す．こ
こで$\alpha$は比例定数（ディスカウント係数）である．また，$N_0$は動詞
$v$，格$c$が与えられたときに，$F(v,c)>0$かつ$F(n_i,v,c)=0$であるような
意味クラス$n_i$の総数を表す．
\begin{eqnarray}
  \label{eq:pns3}
  \begin{array}{rcl}
    P(n_i|v,c)=\left\{
    \begin{array}{ll}
      \vspace*{2mm}
      \displaystyle \alpha\cdot \frac{F(n_i,v,c)}{F(v,c)} & if\ F(n_i,v,c)>0\\
      \vspace*{2mm}
      \displaystyle \frac{(1-\alpha)}{N_0} & else\ if\ F(v,c)>0 \ かつ F(n_i,v,c)=0\\
      \displaystyle \frac{1}{544} & else\ if\ F(v,c)=0 \ または n_i=\mbox{未知語クラス}
    \end{array}
    \right.
  \end{array}
\end{eqnarray}

候補$a_i$に複数の意味クラスが与えられている場合は，候補$a_i$と各意味ク
ラスが等確率に対応すると仮定する．すなわち，全ての意味クラスについて意
味モデルのパラメータ値を計算し，その平均を候補$a_i$の意味モデルのパラ
メータ値とする．

以上の操作によってモデルを構築することができたものの，
動詞の多義性を無視することは言語学的には必ずしも妥当では
ない．しかし，\mbox{\ref{sec:jikken}章}の評価実験において，本手法は照
応関係を付与したコーパスを用いた場合よりも，ゼロ代名詞の照応解析におい
て有効であることを示す．


\subsection{照応解析に関する確信度}
\label{sec:certainty}

照応解析の結果を機械翻訳など他の処理に応用する場合，照応関係の
特定を誤ると後続の処理にも悪影響を及ぼす．
このような場合，テキスト中の全てのゼロ代名詞
を処理することよりも，誤りを犯さないように確実な結果だけを出力すること
が重要である．言い換えれば，照応解析の被覆率（coverage）よりも精度
（accuracy）が重視される場合がある．

照応解析処理の精度を向上させるためには，解析結果が正解である確信が高い
ゼロ代名詞だけを出力すればよい．そこで，確信度を定量化し，その値が一定
の閾値よりも大きい場合だけ結果を出力する（原理的に被覆率は低下する）．
具体的には，式(\ref{eq:pcz})で定義される確率スコア$P(a_i|\phi)$を利用
し，以下の特性(a)と(b)に基づいて確信度を計算する．なお，$P_j(\phi)$は
$j$番目に大きい確率スコアとする．

\begin{flushleft}
  \begin{itemize}
  \item [(a)] $P_1(\phi)$~$(=\max_i P(a_i|\phi))$が大きいほど確信度が
    高い
  \item [(b)] $P_1(\phi)$と$P_2(\phi)$の差が大きいほど確信度が高い
  \end{itemize}
\end{flushleft}

\noindent
式(\ref{eq:certainty})に確信度$C(\phi)$の計算式を示す．
\begin{eqnarray}
  \label{eq:certainty}
  C(\phi) = t\cdot P_1(\phi)+(1-t)(P_1(\phi)-P_2(\phi))
\end{eqnarray}

\noindent
ここで，右辺の第1，2項はそれぞれ上記(a)~(b)に対応し，$t$は両者の影響を
制御する定数である．

