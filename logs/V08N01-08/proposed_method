『話し手の役割』と『丁寧さ』
\label{sec:role and politeness}

音声翻訳を使った窓口などでの対話をより自然にするために, 訳文の『丁寧さ』
が重要である. 我々は, 『話し手の役割』と『丁寧さ』について着目し, その
関係について調査した. 『丁寧さ』を特に考慮せずに一般的な訳を出す機械翻
訳が出力した結果に対して, 『話し手の役割』が「受付」である場合に, 訳を
より丁寧な表現にすることが望まれるかという観点で調査を行った. 実際の調
査に用いた音声翻訳は, 変換主導型翻訳\cite{Sumita:1999} ({\bf
T}ransfer-{\bf D}riven {\bf M}achine {\bf T}ranslation, 略してTDMT)の
英日版で, 対象は旅行会話の中で『話し手の役割』が「受付」である1409発声
とした. その結果, 約70\%(952)の発声は丁寧な表現を使ったほうが良いと
判断された. したがって, 音声翻訳を使って, より自然な対話を実現するため
に『話し手の役割』に応じて『丁寧さ』を変えるのは, 有用であると言える. 

丁寧な表現を使ったほうが良いと判断された発声には, 様々な種類の表現が含
まれている. これを英語表現の種類別(動詞, 名詞等の品詞, 頻出表現等)に分
類した(表\ref{tab:num of exp}). この英語表現は１発声中に１種類とは限ら
ず, 複数の種類を含むことが多い. 例えば, 例\ref{ex:if}に示すように, 
「受付」が``\underline{Mr}. Suzuki, \underline{if} you'll
\underline{wait} \underline{a second}, I'll \underline{call} right
now''と喋った時の翻訳は, 「標準」訳の``鈴木さん, 少し待ってくれたらす
ぐ電話します''より, 丁寧表現を使って``鈴木様, 少々お待ちいただけました
らすぐ電話致します''とするほうが良い. この発声の中には, 敬称(Mr.), 接
続詞(if), 動詞(wait, call), 名詞(second)が含まれている.

\vspace{3mm}
\begin{center}
\fbox{\begin{minipage}{120mm}
\begin{example} \
  \label{ex:if}
\end{example}
  \tabcolsep=2mm
  \begin{tabular}{ll}
      種類： & {\bf 敬称, 接続詞, 動詞, 名詞} \\
      英語： & \underline{Mr}. Suzuki, \underline{if} you'll \underline{wait}
      \underline{a second}, I'll \underline{call} right now \\
      標準： & 鈴木\underline{さん}, \underline{少し} \underline{待って}
      \underline{くれたら}すぐ\underline{電話します} \\
      丁寧： & 鈴木\underline{様}, \underline{少々} \underline{お待ち}
      \underline{いただけましたら}すぐ\underline{電話致します} \\
  \end{tabular}
  \tabcolsep=0mm
\end{minipage}}
\end{center}
\vspace{3mm}

表\ref{tab:num of exp}を見ると, 少なくとも今回調査した旅行会話では, そ
の種類によって丁寧にすべき方法が違うことが分かる. しかし, {\bf いずれ
も従来の翻訳システムの枠組み, すなわち, 変換ルールや対訳辞書に条件を加
えることで丁寧表現に変えるとができる.} つまり, 『話し手の役割』に応じ
たルールや辞書エントリーを既存の変換ルールや対訳辞書に追加すれば, 適切
に丁寧表現が訳出可能となる.

\tabcolsep=2mm
\begin{table}[htbp]
  \begin{center}
  \caption{英日翻訳における丁寧表現の種類}
  \label{tab:num of exp}
  \begin{tabular}{|c|r||c|c|c|} \hline
    \multicolumn{2}{|c||}{} & \multicolumn{3}{|c|}{例} \\ \hline
    種類 & 件数 & 英語 & 標準 & 丁寧 \\ \hline \hline

    動詞 & 692 & accept & 受け付ける & お受けする \\ \hline
    名詞 & 331 & child & 子供 & お子様 \\ \hline
    頻出表現 & 261 & good bye & さようなら & 失礼致します \\ \hline
    敬称 & 94 & Mr. & さん & 様 \\ \hline
    形容詞 & 78 & fine & 良い & 結構 \\ \hline
    代名詞 & 59 & you & あなた & お客様 \\ \hline
    助動詞 & 56 & can & できる & 頂ける \\ \hline
    接続詞 & 27 & if & たら & ましたら \\ \hline
    副詞 & 6 & alone & 一名 & おひとり \\ \hline
    前置詞 & 4 & with & 一緒 & ご一緒 \\ \hline \hline

    合計 & 1608 & \multicolumn{3}{|c|}{} \\ \hline
  \end{tabular}
\end {center}
\end{table}

上記の1409発声は「受付」の『丁寧さ』に着目して調査したが, 発声内容によっ
ては, 話し手が「客」の訳と「標準」の訳が違う場合もあり得る. 例えば, 例
\ref{ex:very good}の場合, ``Very good, please let me confirm them''は, 
話し手が「受付」では, ``\underline{承知しました} 確認させて\underline
{いただきます}'', 話し手が「客」では, ``\underline{それで結構です} 確
認させて\underline{下さい}''とするのが良い.

\begin{center}
\fbox{\begin{minipage}{100mm}
\begin{example} \
  \label{ex:very good}
\end{example}
  \tabcolsep=2mm
  \begin{tabular}{ll}
    英語： & \underline{Very good}, please \underline{let} me confirm them \\ 
    標準： & {\it \underline{分かりました}, 確認させて\underline{下さい}} \\ 
    受付： & {\it \underline{承知致しました}, 確認させて
      \underline{いただきます}} \\ 
    客： & {\it \underline{それで結構です}, 確認させて\underline{下さい}} \\ 
  \end{tabular}
  \tabcolsep=0mm
\end{minipage}}
\end{center}

話し手の役割情報を翻訳知識に組み込む方法

本章では, 話し手の役割情報をどのように既存の変換ルールや対訳辞書に導入
するかについて述べる. 本手法は変換ルールや対訳辞書を利用している一般の
機械翻訳に適用可能であるが, その有効性を確かめるために, 本論文では翻訳
システムとしてATRで開発した話し言葉翻訳システムTDMTを利用した. 最初に
TDMTについて簡単に説明し, 次に, 話し手の役割情報を組み込んだルールや辞
書エントリーについて述べる.

\subsection{TDMT(Transfer-Driven Machine Translation)}

TDMTは図\ref{fig:transfer rule}に示す変換ルールを使って, 左から右への
ボトムアップ型チャート解析法で構文解析を行っている
\cite{Furuse:1999}. 様々な変換ルールによって, 入力文の構文構造が複数の
候補となった時は, 意味距離計算によって絞られる. 意味距離はシソーラスに
よって定義されたものを用いている.

変換ルールは, 図\ref{fig:transfer rule}のように, 原言語のパターン, 目
的言語のパターン, 原言語の用例からなる. 原言語のパターンは変項と構成素
境界からなる. ここでの変項は, XやYなどの大文字の記号で表し構成素に対応
する. 構成素境界は, 機能語あるいは左の構成素の品詞と右の構成素の品詞を
付けた記号(品詞バイグラムマーカと呼ぶ)である. 品詞バイグラムマーカは, 
構文解析をする前に対象の構成素間に挿入される. 例えば, ``accept''が{\bf
V}erbで``payment''が{\bf C}ommon {\bf N}ounなので, 例\ref{ex:accept}で
は, 品詞バイグラムマーカ$\langle V$--$CN\rangle$が, ``accept''と
``payment''の間に挿入される. 目的言語のパターンは, 原言語のパターンに
対応した変項と訳語から構成される. ここでの変項は, xやyなどの小文字の記
号で表す. 例えば, xは原言語のパターンでの変項Xに対応している. 原言語の
用例は, パターン作成時に参照した文において実際に出現した語である.

\begin{center}
  \fbox{
    \begin{minipage}{115mm}
      \begin{example} \
        \label{ex:accept}
      \end{example}
   
    \tabcolsep=1mm
    \begin{tabular}{ll}
      英語： & \underline{We} \underline{accept} \underline{payment}
      by credit card \\
      標準： & {\it 私\underline{達}はクレジットカードでの支払いを
        \underline{受け付け}ます} \\
      丁寧： & {\it 私\underline{供}はクレジットカードでの
        \underline{お}支払いを\underline{お受けし}ます} \\
    \end{tabular}
    \tabcolsep=0mm
  \end{minipage}}
\end{center}

図\ref{fig:ex rule}では, 原言語のパターンは(X $\langle V$--$CN
\rangle$ Y), 目的言語のパターンは(y ``を'' x)や(y ``に~'' x), 目的言語
の用例は, ((``accept'') (``payment'')) や((``take'') (``picture''))で
ある. ((``accept'') (``payment''))は, 例\ref{ex:accept}の「標準」訳に
由来する用例であるが, 他の用例は他の訓練文から来ている. 図\ref{fig:ex
rule}の変換ルールは, 原言語が(X $\langle V$--$CN \rangle$ Y)にマッチし
たら, XとYに対応した入力が「意味的に最も近いか, または, 全く同じ」用例
の組が付いている目的言語のパターンを選択せよという意味である. 例えば, 
入力``accept $\langle V$--$CN \rangle$ payment''に「最も近いか, または, 
全く同じ」用例の組は((``accept'') (``payment''))なので, 目的言語のパター
ンは(y ``を'' x)が選択される. このようにして, 適切な目的言語のパターン
が変換ルールによって選ばれる. 

\begin{figure}[htb]
  \begin{center}
    \begin{tabular}{cc}

\begin{minipage}{60mm}
\begin{center}
\fbox{\begin{minipage}{45mm}
\begin{tabbing}

(\=(\=( \kill

(原言語のパターン) \\
$\Rightarrow$ \\
((目的言語のパターン 1) \\
\>((原言語の用例 1) \\
\>\>(原言語の用例 2) \\
\>\> ... ) \\
\>(目的言語のパターン 2) \\
\> ... )

\end{tabbing}
\end{minipage}}    
  \caption{変換ルールのフォーマット}
  \label{fig:transfer rule}
\end{center}
\end{minipage} &

\begin{minipage}{60mm}
\begin{center}
\fbox{\begin{minipage}{45mm}
\begin{tabbing}

(\=(\=( \kill

(X $\langle V$--$CN \rangle$ Y) \\
$\Rightarrow$ \\
((y ``を'' x) \\
\>(((``accept'') (``payment'')) \\
\>\>((``take'') (``picture''))) \\
\>(y ``に'' x) \\
\>(((``take'') (``bus'')) \\
\>\>((``get'') (``sunstroke''))) \\
)

\end{tabbing}
    \end{minipage}}
  \caption{変換ルールの例(英日版)}
  \label{fig:ex rule}
\end{center}
\end{minipage}

\end{tabular}
\end{center}
\end{figure}

目的言語のパターンが選ばれた後, 図\ref{fig:transfer dic}に示したフォー
マットの対訳辞書を用いて, そのパターンに応じた訳を決定する. 例えば, 
``accept $\langle V$--$CN \rangle$ payment''の場合は, ``支払いを受け付
ける~''という訳になるが, ``支払い''と``受け付ける''は図\ref{fig:ex dic}
の対訳辞書の辞書引きの結果から, また, ``~を~''は目的言語のパターン(y ``
を'' x)から来ている. 



\begin{figure}[htb]
  \begin{center}
    \begin{tabular}{cc}

\begin{minipage}{60mm}
\begin{center}
\fbox{\begin{minipage}{60mm}
\begin{tabbing}

(\=(\=( \kill

((原言語の単語) $\rightarrow$ (目的言語の単語) \\
\> ... )

\end{tabbing}
\end{minipage}}
  \caption{対訳辞書のフォーマット}
  \label{fig:transfer dic}
\end{center}
\end{minipage} &

\begin{minipage}{60mm}
\begin{center}
\fbox{\begin{minipage}{60mm}
\begin{tabbing}

(\=(\=( \kill

((``accept'') $\rightarrow$ (``受け付ける'') \\
\>(``payment'') $\rightarrow$ (``支払い''))

\end{tabbing}
\end{minipage}}
  \caption{対訳辞書の例(英日版)}
  \label{fig:ex dic}
\end{center}
\end{minipage}

\end{tabular}
\end{center}
\end{figure}


\begin{figure}[htb]
  \begin{center}
    \fbox{\begin{minipage}{45mm}
      \begin{tabbing}

(\=(\=(\=( \kill

(原言語のパターン) \\
$\Rightarrow$ \\
(({\bf(目的言語のパターン $1_1$) ：パターンの条件 $1_1$} \\
\>\>{\bf (目的言語のパターン $1_2$) ：パターンの条件 $1_2$} \\
\>\> ... \\
\>\>{\bf (目的言語のパターン $1_n$) ：デフォルト}) \\
\>((原言語の用例 1) \\
\>\> ... ) \\
\>(({\bf(原言語の用例 1) $\rightarrow$ (目的言語の単語 $1_1$) ：単語の条件 $1_1$}\\
\>\>\>{\bf(原言語の用例 1) $\rightarrow$ (目的言語の単語 $1_2$) ：単語の条件 $1_2$}\\
\>\>\> ... \\
\>\>\>{\bf(原言語の用例 1) $\rightarrow$ (目的言語の単語 $1_m$) ：デフォルト})\\
\>\> ... ) \\
(({\bf (目的言語のパターン $2_1$) ：パターンの条件 $2_1$} \\
\> ... )))

\end{tabbing}
\end{minipage}}    
  \caption{対話者の情報に関する条件付き変換ルールのフォーマット}
  \label{fig:rule with clerk}
\end{center}

\vspace*{2mm}

  \begin{center}
    \fbox{\begin{minipage}{45mm}
      \begin{tabbing}

(\=(\=(\=( \kill

(({\bf (原言語の単語 1) $\rightarrow$ (目的言語の単語 $1_1$) ：条件 $1_1$} \\
\>\>{\bf (原言語の単語 1) $\rightarrow$ (目的言語の単語 $1_2$) ：条件 $1_2$} \\
\>\> ... \\
\>\>{\bf (原言語の単語 1) $\rightarrow$ (目的言語の単語 $1_k$) ：デフォルト}) \\
\> ... )

\end{tabbing}
\end{minipage}}    
  \caption{対話者の情報に関する条件付き対訳辞書のフォーマット}
  \label{fig:dic with clerk}
\end{center}
\end{figure}


\subsection{対話者の情報に関する条件付きルール及び辞書エントリ}
\label{subsec:rule and dic with role}

対話者の情報に関する条件を変換ルールや対訳辞書の中で記述できるように, 
既存の変換ルールや対訳辞書のフォーマットを図\ref{fig:rule with clerk}
と図\ref{fig:dic with clerk}のように変えた. 図\ref{fig:rule with
clerk}では, 目的言語のパターンはそのパターンの条件で, また, 目的言語の
単語はその単語の条件で対話者の情報を参照できる. つまり, ``~目的言語のパ
ターン $1_1$''は, ``パターンの条件 $1_1$''に記述してある条件で選ばれ, 
``原言語の用例1''の対訳は, ``単語の条件 $1_1$''に記述してある条件で``
目的言語の単語$1_1$''が選ばれる. 目的言語パターンに条件が付く場合の例
を図\ref{fig:ex1 rule with role}に示し, 原言語の用例に条件が付く場合の
例を図\ref{fig:ex2 rule with role}に示す. 

図\ref{fig:ex1 rule with role}に示すように, ``パターンの条件 $1_1$''を
``:s-role clerk''と定義することができる. これは, 話し手の役割(s-role)
が「受付」(clerk)という条件である. したがって, もし話し手が「受付」
と分かれば, ``if''は``いただけましたら''と訳される. これは, 例えば, 
\ref{sec:role and politeness}章の例\ref{ex:if}に示すように, 入力が``if
you'll wait a second''の場合, 「標準」では, ``少し待って\underline {く
れたら}''となるが, 話し手が「受付」なら``少し待って\underline{いただけ
ましたら}''と訳出される. 

一方, 図\ref{fig:ex2 rule with role}に示すように, ``：単語の条件
$1_1$''を``:s-role clerk''と定義することもできる. この場合も, もし話し
手が「受付」と分かれば, ``accept''は``お受けする''と訳される. ここで注
意する点は, 話し手が「受付」であっても, 常に``accept''の訳は``お受けす
る''ではないことである. つまり, 図\ref{fig:rule with clerk}の``目的言
語の単語$1_1$''は, そこで定義されている変換ルール内のみで有効である. 
もしも話し手の役割に応じた訳が常に同じであれば, 図\ref{fig:dic with
clerk}に示すフォーマットの対訳辞書に登録する. また, 必要ならば, 同じ変
換ルール内で, 同時に, 目的言語パターンと原言語の用例に条件を付けること
もできる. 

図\ref{fig:rule with clerk}及び図\ref{fig:dic with clerk}の``：デフォ
ルト''は, どのような条件にも合わなかった時にマッチする条件である. 例え
ば最初に``：パターンの条件$1_1$'', 次に``：パターンの条件$1_2$''という
ように, 条件は上から順に調べられ, 全て満足されない場合にデフォルトのも
のが選択される. 

\begin{figure}[htb]

  \begin{center}
    \fbox{\begin{minipage}{45mm}
\begin{tabbing}
(\=(\=(\=(\=( \kill

(``if'' ``you'' X) \\
$\Rightarrow$ \\
(({\bf(x ``いただけましたら'') :s-role clerk} \\
\>\>{\bf(x ``くれたら'')}) \\
\>(((``wait'')) \\
\>\>((``find''))))

\end{tabbing}
    \end{minipage}}
  \caption{話し手の役割情報に関する条件付き変換ルールの例1(英日版)}
  \label{fig:ex1 rule with role}
  \end{center}

\vspace{5mm}

  \begin{center}
    \fbox{\begin{minipage}{45mm}
\begin{tabbing}
(\=(\=(\=(\=( \kill

(X $\langle V$--$CN \rangle$ Y) \\
$\Rightarrow$ \\
((y ``を'' x) \\
\>(((``accept'') (``payment'')) \\
\>\>((``take'') (``picture''))) \\
\>((\bf{(``accept'') $\rightarrow$ (``お受けする'') :s-role clerk} \\
\>\>\>\bf{(``accept'') $\rightarrow$ (``受け付ける'')})))

\end{tabbing}
    \end{minipage}}
  \caption{話し手の役割情報に関する条件付き変換ルールの例2(英日版)}
  \label{fig:ex2 rule with role}
  \end{center}

\vspace{5mm}

  \begin{center}
    \fbox{\begin{minipage}{60mm}
\begin{tabbing}

(\=(\=(\=( \kill

(({\bf (``payment'') $\rightarrow$ (``お支払'') :s-role clerk} \\
\>\>{\bf (``payment'') $\rightarrow$ (``支払い'')}) \\
\>({\bf (``we'') $\rightarrow$ (``私供'') :s-role clerk} \\
\>\>{\bf (``we'') $\rightarrow$ (``私達'')}))

\end{tabbing}
    \end{minipage}}
  \caption{話し手の役割情報に関する条件付き対訳辞書の例(英日版)}
  \label{fig:ex dic with clerk}
  \end{center}

\end{figure}

図\ref{fig:ex2 rule with role}のルール, 図\ref{fig:ex dic with clerk}
の辞書エントリーを用いると, 例\ref{ex:accept}の発声は, 話し手が「受付」
の場合, 最終的には``私供はクレジットカードでのお支払いをお受けします''
と訳出される. 

どの語を丁寧表現にすべきかは機械的には判断できないが, ほとんどの丁寧表
現にすべき語は, 上記の方法, すなわち, 目的言語パターン, 原言語の用例に
対する訳, 対訳辞書によって, 話者の役割に応じた訳し分けができる. 基本的
には, 次の基準で解決方法を決めている.
\begin{itemize}
  \item 訳し分けすべき語が機能語ならば, 目的言語パターン (例：図
\ref{fig:ex1 rule with role})
  \item 内容語で, 役割以外の条件も利用して訳が決まる時は, 原言語の用例
に対する訳 (例：図\ref{fig:ex2 rule with role})
  \item 内容語で, 常に役割の条件のみで訳が決まる時は, 対訳辞書 (例：図
\ref{fig:ex dic with clerk})
\end{itemize}

例えば, \ref{sec:role and politeness}章の表\ref{tab:num of exp}に挙げ
た例については, 表\ref{tab:solution of exp}に示した方法で丁寧表現にす
ることができる. だたし, 表\ref{tab:solution of exp}に示したのは例であっ
て, その種類の全てが表\ref{tab:solution of exp}に示した解決方法で訳し
分けができるとは限らない. 例えば, ``child''は辞書に登録することで適切
に訳し分け可能だが, 表\ref{tab:num of exp}で示した名詞は全て辞書によっ
て訳し分けができるわけではない. 

\tabcolsep=2mm
\begin{table}[htbp]
  \begin{center}
  \caption{英日翻訳における丁寧表現の訳出方法の例}
  \label{tab:solution of exp}
  \begin{tabular}{|c|c|c||c|} \hline
   \multicolumn{3}{|c||}{例} & \\ \hline
    英語 & 標準 & 丁寧 & 解決方法 \\ \hline \hline

    accept & 受け付ける & お受けする & 用例 \\ \hline
    child & 子供 & お子様 & 辞書 \\ \hline
    good bye & さようなら & 失礼致します & 辞書 \\ \hline
    Mr. & さん & 様 & パターン \\ \hline
    fine & 良い & 結構 & 用例 \\ \hline
    you & あなた & お客様 & 辞書 \\ \hline
    can & できる & 頂ける & パターン \\ \hline
    if & たら & ましたら & パターン \\ \hline
    alone & 一名 & おひとり & 用例 \\ \hline
    with & 一緒 & ご一緒 & パターン \\ \hline
  \end{tabular}
\end {center}
\end{table}

