を2つの観点から評価した．
まず，人工的に作成した多言語なコーパスを用いて，言語判別の精度を測定した．
次に，実際の多言語を入力した場合の，打鍵数の減少量を測定した．
ここでは，言語判別の精度を測定した．
言語判別の精度を測定するためには，実際に多言語を含む十分な量の正解コーパスがあることが望ましい．
しかし，そのようなコーパスは，通常，入手することは難しい．
そこで，本論文では，人工的に2言語から8言語の多言語コーパスを作成して，言語判別の精度を測定した．
最初に，単言語のコーパスを収集した．
日本語コーパスには毎日新聞2004年度版，中国語コーパスには北京大学コーパス，その他，英語，フランス語，ドイツ語，エストニア語，フィンランド語，トルコ語のコーパスには，Leipzig corpora [CITE]を用いた．
各言語のは，事前にキー列に変換した．
混合率による判別精度の変化をみるため，テストセットを2つ作成した．
テスト1では，どの言語の出現確率も等確率であるような多項分布から生成した．
テスト2では，メインとなる言語が90%を占め，残りの10%は残りの言語が均等に配分されるような多項分布から生成した．
実際の多言語では，メインとなる言語が存在するので，テスト2の方がより現実的な状況に即している．
出力確率と遷移確率は，\secref{sec:model}で述べたPPMCによって推定する．
実際のシステムでは，どちらの確率も動的に学習されるのであるが，今は判別精度を評価することが目的であるため，事前に準備した訓練コーパスを用い，テスト中は動的な学習を行わない．
\secref{sec:output}の\eqref{eq:ppm}にあるように，出力確率は[MATH]で学習した．
また，今回は多項分布から人工的にコーパスを生成しているため，遷移確率は[MATH]とした．
評価は，生成した多言語コーパス上での10回交差検定を用いた．
訓練コーパスのサイズは100 Kbyte，テストデータは11 KByteとした．
出力確率は事前に各言語の訓練コーパスを用いて学習し，遷移確率は約2000トークンを用いて学習した．
テスト1，テスト2の両者の結果を，それぞれ，\figref{fig:graphtest1}と\figref{fig:graphtest2}に示す．
横軸は言語数を表し，縦軸は判別精度を表す．
各言語数ごとに，全ての言語の組み合わせについて言語セットを作成した．
各言語セットごとに10回交差検定を用いて判別精度を測定した後，全ての言語セットについて判別精度を平均した値をプロットした．
凡例中の「PPM」は遷移確率もPPMを用いて学習させた場合，「ML」は出力確率のみを用いて判別させた場合（最尤推定に相当），「Baseline」は最も頻度の高い1言語を常に正解として返す場合である．
どの言語も等確率で出現するテスト1（\figref{fig:graphtest1}）では，PPMとMLの精度が非常に近くなっている．
これは，PPMが遷移確率を学習を通して，どの言語も等確率で出現していることを学習したためであり，遷移確率の学習を無限に行えば，理論的にはPPMの精度とMLの精度は一致すると考えられる．
一方，テスト2（\figref{fig:graphtest2}）では，PPMがMLより明らかに高い精度を示している．
PPMは遷移確率を学習することで，主となる言語が90%を占めていることを学習する一方，MLでは遷移確率を学習しないため，このような結果となる．
また，先行研究では調査がなされていない3言語以上の場合では，MLはベースラインより下がってしまうことがわかった．
この結果から，各言語について少量のコーパスしか入手できない場合でも，単純にMLを使って言語を最尤推定するのではなく，遷移確率をPPMを用いて推定することによって，言語判別の精度を向上させることが可能であると考えられる．
また，言語セットごとに，判別精度に差がみられることも注目に値する．
例えば，綴りが似通った単語の多い英語とフランス語の両方を含む言語セットでは，他の言語セットよりも精度が落ちる傾向が見られる．
実際に，テスト2で，90%が英語，5%がフランス語，5%がドイツ語であるような，ある言語セットでの判別精度は，3言語の言語セット全体の平均より低い\frenchaccuracy%であった．
一方，90%が英語，5%がフィンランド語，5%がトルコ語であるような，ある言語セットでの判別精度は，3言語の言語セット全体の平均より高い\estonianaccuracy%であった．
次に，の実用性を評価するため，実際の多言語を入力した場合に，IME切り替え操作回数が減少する量を測定した．
\secref{sec:design}で述べたように，キー操作は3種に分類されるが，が関わるのはIME切り替え操作回数のみであるため，これを測定した．
この実験のために，2種類の多言語をWebから取得した．
各の詳細を\tabref{tab:stat}に示す．
両とも，主となる言語は英語であり，文書1では日本語が，文書2では日本語と中国語のトークンが混在している．
文書2では，文書の大半98.9%が英語のトークンである点が特徴的である．
各を，既存手法を用いて入力した場合と，を用いて入力した場合の，それぞれのIME切り替え操作回数を比較した．
既存手法では，言語が切り替わるたびにIME切り替え操作を行わなければならない．
一方，では，言語判別に失敗した場合のみIME切り替え操作を行えばよい．
誤判別時に目的のIMEに切り替えるための操作は，既存手法と同じく，1回で行うことができるものとした．
出力確率は，前述の評価で用いた各言語100 Kbyteのコーパスより学習させた．
遷移確率については，事前の学習は行わない．
すなわち，実験開始時点では，はどの言語が入力されるか分からず，各言語が一様に入力されるものと想定している．
具体的には，は，この実験の開始時点で，文書1では英語と日本語を一様に，文書2では英語と日本語と中国語を一様に，ユーザが入力するものと想定している．
この実験は，実際に多言語を入力する場合に，IME切り替え操作回数が減少する量を測定することが目的であるため，実験中は，出力確率も遷移確率もPPMCを用いて動的に学習されるようにした．
特に遷移確率の学習も行っているため，この実験ではは，入力されているテキストにおける各言語の比率についても学習していく．
考慮される文脈の長さについては，[MATH]とした．
実験の結果を，\tabref{tab:decreaseresult}に示す．
実験の初期段階では，2において，英語であるべき2中の``tofu''が日本語として判別されてしまう誤判別が起こった．
この誤判別は，借用語の曖昧性が原因であり，\secref{sec:design}で予想された結果である．
実際，は``tofu''が英語と判別されるべきであることをPPMCを用いて学習したため，``tofu''による誤判別は実験の初期段階にとどまり，実験の後半では発生しなかった．
結果として，を用いた場合，両とも，既存手法と比較して\decreaserate%を超えるIME切り替え操作回数の減少が認められた．
特に，2でIME切り替え操作回数が減少したことは，重要な知見である．
\secref{sec:design}で述べたように，の有用性は，誤判別2に依存する．
2は英語が{98.9%}と大半を占めるにも関わらず，1と比較して，誤判別2は僅かしか増加していない．
この結果は，\secref{sec:design}の最後で述べた懸念を払拭するものである．
すなわち，入力頻度の少ない言語において，IME切り替え操作回数を増加させる誤判別2が起こった場合でも，訂正を繰り返し行うことでが学習し，以後の誤判別2を防ぐことが可能である．
この実験では，文書2において最大3言語間の判別を行ったが，より多くの言語をサポートした場合でも，現実的には同様にして誤判別2を防ぐことが可能であると考えられる．
以上より，これらの結果は，が既存手法と比較して有用であることを示唆している．
を2つの観点から評価した．
まず，人工的に作成した多言語なコーパスを用いて，言語判別の精度を測定した．
次に，実際の多言語を入力した場合の，打鍵数の減少量を測定した．
ここでは，言語判別の精度を測定した．
言語判別の精度を測定するためには，実際に多言語を含む十分な量の正解コーパスがあることが望ましい．
しかし，そのようなコーパスは，通常，入手することは難しい．
そこで，本論文では，人工的に2言語から8言語の多言語コーパスを作成して，言語判別の精度を測定した．
最初に，単言語のコーパスを収集した．
日本語コーパスには毎日新聞2004年度版，中国語コーパスには北京大学コーパス，その他，英語，フランス語，ドイツ語，エストニア語，フィンランド語，トルコ語のコーパスには，Leipzig corpora [CITE]を用いた．
各言語のは，事前にキー列に変換した．
混合率による判別精度の変化をみるため，テストセットを2つ作成した．
テスト1では，どの言語の出現確率も等確率であるような多項分布から生成した．
テスト2では，メインとなる言語が90%を占め，残りの10%は残りの言語が均等に配分されるような多項分布から生成した．
実際の多言語では，メインとなる言語が存在するので，テスト2の方がより現実的な状況に即している．
出力確率と遷移確率は，\secref{sec:model}で述べたPPMCによって推定する．
実際のシステムでは，どちらの確率も動的に学習されるのであるが，今は判別精度を評価することが目的であるため，事前に準備した訓練コーパスを用い，テスト中は動的な学習を行わない．
\secref{sec:output}の\eqref{eq:ppm}にあるように，出力確率は[MATH]で学習した．
また，今回は多項分布から人工的にコーパスを生成しているため，遷移確率は[MATH]とした．
評価は，生成した多言語コーパス上での10回交差検定を用いた．
訓練コーパスのサイズは100 Kbyte，テストデータは11 KByteとした．
出力確率は事前に各言語の訓練コーパスを用いて学習し，遷移確率は約2000トークンを用いて学習した．
テスト1，テスト2の両者の結果を，それぞれ，\figref{fig:graphtest1}と\figref{fig:graphtest2}に示す．
横軸は言語数を表し，縦軸は判別精度を表す．
各言語数ごとに，全ての言語の組み合わせについて言語セットを作成した．
各言語セットごとに10回交差検定を用いて判別精度を測定した後，全ての言語セットについて判別精度を平均した値をプロットした．
凡例中の「PPM」は遷移確率もPPMを用いて学習させた場合，「ML」は出力確率のみを用いて判別させた場合（最尤推定に相当），「Baseline」は最も頻度の高い1言語を常に正解として返す場合である．
どの言語も等確率で出現するテスト1（\figref{fig:graphtest1}）では，PPMとMLの精度が非常に近くなっている．
これは，PPMが遷移確率を学習を通して，どの言語も等確率で出現していることを学習したためであり，遷移確率の学習を無限に行えば，理論的にはPPMの精度とMLの精度は一致すると考えられる．
一方，テスト2（\figref{fig:graphtest2}）では，PPMがMLより明らかに高い精度を示している．
PPMは遷移確率を学習することで，主となる言語が90%を占めていることを学習する一方，MLでは遷移確率を学習しないため，このような結果となる．
また，先行研究では調査がなされていない3言語以上の場合では，MLはベースラインより下がってしまうことがわかった．
この結果から，各言語について少量のコーパスしか入手できない場合でも，単純にMLを使って言語を最尤推定するのではなく，遷移確率をPPMを用いて推定することによって，言語判別の精度を向上させることが可能であると考えられる．
また，言語セットごとに，判別精度に差がみられることも注目に値する．
例えば，綴りが似通った単語の多い英語とフランス語の両方を含む言語セットでは，他の言語セットよりも精度が落ちる傾向が見られる．
実際に，テスト2で，90%が英語，5%がフランス語，5%がドイツ語であるような，ある言語セットでの判別精度は，3言語の言語セット全体の平均より低い\frenchaccuracy%であった．
一方，90%が英語，5%がフィンランド語，5%がトルコ語であるような，ある言語セットでの判別精度は，3言語の言語セット全体の平均より高い\estonianaccuracy%であった．
次に，の実用性を評価するため，実際の多言語を入力した場合に，IME切り替え操作回数が減少する量を測定した．
\secref{sec:design}で述べたように，キー操作は3種に分類されるが，が関わるのはIME切り替え操作回数のみであるため，これを測定した．
この実験のために，2種類の多言語をWebから取得した．
各の詳細を\tabref{tab:stat}に示す．
両とも，主となる言語は英語であり，文書1では日本語が，文書2では日本語と中国語のトークンが混在している．
文書2では，文書の大半98.9%が英語のトークンである点が特徴的である．
各を，既存手法を用いて入力した場合と，を用いて入力した場合の，それぞれのIME切り替え操作回数を比較した．
既存手法では，言語が切り替わるたびにIME切り替え操作を行わなければならない．
一方，では，言語判別に失敗した場合のみIME切り替え操作を行えばよい．
誤判別時に目的のIMEに切り替えるための操作は，既存手法と同じく，1回で行うことができるものとした．
出力確率は，前述の評価で用いた各言語100 Kbyteのコーパスより学習させた．
遷移確率については，事前の学習は行わない．
すなわち，実験開始時点では，はどの言語が入力されるか分からず，各言語が一様に入力されるものと想定している．
具体的には，は，この実験の開始時点で，文書1では英語と日本語を一様に，文書2では英語と日本語と中国語を一様に，ユーザが入力するものと想定している．
この実験は，実際に多言語を入力する場合に，IME切り替え操作回数が減少する量を測定することが目的であるため，実験中は，出力確率も遷移確率もPPMCを用いて動的に学習されるようにした．
特に遷移確率の学習も行っているため，この実験ではは，入力されているテキストにおける各言語の比率についても学習していく．
考慮される文脈の長さについては，[MATH]とした．
実験の結果を，\tabref{tab:decreaseresult}に示す．
実験の初期段階では，2において，英語であるべき2中の``tofu''が日本語として判別されてしまう誤判別が起こった．
この誤判別は，借用語の曖昧性が原因であり，\secref{sec:design}で予想された結果である．
実際，は``tofu''が英語と判別されるべきであることをPPMCを用いて学習したため，``tofu''による誤判別は実験の初期段階にとどまり，実験の後半では発生しなかった．
結果として，を用いた場合，両とも，既存手法と比較して\decreaserate%を超えるIME切り替え操作回数の減少が認められた．
特に，2でIME切り替え操作回数が減少したことは，重要な知見である．
\secref{sec:design}で述べたように，の有用性は，誤判別2に依存する．
2は英語が{98.9%}と大半を占めるにも関わらず，1と比較して，誤判別2は僅かしか増加していない．
この結果は，\secref{sec:design}の最後で述べた懸念を払拭するものである．
すなわち，入力頻度の少ない言語において，IME切り替え操作回数を増加させる誤判別2が起こった場合でも，訂正を繰り返し行うことでが学習し，以後の誤判別2を防ぐことが可能である．
この実験では，文書2において最大3言語間の判別を行ったが，より多くの言語をサポートした場合でも，現実的には同様にして誤判別2を防ぐことが可能であると考えられる．
以上より，これらの結果は，が既存手法と比較して有用であることを示唆している．
