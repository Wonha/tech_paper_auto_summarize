対象とする新聞記事データとその対応付け \label{sec:taiou}

\subsection{対応付けの概要}

文縮約のための言い換え規則を機械的に取り出すためには同一内容の長短2文が
大量に必要となる。
そこで本研究では、\cite{oomori03} の手法を利用してWeb から長期にわたっ
て収集したコーパスを用いる。
このコーパスは、インターネット上に配信されていて、パソコンでの閲覧用に
作成されている新聞記事(以下、Web記事と呼ぶ)と携帯端末向けに
作成されている新聞記事(以下、携帯記事と呼ぶ)の間で同じ内容のものを
自動的に対応付けたものである。
さらに言い換え表現抽出のために、その携帯記事中の文(以下、携帯文と呼ぶ)に対
しそれに対応付けられた新聞記事中から同一内容を持った文(以下、Web文と呼
ぶ)を対応付ける\cite{sato04}。

本節以下の実験では2001年4月26日から2003年11月30日までに収集し
たWeb記事と携帯記事から得た48075組の記事から抽出した合計72203組の対応文
を用いた。
Web記事は通常、数百文字で構成されているのに対して、携帯記事は50文字程度
で構成されている。また携帯記事は体言止めや文末が助詞で終わる文が
多いのが特徴として挙げられる。携帯記事の文末品詞の
割合を表\ref{bunsu}に示す。

\begin{table}[htbp]
\begin{center}
\caption{携帯記事の文末品詞の割合}
\label{bunsu}
\begin{tabular}{|r|r|r|r|} 
\hline
\multicolumn{2}{|r|}{品詞} & 頻度[個] & 頻度 \slash 合計[\%] \\
\hline \hline
名詞 & サ変接続 & 28687 & 39.7  \\
\cline{2-4} & その他 & 11796 & 16.3  \\
\hline
\multicolumn{2}{|r|}{助詞} & 13397 & 18.6  \\
\hline
\multicolumn{2}{|r|}{動詞} & 11988 & 16.6  \\
\hline
\multicolumn{2}{|r|}{助動詞} & 5589 & 7.7  \\
\hline
\multicolumn{2}{|r|}{その他} & 746 & 1.1  \\
\hline \hline
\multicolumn{2}{|r|}{合計} & 72203 & 100.00 \\
\hline
\end{tabular}
\end{center}
\end{table}


\subsection{記事単位での対応付け}\label{sub:kiji-taiou}

新聞記事の対応付けの方法は以下のようになる。

収集した記事群で1日単位にWeb記事と携帯記事の対応付けを行う。
まず、両記事群を「茶筅」\cite{chasen}で形態素解析する。
この結果に対して、携帯記事$i$中の名詞とWeb記事$j$中の名詞を調べ、次式の
ようにこの両者の記事の類似度$Sim(i,j)$を計算する。
ここで$M(i)$は携帯記事$i$中の名詞の集合、$Wt(j)$をWeb記事$j$の見出し中
の名詞の集合、$Wb(j)$をWeb記事の本文中の名詞集合とする。
なお、携帯記事には見出しは付いていない。

\begin{eqnarray}
Sim(i,j) = 3 \times |\mbox{$Wt(j) \cap M(i)$}| + |\mbox{$Wb(j) \cap M(i)$}|
\end{eqnarray}

2001年5月10日から同8月10日まで毎月10日と20日に収集した605記事について
$Sim$の値と人手でつけた対応付けの正解率の関係を図\ref{art-align}に示した。

\begin{figure}[htb]
\begin{center}
\includegraphics[width=90mm]{img/art-align.eps}
\caption{$Sim$の値と記事単位の対応付けの精度}
\label{art-align}
\end{center}
\end{figure}

この図より、
$Sim$の値が35以上の場合を正しく対応が付いたとすることにより、現在までの実験
で481記事が正しく対応した。すなわち、約80\%の携帯記事を100\%の精度で対
応付けができた。
そこで、この方法、すなわち$Sim \geqq 35$の条件を満たす記事対を取り出すことに
より、約3年分の記事対応付けコーパスを作成した。


\subsection{文単位での対応付け}\label{sub:bun-taiou}

記事単位で対応付けられたコーパスにおいて携帯記事を基準としてWeb記事か
ら対応文の抽出を行う。これも以下に示すように対応した記事対において共起
した名詞の頻度によって行った。具体的アルゴリズムを以下に示す。 \\

\noindent\textbf{文対応付けアルゴリズム}\\
\begin{description}
\item[Step:1] $i=1$\\
	   携帯記事の第$i$文を形態素解析し、第$i$文に含まれる全名詞を
抽出し、
	   この集合を$Ms(i)$とする。
\item[Step:2] $j=1$
\item[Step:3] Web記事の第$j$文を形態素解析し、第$j$文に含まれる全名詞を抽出
	   し、この集合を$Ws(j)$とする。\\
	   $S(j)$ = \textbar\mbox{$Ms(i) \cap Ws(j)$}\textbar\\
	   を求める。
\item[Step:4] $j=j+1$\\
	   Web記事の最後の文になるまでStep:3、Step:4を繰り返す。
\item[Step:5] $S(j)$がもっとも高いWeb記事の文を携帯記事第$i$文の対応文と
	   する。なお、一致した名詞の数が同数の文が複数あった場合は、記
	   事の先頭に近いものを対応文として選ぶ。
\item[Step:6] $i=i+1$\\
	   携帯記事に残った文があればStep:1に戻る\\
\end{description} 

\textbf{Step:5}で名詞一致数が同数の場合に記事先頭に近いものを選ぶのは、
新聞記事の場合は先頭に近い文が重要な情報を担うからである。つまり、携帯文
に対応する文のうち、より重要な情報を含む文を選択しようという指針を採った。
以上の方法で抽出した対応文対のうち、以後、携帯記事から抽出した文を携帯文、
Web記事から抽出した文をWeb文と呼ぶ。

ここまでに述べた方法で抽出したデータのうち、2001年の約一年分の対応記事コー
パスの43171組の対応文についての詳細を表\ref{kousei}に示す。
携帯記事のほとんどが二文で構成されていることから、
使用した対応付けコーパスの記事数の約二倍の対応文が抽出される。また携帯文
は一文が数十文字程度であるのに対して、Web文はそれよりも長い構成になって
いるので、二文の携帯文に対して、Web文が一文で抽出される場合もある。これ
は携帯記事が二文で構成されているときのみ現れる。


\begin{table*}[htb]
\caption{記事の構成文数と対応文の抽出状況}
\label{kousei}
\begin{center}
\begin{tabular}{|r|r|r|} \hline
携帯記事 & 抽出した時 & 抽出した \\の構成 &の状態 & 対応文 \\ & (携帯文対Web文) &  \\\hline\hline
1文 & 1対1 & 1801 \\\hline
2文 & 2対1 & 9606 \\\cline{2-3}
 & 1対1 & 29732 \\\hline
3文 & 1対1 & 2028 \\\hline

4文 & 1対1 & 4 \\\hline\hline
\multicolumn{2}{|c|}{合計} & 43171 \\\hline
\end{tabular}
\end{center}
\end{table*}

次に今回、抽出した対応文からランダムで500組を
抽出し対応付けの精度を求めた。

\begin{eqnarray}
\mbox{精度}  = \frac{\mbox{抽出した対応付け正解文数}}{\mbox{抽出した全文数}}
\end{eqnarray}

対応付けの正解・不正解は人手で行っており、対応付けられている
場合は正解、対応付けられていない場合は不正解として2人で行った。
2人の判断が異なった場合には3人目が判断して、多数決で正解・不正解
を判断する。この方法により評価を行った精度は92.8\%であった。
この精度は対応付けそのものとしては必ずしも十分ではないが、次節で述べる言
い換え表現抽出では、さらに頻度などに基づく言い換え表現の重み付けなども行っ
ているため、100\%の精度は必須とは言えない。
よって、この方法によって得られた対応文のデータによって、言い換え元表現と
言い換え先表現抽出の実験を進めることにした。


言い換え表現の抽出\label{sec:chushutu}

\subsection{言い換え抽出の枠組}
本節では、\ref{sub:bun-taiou}節で述べた方法で抽出した携帯文とWeb文を用
いて、
言い換え先表現と言い換え元表現の対を抽出する方法について述べる。例えば、\\
\begin{description}
\item[携帯文:]コンピュータウィルス感染防止に有力な方法が\underline{判明}。
\item[Web文:]コンピュータウィルス感染防止に有力な方法があることが、
研究所の調査で\underline{分かった}。\\
\end{description}

という対応文があったとする。
このとき文末に注目すると
携帯文では\underline{判明}で終わっているのに対して、Web文では\underline
{分かった}で文が終わっている。
文の内容から要約の際は\underline{判明}を言い換え先表現に、
\underline{分かった}を言い換え元表現に使えることが、人間が見れば容易に判
断できる。
このような携帯文の文末にある言い換え先表現に対する言い換え元表現をWeb文
から自動的に抽出するのは、概略、以下のような方法になる。\\

\begin{description}
\item[Step:1] \ref{sub:bun-taiou}節で作成された対応文から
	   同じ言い換え先表現を文末に持つ携帯文とWeb文の関連付けする。
	   この詳細は\ref{sub:kouho}節で述べる。

\item[Step:2] Step:1で関連付けられたWeb文から言い換え元表現の候補を抽出
	   する。
	   この詳細は\ref{sub:webbunmatsu}節で述べる。

\item[Step:3] 抽出された言い換え先表現の候補それぞれに対し、
	   語彙の分岐数、出現頻度、文字列長から正しい言い換え元表現が高
	   得点になるような得点付けを行い、順位付けする。
	   この詳細は\ref{sub:junni}節で述べる。

\item[Step:4] Step:3の結果に対して、精度の向上を図るため、言い換え元表現
	   として不適切な表現を削除する。
	   この詳細は\ref{sub:filter}節で述べる。
\\
\end{description} 


すなわち、この処理では、\textbf{言い換え先である携帯文文末の表現をまず決め、それに対応する複数のWeb文の言い換え元表現を推定する} という問題を解くことになる。


\subsection{言い換え先表現および対応するWeb文集合の抽出}\label{sub:kouho}

まず言い換え先表現の抽出方法について説明する。
言い換え先表現の抽出のために携帯文を形態素解析し、文末にある１形態素を取
り出す。
これによりサ変接続の名詞であれば「会談」や「表明」といった表現が抽出される。
しかし、これだけでは助詞や助動詞、動詞の場合は「も」や「た」、「示す」といった
言い換え表現として使用が難しい表現や、意味の範囲が広すぎるために言い換え表
現の抽出が困難な表現が抽出されてしまう。
その問題はさらに文頭方向にある形態素を続けて抽出することにより解消で
きる。
その結果、「可能性も」や「述べた」、「認識示す」といった言い換え先表現
が取り出され、言い換え元表現の抽出も容易になる。

次に図\ref{buntaiou}に抽出した言い換え先表現に対する対応文集合を作成す
る流れを示す。
まず図の左側の枠内にあるように、抽出した言い換え先表現に対しその言い換
え先表現を文末に持つ携帯文を集める。
そして図の右側の枠内にあるように、集めた携帯文に対応するWeb文を集め、
それをWeb文集合とする。
そのときのWeb文集合の要素数を以下「対応文数」と呼ぶ。
\ref{sub:webbunmatsu}節以降で説明する言い換え元表現の抽出は、ここで作成
されたWeb文集合の文末から抽出することになる。


\begin{figure}[htb]
\begin{center}
\includegraphics[width=110mm]{img/buntaiou.eps}
\caption{言い換え先表現の抽出と対応文集合}
\label{buntaiou}
\end{center}
\end{figure}

この方法により、言い換え先表現として4617表現を抽出した。
抽出した言い換え先表現のうち頻度が上位30位までの表現を表
\ref{kouho_space}に示す。
動詞終止形、助詞、形容詞語幹(「高」「安」)、
など様々だが、一番多いのはサ変接続名詞であり60\%を占める18個である。
文末のサ変名詞はいわゆる体言止めであり、この表にも示されるように頻度が高
く、結果として適用される頻度も高いと推測される。

\begin{table}[htb]
\caption{言い換え先表現の例}
\label{kouho_space}
\begin{center}
\begin{tabular}{|r|r||r|r||r|r|} \hline
抽出表現 & 対応文数 & 抽出表現 & 対応文数 & 抽出表現 & 対応文数  \\\hline\hline
高 & 1780    & ている & 505  & 協議 & 315   \\\hline
安 & 1668    & 判明 & 422    & 可能性も & 310  \\\hline
発表 & 1118  & 方針 & 408    & 要請 & 292 \\\hline
逮捕 & 967   & 見通し & 402  & れた & 286 \\\hline
」と & 933   & ため & 399    & 発言 & 282 \\\hline
会談 & 788   & 強調 & 378    & 指摘 & 270 \\\hline
表明 & 735   & 合意 & 341    & 」 & 264 \\\hline
死亡 & 629   & 開始 & 329    & 確認 & 261 \\\hline
決定 & 538   & 検討 & 328    & 予定 & 254 \\\hline
いた & 513   & 批判 & 317    & みられる & 247 \\\hline
\end{tabular}
\end{center}
\end{table}

ここで頻度が高かった「高」と「安」であるが、これはほぼ全てが経済の記事
からであり、
「円高」「円安」などが元となっている。さらに対応するWeb文では「円高・ドル安と
なった」「円安・ドル高となった」という表現が固定的に用いられている。
その特殊性から正解となる言い換え元表現が少なく、例を挙げての説明が困難と
なるため、以下の説明の際は頻度が次に多い「発表」を用いる。

\subsection{言い換え元表現候補の抽出}\label{sub:webbunmatsu}

\ref{sub:kouho}節で作成されたデータを用い、言い換え先表現に対応す
る言い換え元表現をWeb文集合の各文の文末から抽出する。
言い換え元表現の抽出にはWeb文を形態素解析し、文末から文頭方向に向かって1
形態素ずつ増やしながら表現を抽出する。
言い換え元表現が含まれる長さとして十分な15形態素までを使用する。
ここでは単純に形態素区切りで表現を取り出すため、言い換え元表現に適さ
ない表現も数多く抽出されるが、\ref{sub:junni}節で述べる得点付けや
\ref{sub:filter}節で述べるフィルタリングによって排除を試みる。
この時点で抽出された言い換え表現の例を表\ref{iikae-chushutu}に示す。

\begin{table}[htb]
\caption{言い換え先表現が「発表」時の言い換え元表現の候補の例}
\label{iikae-chushutu}
\begin{center}
\begin{tabular}{|r|r|} \hline
た                        & れた \\\hline
した                      & された \\\hline
発表した                  & 指定された \\\hline
を発表した                & が指定された \\\hline
結果を発表した            & 公表された \\\hline
調査結果を発表した        & から公表された \\\hline
の調査結果を発表した      & 発表された \\\hline
費の調査結果を発表した    & 日発表された \\\hline
医療費の調査結果を発表した& が発表された \\\hline

\end{tabular}
\end{center}
\end{table}

\subsection{分岐数、頻度、文字列長に基づく言い換え元候補の順位付け}\label{sub:junni}

\ref{sub:webbunmatsu}節で抽出された言い換え元表現には言い換えとして適
切な
表現と言い換えとして不適切な表現が含まれていることになる。
そこで、抽出された表現に対して正解が上位に集中することを目的とした順位付
けを行う。

順位付けを行うにあたってまず、ある言い換え先表現に対応するWeb文集合にお
いて、集合全体としてWeb文の文末が持つ特徴を説明する。
図\ref{rev-bunki}にWeb文集合中のWeb文の文末から文頭方向への語の分岐の様
子の例を示す。
図から前方に向かって形態素が分岐していることが分かる。
まず、一番右側にWeb文の一番文末の形態素となる「た」や「する」がくる。
さらに1つ前方にある形態素を繋げると「した」や「だった」や「発表する」が
抽出できる。
例えば、「を発表した」に続く形態素は「結果」「表明」「コメント」
など111種類ある。
ここで、ある表現から１つ前方の形態素の種類数をその形態素の分岐数と呼ぶ。
さらに図\ref{happyo-bunki}に図\ref{rev-bunki}で示した内容の一部分の分岐
数と頻度の関係を示した。
このグラフからは「発表した」までは分岐数が小さく、「を発表した」で分岐数が
大きく、さらに「結果を発表した」となるとまた小さくなることが分かる。
これは、(a)固定された表現の内部では部分形態素列を長く与えれば与えるほど、
直前あるいは直後の形態素が絞り込まれること、(b)ひとたび固定的な表現が終
わると、その前後にはいかなる表現も現れることができるようになること、に
対応している。
よって分岐数が大きい形態素までの形態素列がよい言い換え元の候補である
と考えることができる。
さらに良く使われる表現ほどその表現は固定的な言い回しで、言い換え先表現と
深くかかわっている可能性が高いと考えられる。

\begin{figure}[htb]
\begin{center}
\includegraphics{img/back.eps}
\caption{言い換え先表現が「発表」時のWeb文を文末からみた様子}
\label{rev-bunki}
\end{center}
\end{figure}

\begin{figure}[htb]
\begin{center}
\includegraphics[width=100mm]{img/happyo-bunki.eps}
\caption{言い換え先表現が「発表」時のWeb文を文末からみた分岐数と頻度の関係}
\label{happyo-bunki}
\end{center}
\end{figure}

以上の特徴を踏まえ、言い換えのよさを示す評価関数の構成要素として以下
を用いる。

\begin{description}
\item[分岐数:] 分岐数の大小が言い換え表現句としての切れ目の可能性の大小
	   を表すと考えられるので評価関数の構成要素として用いる。
\item[頻度:] 良く使われる表現は安定していることを示すので、他の要因と組
	   み合わせて用いることは有益である。
\item[文字列長:] ここでいう文字列長は形態素数ではなく文字数である。
	   言い換え元表現は短過ぎるならば言い回しにならず、長過ぎるなら
	   ば文脈に依存した表現になってしまう。
	   長過ぎもせず、短すぎもせず、適度な長さの表現を抽出したい。
	   そのため評価関数ではlog( 文字列長 $-$ 1 )を用いる。
	   $\log$により長い文字列に対して得点の抑制を、文字列長 $-$ 1に
	   より1〜2文字の表現の排除をする効果がある。
	   さて、長さに形態素数を使うという選択肢もある。
	   しかし、もし形態素数を文字列長の代わりに使うと、十分に長くて
	   意味のある形態素(例えば固有表現)が長さ=1で排除されてしまいか
	   ねない。
	   これを避けるために文字数を用いた。
\end{description} 

\noindent
上記の各要素を\\
$a = $分岐数\\
$b = $頻度\\
$c = \log($文字列長$ - 1)$
\\\\
と定義し、評価関数を
$a, b, c, a \times b, a \times c, b\times c, a\times b\times c$
の7種類を用いて比較実験を行った。
対応文数の多かった100位までの言い換え元表現の候補のスコアが1位の表現を人
手で評価し、評価関数の違いによる正しい表現の割合を表\ref{score7}に示す。
この結果から、評価関数$a \times b \times c$を用いた方法が最も精度が高いこと
がわかる。
よって、評価関数$a \times b \times c$を用いた得点付けのデータを用いる。

\begin{table}[htb]
\caption{計算手法の違いによる精度の違い}
\label{score7}
\begin{center}
\begin{tabular}{|r||r|r|r|r|r|r|r|} \hline
評価関数  & $a$  & $b$ & $c$ & $a \times b$ & $a \times c$ & $b \times c$ &
 $a \times b \times c$ \\\hline\hline
正解の割合&18\%&5\%&0\%& 12\% & 46\% & 65\% &  71\%   \\\hline
\end{tabular}
\end{center}
\end{table}

さらに言い換え元表現として正しい表現が得点が高くなり、高順位になることを示
すために、図\ref{happyo-bunpu}に言い換え先が「発表」の場合に$a \times b
\times c$の方法で得点付けをした場合の言い換え元の正しい表現の分布グラフ
を示す。
このグラフから、多くの正しい言い換え元表現が高順位に集中しているこ
とがわかる。
低い順位にいくつか正しい言い換え元表現がきているが、これは表現
の頻度が少なかったために得点が低くなったことが原因である。

\begin{figure}[htb]
\begin{center}
\includegraphics[width=100mm]{img/happyo-bunpu.eps}
\caption{言い換え先表現が「発表」の場合の正しい表現の分布}
\label{happyo-bunpu}
\end{center}
\end{figure}


\subsection{フィルタリングによる不適切な言い換え元表現の削除}\label{sub:filter}

言い換え元表現として抽出した表現の中には文の意味として
欠落してはならない語を含んでいることがあるため、
その語を言い換えによって削除してしまうと意味が通らない文になっ
てしまう可能性がある。
このような不適切な言い換え元表現は前節の得点付けによって順位が下位になる
場合は採用されないが、
収集した記事中でよく使われる表現であれば言い換え元表現として不適切な
表現も上位になってしまう。
そのような言い換え元表現を削除するためのフィルタリングを行う。
そのアルゴリズムは次のようになる。
\\

\noindent\textbf{フィルタリングアルゴリズム}\\
\noindent
$n$を言い換え元表現の数とし、
言い換え元表現の集合を$\{x_1,x_2,$…$,x_n\}$，
言い換え元表現を$x_i = S_{1} S_{2}$…$S_{m}$ ($S_{k}$は形態素)，
言い換え先表現を$y$，
携帯文を$M_{1} $…$ M_{j} \/y$ ($M_{l}$は形態素,\/ $y$は言い換え先表現)，
$C$を名詞
とすると、\\

for($i$ = 1 , $n$) \{\\
\hspace{2em}if ( $C \in \{M_{1},$…$, M_{j}\} \wedge C \in \{S_{1},$…$, S_{m}\} \wedge C \notin y$)\\
\hspace{2em}$then$ $x_i$を言い換え元表現集合から除く\\
\indent\}\\

なぜなら名詞$C$は携帯文に含まれるが、言い換え先表現$y$には含まれない。
つまり$C$は携帯文にとって必須の意味を担う。
よって$C$を含む言い換え元表現$x_i$を$C$を含まない言い換え先表現$y$に省略
することはできない。

具体例を図\ref{filter-img}に示す。
ここで$C$は「声明」となり、削除対象となる言い換え元表現$x_i$は「声明
を発表した」となる。
なお、$y$は「発表」である。
Web文にも携帯文にも「声明」という語が含まれ、文の内容として必須の語であ
ることがわかる。
よって「声明」という意味を削除する「声明を発表した」は「発表」の言い換え元表現
として正しくないと考えられるため、言い換え元表現の候補から削除する。

\begin{figure}[htb]
\begin{center}
\includegraphics[width=110mm]{img/filter-img.eps}
\caption{フィルタリング処理の具体例}
\label{filter-img}
\end{center}
\end{figure}

フィルタリングによって\ref{sub:junni}節で得られたデータがどのように変化
するかを表\ref{filter-henka}に示す。
表中でアンダーラインが引かれているものがフィルタリングに
よって削除された表現である。
この表から、言い換え元表現として用いるには不適切な表現が削除でき
ていることが分かる。

\begin{table}[htb]
\caption{フィルタリングによる言い換え元表現の削除の例\\
(言い換え先：「発表」)}
\label{filter-henka}
\begin{center}
\begin{tabular}{|r|r|} \hline
を発表した             & を明らかにした \\\hline
と発表した             & \underline{ことを明らかにした} \\\hline
発表した               & \underline{たことを明らかにした} \\\hline
すると発表した         & \underline{調査結果を発表した} \\\hline
たと発表した           & 明らかにした \\\hline
したと発表した         & \underline{策を発表した} \\\hline
\underline{結果を発表した}& となった \\\hline
\underline{声明を発表した}& したことを明らかにした \\\hline
\underline{計画を発表した}& \underline{する声明を発表した} \\\hline
\end{tabular}
\end{center}
\end{table}


