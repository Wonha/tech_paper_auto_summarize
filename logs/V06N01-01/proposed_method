日本語における格要素の省略現象
\label{節:現象}

本節では格要素の省略という現象の考察を行なう。対話と文章、格による相違
という二つの視点から格要素がどのように省略されるのかを議論することによっ
て、本研究で解くべき問題の設定を明確にする。


\subsection{対話と格要素省略}

前述したように、格要素の省略には文脈省略と外界省略の二種類ある
{}\footnote{さらに、文脈省略を二つに分ける分類方法もある。例えば
{}\cite{Nakaiwa}では、補完要素が省略された格要素を持つ文中にある場合
(文内照応)とその文以前にある場合(文間照応)とに分けている。}。この二種
類の省略の出現割合はテキストの種類によって、つまりそのテキストが対話
(音声言語)か文章(新聞や小説などの文字言語)かによって大きく異なることが
想像できる。この関係を表にしたものを表\ref{文章と対話} に示す。


\begin{table}
\begin{center}
\caption{文章と対話の性質}
\label{文章と対話}
\begin{tabular}{l|cc}
\hline\hline
           & 文章        & 対話 \\
\hline
文脈省略 & 多い          & ヲ格では多い \\
外界省略 & 少ない        & 非常に多い \\
\hline
省略の頻度 & 比較的少ない  & 比較的多い \\
\hline
\end{tabular}
\end{center}
\end{table}

本研究の対象となる対話について考えると、文章とは省略の様子が大きく異な
ることがわかる\footnote{ここでは、演説などの不特定の相手への対話、及び
日記や手紙などの特定の相手への文章などは考えない。}。文章は多くの場合、
それ自体で完結していることが必要であり、読者を明確に特定できない場合が
多いため読者との共有知識を明確に定義できず、それ故省略もそれほど多く起
こらない。また省略された場合の補完内容は、その文章内にある場合が多いと
考えられる。これに対し対話(特に二者対話などの少数聴者に対する対話)では、
相手に情報を伝えることが目的であり、双方向でコミュニケーションをとりな
がら進行するため共有知識も次第に増え、その結果省略も多用される。また、
コミュニケーションをとる必要上、対話参加者に関する省略、つまり外界省略
が比較的多いと考えられる。以上のような理由により、省略の補完処理につい
てもどのようなテキストを対象にするかによってどの省略を中心に取り扱うか
が自ずと決まる。


\subsection{表層格による格要素省略の差異}

省略された格要素が外界省略か文脈省略かは格によっても大きく傾向が異なる。
以下では、日本語の主たる表層格要素であるガ格、ヲ格、ニ格について考える。

ガ格は、動作や状態の主体または対象を表す場合に使用される。これらを観察
すると、動作の主体または対象が省略される場合と、状態の主体または対象が
省略される場合で、省略及び補完に必要な情報の傾向が大きく異なることが予
想される。以下の[\ref{乗る}]は動作を表す文であり、[\ref{冷たい}]は状態
を表す文である。前者のガ格は人である場合が多いが後者ではガ格が人になる
割合はそれほど多くない。

\begin{example}
\item 早く電車に乗ってください。\label{乗る}
\item とても冷たいですね。\label{冷たい}
\end{example}

以上の検討より、本論文では省略された文の述部によってガ格を二つに分離し、
別個のものとして取り扱った。すなわち、一つは述部が動詞の場合、もう一つ
は述部が形容詞、形容動詞、あるいは「名詞＋判定詞(だ/です)」の場合であ
る。以下では、前者をガ格(動)、後者をガ格(形)と表記する。なお、ガ格分離
の妥当性は後で考察する。

ヲ格は、動作や感情を向ける対象や移動の場所、起点を示す。このため、動作
や感情の対象が対話参加者となる可能性のある一部の動詞(「紹介する」など)
を除いて、多くの場合が照応的な省略、文脈省略となることが予想される。

ニ格は、動作を向ける相手(「彼\underline{に}見せる」)、移動の着点(「京
都\underline{に}着く」)などいろいろな用法がある。ニ格となる名詞には様々
な種類が考えられるが、大別すると、人、場所、抽象物(時間を含む)、具体物
に分けられるが、多くは人であると予想される。

以上の考察の妥当性を確認するために、対話コーパス(\ref{節:コーパス} 節を
参照) 499対話(18385 文、省略総数\footnote{表に示す格以外の格、並びに特
殊な用法の省略を除く。} 15397 )における省略された格の補完内容を実際に
調査した。その結果を表\ref{調査} に示す。これより、ガ格(動)とガ格(形)で
はその省略の傾向が異なること、ヲ格はほとんどが文脈省略であること、ニ格
の89.1\%が外界省略であることなどがわかる。


\begin{table}
\begin{center}
\caption{対話文における各表層格別の省略頻度}
\label{調査}
\begin{tabular}{c|rrrrrr|r}
\hline\hline
   & 一人称(単 & 複) & 二人称(単 & 複) & 一般\footnotemark & 文脈省略 & 合計 \\
\hline           
ガ(動) & 3864 & 962 & 1879 & 284       & 361   & 1359     & 8709 \\
& 44.4\% & 11.0\% & 21.6\% & 3.3\%     & 4.1\% & 15.6\%   & \\
ガ(形) &  576 & 442 &  306 &  52       &  14   & 1365     & 2755 \\
& 20.9\% & 16.0\% & 11.1\% & 1.9\%     & 0.5\% & 49.5\%   & \\
ヲ     &   47 &   4 &    4 &   3       &   0   & 1137     & 1195 \\
& 3.9\% & 0.3\% & 0.3\% & 0.3\%        & 0\%   & 95.1\%   & \\
ニ     & 1163 &  53 & 1156 &  61       &   8   &  297     & 2738 \\
& 42.5\% & 1.9\% & 42.2\% & 2.2\%      & 8.3\% & 10.8\%   & \\
\hline           
合計   & 5650 & 1461 & 3345 & 400      & 383   & 4158     & 15397 \\
& 36.7\% & 9.5\% & 21.7\% & 2.6\%      & 2.5\% & 27.0\%   & \\
\hline
\end{tabular}
\end{center}
\end{table}
\footnotetext{「一般」については\ref{節:補完情報} 節で述べる。}


\subsection{対話文の問題設定と補完戦略}

本研究の目的は、日本語から必須格を持つ目的言語への機械翻訳において、省
略されている必須格要素の人称と数を補完することである。しかし前述したよ
うに、文章と対話によって省略の傾向が異なり、これらすべてを対象にして統
一的な処理を行なうことは適当ではないと考える。そこで、対話において比較
的重要な外界省略を主たる対象にして、本論文では以下のように問題を設定し
た。

\begin{itemize}
\item 外界省略の人称と数の補完
\item 文脈省略の認知
\end{itemize}

これまで、照応的な省略に対しての研究はいくつか行なわれている。これらの
研究は以上の問題設定とは相補的になる。すなわち、本論文の手法によって文
脈省略と認知することができれば、省略内容の補完処理はこれらの従来研究、
例えばセンタリング理論によって解くことが可能となり、対話におけるすべて
の格要素省略の問題を解くことができる。




\subsection{コーパスと話題}
\label{節:コーパス}

本研究で使用したコーパスは、チケット予約、観光案内などにおける二者の対
話を収録したATR旅行会話コーパス\cite{ATRCorpus}(以下、「コーパス」と呼
ぶ)である。おおよそ1対話は20文から40文で構成され、平均は26文である。コー
パスは全部で 618 対話からなるが、本研究ではそのうち499対話を調査、決定
木学習及び実験に使用した。

コーパスは、ホテルにおける旅行客とフロントの対話を中心に、広範な範囲の
対話を収録している。本論文ではこれを大きく表\ref{話題} に示す4つの話題
に分類した。この分類は\ref{節:話題依存性} 節での話題依存性での議論の際
に使用する。


\begin{table}
\begin{center}
\caption{コーパスの話題分類}
\label{話題}
\begin{tabular}{ll}
\hline\hline
記号  & 話題 \\
\hline
$H_1$ & ホテルにおける部屋の予約、変更、キャンセル\\
$H_2$ & ホテル利用に関する問い合わせ、苦情\\
$H_R$ & その他のホテル関連の話題：ホテル選択やホテル設備案内など\\
$R$   & ホテル関係以外の旅行対話：出入国、観光、買い物など\\
\hline
$H$   & $H=H_1+H_2+H_R$：コーパス中のホテルに関する全話題\\
$T$   & $T=H_1+H_2+H_R+R$：旅行対話の全話題\\
\hline
\end{tabular}
\end{center}
\end{table}


決定木を用いた省略補完
\label{節:手法}

本節では、省略の補完に必要な二つの側面、多要素性と相互依存性について検
討を行なった後、提案する手法について述べる。


\subsection{多要素性}

日本語における格要素の省略内容の補完には、非常に多種多様な要素が関係し
ていることは、以前から知られている。従来文献においても、例えば Dohsaka
{}\cite{Dohsaka}は、待遇関係、視点関係、制御関係、情報のなわばりに関す
る語用論的制約によって補完を試みている。また、工藤ら{}\cite{工藤}は、
謙譲、丁寧、可能、完了などの意味を持つ機能語と、動詞の語彙的な特性によ
る省略補完手法を提案している。

省略補完に必要な情報の例を、以下に示す。

\begin{itemize}
        \item 待遇表現\\
                対話において尊敬語や謙譲語などが使用された場合には、
                誰の動作か述べる必要がなくなり、ガ格が省略される。すなわち、
                ガ格の補完にはこれら敬語は重要な情報を果たす。
        \begin{example}
                \item そちらに参ります。(ガ格は一人称)
        \end{example}
        \item 平叙/疑問/命令\\
                以下の例では、疑問文かどうかでガ格が異なる。
        \begin{example}
                \item わかりました。(ガ格は一人称)
                \item わかりましたか。(ガ格は二人称)
        \end{example}
        \item 動詞の持つ意味\\
                例えば、以下の発話がホテルのフロントと客との対話と仮定すると、
                どちらの発話かに関係なく、当該動詞のガ格の内容が決まる。
        \begin{example}
                \item キャンセル待ちを調べて$\cdots$ (ガ格はフロント)
                \label{キャンセル}
                \item JRに乗って$\cdots$ (ガ格は客)
        \end{example}
        \item 前文以前の情報(文脈情報)\\
        対話におけるこれまでの話の流れ。
        \item 言語外情報\\
        その文が、どこで、誰が誰に対して発話されたか、など。
        例えば、[\ref{キャンセル}]で、ガ格の人称を決定するには、
        話者がフロントと客のどちらか、という情報が必要となる。
\end{itemize}


このように、対話文において省略を補完するためには多くの情報が必要と考え
られる。さらに用言の持つ意味は省略の補完にとって重要な情報であると思わ
れるが、その重要性は個々の用言によって異なると考えられる。このように非
常に多くの要素が考えられるが、このうち個々の補完事例に本当に必要な要素
のみを選択することが可能な補完手法が必要とされる。人手による補完規則作
成によるアプローチは、このような言語現象に対して個々に考察を行なう必要
があり、一般的には困難が伴う。


\subsection{相互依存性}

例として、以下の発話において「忘れる」のガ格を補完することを考える。

\begin{example}
\item 部屋/に/カメラ/を/\underline{忘れ}/てき/てしまっ/た/ような/んです/が。
\end{example}

この例では、動詞「忘れる」の持つ意味属性や「てくる」「てしまう」「た」
「ようだ」「んです」「が」といった文末表現など、多くの要素が省略補完に
関係する可能性があり、このうちどの要素がどの程度省略補完に影響している
かを明確に記述することは難しい。また、影響の範囲は文末表現間のみ、ある
いは用言と文末表現の組み合わせに限らず、例えば以下のように接頭辞と文末
表現の組み合わせで考慮すべき例もあり、その関係は多種、複雑である。

\begin{example}
\item 近鉄に\underline{お}乗り\underline{になっ}てください。
\label{近鉄}
\end{example}

このように、格要素の省略補完に必要な情報は独立ではなく、相互に影響しな
がら省略が可能になることに注意しなければならない。つまり、[\ref{近鉄}]
で言えば、「お$\cdots$」と「$\cdots$になる」の出現に対して、個別に補完
内容の補完をすることはできない。あるいは、ホテルのフロントにおける受付
と客の対話で、一般的に「宿泊する」の動作主は客もしくは「一般的な人」で
あるが、ある特殊な文脈によってはそれ以外の可能性も考えられ、一概に「宿
泊する」という動詞のみでは決定できない。格要素の補完では、多種多様な言
語現象からどの2要素(あるいはそれ以上)に対して、同時に考慮する必要があ
るのかを検討する必要がある。



\subsection{決定木を用いた省略補完}

以上の考察から、格要素の省略補完には、多要素性と相互依存性を同時に考慮
することが可能な枠組みが必要であることがわかる。これに対し我々は、決定
木を補完知識表現として使用し、統計を利用した決定木学習を省略補完の知識
獲得に使用することを提案する。

近年、大量のコーパスが機械可読になってきていることから、機械学習による
問題解決は自然言語処理のいくつかの問題に適用されている。例えば、田中は
動詞の訳語選択に決定木学習を導入し、有効性を確認している{}\cite{田中}。
さらに、談話処理や文脈処理にもこれらの手法が使用されつつあり、例えば談
話分割や手がかり語などに関する談話処理にも適用されるようになってきてい
る{}\cite{Summary}。



\subsection{補完情報の付与}
\label{節:補完情報}

決定木学習による学習、並びにテストを行なうことを目的に、対話コーパスに
補完内容の情報を付与した。今回付与したタグの種類を表\ref{タグ} に示す。

本論文では、表に示すように6種類のタグを設定した。タグの付与に関して、
これらの補完内容は日本語のみを考慮して付与した。

\begin{example}
\item 財布を盗まれた。\label{例:財布}
\item My wallet is stolen.\label{例:wallet}
\item Mein Geldbeutel ist gestohlen worden.\label{例:Geldbeutel}
\end{example}

例えば以上の例文において、[\ref{例:財布}]におけるガ格は「私」であるが、
その英語訳である[\ref{例:wallet}]の主格は`my wallet'、ドイツ語訳である
[\ref{例:Geldbeutel}]の主格は`mein Geldbeutel'である。このように翻訳先
の言語によって人称が変わる場合があるが、英語などへの翻訳時に人称がどう
なるかという観点では付与しなかった。つまり上記の例では用言「盗む」に対
して<1sg>(＝一人称単数)のタグを付与した。これは、一般に訳し方は一通り
でないこと、翻訳の目的言語が英語のみではないこと、などの理由による。

\begin{example}
\item 右へ曲がると交番です。\label{例:交番}
\end{example}

日本語においては、[\ref{例:交番}]などのように、特定されない人称を省略
要素とする文、つまり一般的な「人」を念頭において発話していると考えられ
る文がしばしば見受けられる\footnote{日本語のみならず、韓国語や中国語に
も見受けられる。}。このような場合、例えば英語への翻訳の場合には人称代
名詞`you'を、ドイツ語への翻訳の場合には不定代名詞`man'を主格にすること
が多い。しかし、それぞれ二人称、三人称の省略などとは異なる現象であるこ
と、想定する翻訳目的言語が英語、ドイツ語などと複数であることを理由に、
一人称や二人称とは別のタグ<g>を設定した。以下便宜上、このタグを「一般
(人称)」と呼ぶ。以上は外界省略として扱える。

省略位置以前の要素に照応先がある場合、つまり文脈照応の場合は、一括して
<a>のタグを付与した。本論文では、対話文に頻出する外界省略の補完に主眼
を置き、文脈省略に関しては当該省略が文脈省略であることの認知のみを行な
い、具体的な先行詞の補完は別処理で行なうと仮定した。


\begin{table}
\begin{center}
\caption{付与したタグの種類}
\label{タグ}
\begin{tabular}{cll}
\hline\hline
タグ    &       意味       & 備考\\
\hline
<1sg>   &       一人称単数 & 話者が個人としての立場から発言している場合 \\
<1pl>   &       一人称複数 & 話者が代表している機関、グループの場合を含む\\
<2sg>   &       二人称単数 & 聞き手を個人としてとらえている場合 \\
<2pl>   &       二人称複数 & 聞き手が代表している機関、グループを含む \\
\hline
<g>             &       一般 & 特定されない人物(一般的な「人」を念頭に置いた発話) \\
<a>             &       照応的 & 前文以前の発話に先行詞がある場合 \\
\hline
\end{tabular}
\end{center}
\end{table}




\subsection{決定木と決定木学習}

多岐にわたる情報を統一的に、かつ自動的で一意に省略を補完する手法として、
本研究では決定木を用いる。決定木は、根付き有向木で表現される知識表現構
造であり、以下の利点を持つ。

\begin{enumerate}
\item
木という単純な構造の組み合わせによって多要素が複雑に関係した概念が表現
できる
\item
透明性が高いため、要素間の影響が明確に記述され、手作業による変更が十分
に可能である
\item
処理が高速で、多くの場合処理時間は実用上無視できる程短い
\end{enumerate}

決定木の各分岐節点はある属性\footnote{特徴あるいは質問と呼ぶこともある
が、本論文では属性に用語を統一する。}に対応してその属性値によって枝分
かれしていき、それぞれの葉で意志決定が行なわれる。決定木は分岐節点にお
ける分岐数によって大きく二分木と多分木とに分かれるが、本論文では前者を
使用した。これによって、属性値は`Y'または`N'の二値になる。決定木の例を
付録の\ref{節:決定木} に示す。

コーパスからの帰納的学習により決定木の作成を行なう。本研究では
ID3\cite{Quinlan}のアルゴリズムと同様、エントロピー規準による貪欲法
(greedy algorithm)によって決定木学習を行なった。また、枝刈り(pruning)
は行なっていない。



\subsection{使用属性}
\label{使用属性}

省略された格要素を補完するためには、種々の情報を考慮して行なわなければ
ならない。本研究では計367の属性を使用した。その内訳を表\ref{属性} に示
す。表に示すように、属性は内容語、機能語、言語外情報に大きく分類できる。
以下ではそれぞれについて説明する。


\begin{description}
\item[内容語の意味属性]

省略の対象となる文において、どのような内容語が含まれているかに関する情
報。内容語は大きく、用言に関する情報と格要素(体言)に関する情報に分かれ
る。内容語の意味属性としては角川類語新辞典\cite{角川類語}における中分
類(100属性)を使用した。


\item[機能語の出現]

用言に後接する付属語群、及び助詞などの機能語の出現に関する情報。付属語
群の中には、受動/尊敬/可能/自発「れる」使役「せる」アスペクト「ている」
などの助動詞などのほか、当為を表す準体助動詞「べき」などが含まれる。ま
た、尊敬(召し上がる)、謙譲(伺う)、可能(飲める)などを示す動詞の集合をそ
れぞれ一つの属性とし、「尊敬」などを示す機能語として取り扱った。また、
受給表現「やる」や動詞「する」「なる」なども特殊な機能語と見なした。

その他の機能語には、格助詞、接続助詞、終助詞、「\underline{お}考えです
か」「\underline{ご}用意できます」の例に見られる動詞直前の敬意を表す接
頭辞がある。この他、禁止を表す形容名詞「だめ」意志を表す形式名詞「つも
り」、疑問詞集合(「どこ」「なぜ」など)なども機能語に含めた。


\item[言語外情報]

言語外情報としては、発話された文の話者が情報提供者か情報享受者か、とい
う属性を使用した。

\end{description}


\begin{table}
\begin{center}
\caption{使用属性とその要素数}
\label{属性}
\y{3}
\begin{tabular}{llr}
\hline\hline
対象               & 属性       & 属性数 \\
\hline
内容語(用言)   & 意味属性   & 100 \\
内容語(格要素) & 意味属性   & 100 \\
\hline
機能語(格助詞)   & が、に、を    &   9 \\
機能語(接続助詞) & ので、たら    &  21 \\
機能語(助動詞群) & れる、ている  & 132 \\
機能語(その他)   & お、敬語動詞  &   4 \\
\hline
言語外情報     & 話者情報     &   1 \\
\hline
合計               &              & 367 \\
\hline
\end{tabular}
\end{center}
\end{table}

すべての属性は (照合方法, 照合位置, 属性値) の三つ組によって表現される。
照合方法は、\verb+:speaker+ (話者の照合)、\verb+:regexp+ (正規形による
形態素の照合)、\verb+:semcode+ (意味属性の照合) の3種類である。照合位
置は、補完の対象となる用言の位置を基準として以下に示す5種類を設定した。
\smallskip

\begin{tabular}{ll}
\verb+:before+ & 文頭から用言の直前までの間の形態素 \\
\verb+:latest+ &  用言の直前の形態素 \\
\verb+:here+ &  用言 \\
\verb+:next+ &  用言の直後の形態素 \\
\verb+:after+ &  用言の直後から文末までの間の形態素 \\
\end{tabular}\medskip

\noindent
例えば、照合位置として補完対象用言に関しては \verb+:here+、格助詞に対
しては\verb+:before+、接頭辞に対しては \verb+:latest+ を与える。話者の
照合 \verb+:speaker+ の対象は常に省略された文であり、位置情報は一意に
決まるため不要であるが、他の属性との整合性をとるため便宜上 
\verb+:here+ を与える。照合対象が複数の形態素となる\verb+:before+と
\verb+:after+に関しては、照合範囲にある形態素のいずれかが属性の条件を
満たすかどうかによって照合を行なった。具体的な属性の例と、その意味を以
下に示す。\smallskip

\begin{enumerate}
\item{\tt (:speaker :here 情報提供者)}\\
文の話者が情報提供者である。

\item{\tt (:regexp  :after ("たい" "助動詞"))}\\
用言の後に助動詞「たい」を含む。

\item{\tt (:semcode :here 30)}\\
用言の意味属性が 30 である。

\item{\tt (:semcode :before 81)}\\
用言の前に意味属性 81 の内容語を含む。

\item{\tt 
        \begin{tabular}[t]{@{}ll}
        (or & (:regexp :latest ("お" "接頭辞"))\\
            & (:regexp :latest ("ご" "接頭辞"))\\
            & (:regexp :latest ("御" "接頭辞")))\\[2mm]
        \end{tabular}
}

用言の直前の語が接頭辞の「お/ご/御」である。

\end{enumerate}
\y{3}

複文や重文などの、文が複数の単文からなる場合には、近似的に単文に分割し
た。分割手法は、接続助詞\footnote{「$\cdots$たら/ば」のように、複数の
接続助詞が連続する場合は最後方の接続助詞。}を分割位置にしてその前後を
分割した。


議論
\label{節:議論}

決定木はある問題に対しては非常に便利な知識表現手段であるが、可読性もそ
の特徴の一つである\cite{田中}。本節では、これまでに述べた諸実験において
作成された決定木を観察することによって、属性の充足性、個々の属性の重要
性などを議論する。

\subsection{決定木の形状}

学習数と決定木の節数との関係を両対数グラフにしたものを図\ref{節数} に示
す。また各決定木の最深節と最大幅を表\ref{深さ} に示す。この図より、学習
量を変化させて作成したガ格(動)の決定木において、学習量と節数はほぼ対数
的に線形であることがわかる。本研究では決定木学習に際し枝刈りを行なって
いないため、このような関係になったものと推察される。ガ格(形)に関しては
ほぼガ格(動)と同様の節数となった。

ニ格に関しては、ガ格(動)よりはいくぶん小さな木となっていることがグラフ
よりわかる。またヲ格はほとんどが<a>であるため、ほとんど事例分割の必要
性がなく、最も小さな木となった。


\begin{figure}
\begin{center}
\epsfile{file=22.eps,height=71mm}
\caption{節数と学習数との関係}
\label{節数}
\end{center}
\end{figure}

\begin{table}
\begin{center}
\caption{各決定木の最深節と最大幅}
\label{深さ}
\begin{tabular}{l|*{6}{c}}
\hline\hline
  & ガ/25&ガ/100&ガ/400&ガ(形)&ヲ&ニ\\
\hline
  最深節までの節数 &  27 &   34 &   49 & 28 & 10 & 18\\
同一深さでの最大幅 &  26 &   58 &  146 & 52 & 10 & 28\\
\hline
\end{tabular}
\end{center}
\end{table}


\subsection{事例被覆率}

補完内容の決定に対する各属性の重要性を見る一つの尺度として、「事例被覆
率」を定義する。ある属性の事例被覆率は、その属性が決定木の意志決定に使
用されている事例数の、全事例数に対する割合である。例えば決定木の根で使
用されている属性の事例被覆率は、すべての事例がこの属性を(最初に)検査す
ることから、100\%となる。この尺度から、各属性の意志決定に対する寄与度
が数値化できる。

まず、学習量との関係を議論した{}\ref{節:学習量} 節での実験における主な
属性の事例被覆率を表{}\ref{事例被覆率/が} に示す\footnote{以後の表及び
説明では、煩雑のため\verb+:semcode+及び \verb+:regexp+の表記は省略する。}。
表の上部に示した通り、事例被覆率が100\%である属性(＝最上部で検査される
属性)は「\verb+:here 43+」つまり対象となる用言の意味コードが43(意向)で
あるかどうか、であった。この属性や「\verb+:here 41+」(思考)には共に
「思う/考える/願う」などの語が含まれており、話者の意図や希望を表現して
いる。これらの動詞は旅行対話に限らず広く使用されるため、この両属性はそ
の他の内容語とは異なる一種の機能語のような役割を果たしていると考えられ
る。

ただ、この両属性のように学習量に関係なく事例被覆率の高い属性はむしろ少
数で、同一の格、同一の話題であっても学習量の増加と共に多くの属性の事例
被覆率が変化していることが観察できる。表によると、学習量が少ない時は 
{}\verb+:before+、つまり対象となる用言以前にどのような内容語が存在した
かに関して多くの注意が注がれ、学習量の増加に伴って機能語、特に尊敬を示
す「$\cdots$てくださる」「召し上がる」などの語の存在によって人称を判断
するようになることがわかる。


\begin{table}
\begin{center}
\caption{学習量による事例被覆率の変化}
\label{事例被覆率/が}
\begin{tabular}{c|*{3}{r}}
\hline\hline
                    & ガ/25& ガ/100& ガ/400\\
\hline
\verb+:here 43+(意向)    &100.0\% &100.0\% &100.0\% \\
\verb+:here 41+(思考)    & 72.8\% & 84.8\% & 86.5\% \\
\verb+:after+ か(終助詞)& 53.1\% & 83.2\% & 66.3\% \\
\hline
\verb+:after+ てくださる   & 9.1\% & 49.1\% & 49.8\% \\
(尊敬語)             & --- & 39.9\% & 36.8\% \\
\verb+:after+ ていただく   & --- & 33.2\% & 33.9\% \\
\verb+:after+ する         & 4.1\% & 22.0\% & 26.1\% \\
\hline
\verb+:before 72+(施設)& 55.1\% & 0.5\% & 3.8\% \\
\verb+:before 94+(建物)& 28.5\% & 9.8\% & 7.7\% \\
\verb+:before 83+(言語)& 25.1\% & 1.1\% & 1.3\% \\
\hline
\verb+:speaker+        & 11.7\% & 9.1\% & 20.5\% \\
\hline
\end{tabular}
\end{center}
\end{table}


次に、格要素別の事例被覆率を表\ref{事例被覆率/格} に示す。ここでも、ガ
格(動)とガ格(形)の明確な差異が見受けられる。ガ格(形)の決定木は他の各要
素の内容、例えば「で」などの格の存在とその格要素に関する属性が多いのに
対して、一方ガ格(動)は述語と一部の重要な機能語に関する属性が多い。また
ニ格補完に作成した決定木は、一部の相違はあるもののガ格(動)と類似の傾向
を示した。

なお事例被覆率による結果では、話者の役割は我々が事前に予想したほどの重
要性を持っていないとの結果となった。これは、用言と話者役割の情報を共に
使用することによって補完内容が特定される場合を想定していたが、このよう
な例があまり多数存在しなかったため、もしくは旅行対話における二者対話と
いう制約が強く働き、話者を知る必要がないため、などの理由が考えられる。


\begin{table}
\begin{center}
\caption{格による事例被覆率の変化}
\label{事例被覆率/格}
\begin{tabular}{c|*{3}{r}}
\hline\hline
                   & ガ/400 & ガ(形) & ニ \hfill \\
\hline
\verb+:after+ ございます&  --- &100.0\% &  --- \\
\verb+:before 16+(状態)  &  5.1\% & 68.5\% &  0.5\% \\
\verb+:before 34+(陳述)  &  5.3\% & 59.0\% & 11.2\% \\
\verb+:before+ で(格助詞)        &  5.2\% & 23.9\% &  1.9\% \\
\hline
\verb+:latest+ お/ご & 46.4\% &  7.0\% &100.0\% \\
\verb+:here 43+(意向)  &100.0\% &  --- & 49.8\% \\
\verb+:here 41+(思考)  & 86.5\% &  --- & 43.5\% \\
\hline
\verb+:speaker+   & 20.5\% & 33.1\% & 28.0\% \\
\hline
\end{tabular}
\end{center}
\end{table}



決定木の例
\label{節:決定木}

本提案手法で作成される決定木の例を図\ref{決定木の例} に示す。この決定木
は、\ref{節:実験} 節の表\ref{標準} における「未知文」の欄の実験(補完対象:
ガ格(動)、使用属性数: 367、話題:$T$、学習対話数:100、省略数:1710)によ
り実際に作成されたものの一部である。例えば(1)に示す葉には128事例が学習
で集まり、最多要素(＝補完人称)が<1sg>であったことを示す。また、この意
志決定が行なわれるまでに、

\begin{enumerate}
\item \verb+:here 43+ (意向)--> [Y]
\item \verb+:here 78+ (社交)--> [N]
\item \verb+:after+ か(終助詞) --> [N]
\item \verb+:after+ できる --> [N]
\item \verb+:here 40+ (感覚)--> [Y]
\end{enumerate}

\noindent
という五つの属性に対して検査されてきていることを示す。ここで、属性の条
件を満たすときは[Y]、満たさない時は[N]と表記している。

形態素に関する属性にはすべて品詞情報も付与してあるが、以下に示す例では
省略した。ただし、多品詞語に対しては品詞名も表記した。また便宜のため、
内容語の意味属性に対してはそのラベル名も記した。

\begin{figure}[p]
\renewcommand{\baselinestretch}{}\large\normalsize
\centerline{\rule{140mm}{.3mm}}
\begin{verbatim}
:here 43 (意向)
|[Y]:here 78 (社交)
|   |[Y]:after ておる
|   |   |[Y]:after ので
|   |   |   |[N]:after 申し上げる
|   |   |       |[Y]:speaker 情報提供者
|   |   |       |   |[Y]--- <1pl> (4)
|   |   |       |[N]--- <1pl> (19)
|   |   |[N]:before 75 (報道)
|   |       |[Y]:before 16 (状態)
|   |       |   |[N]--- <1sg> (3)
|   |       |[N]:after ている
|   |           |[N]:before を
|   |               |[N]--- <2sg> (58) ----------------(3)
|   |[N]:after か(終助詞)
|       |[Y]:here 44 (要求)
|       |   |[Y]:latest お/ご/御
|       |   |   |[Y]--- <1sg> (9)
|       |   |[N]:before (疑問詞)
|       |       |[Y]--- <2sg> (9)
|       |       |[N]:after でしょう
|       |           |[N]--- <1pl> (5)
|       |[N]:after できる
|           |[Y]:before 15 (時間)
|           |   |[N]--- <1pl> (9)
|           |[N]:here 40 (感覚)
|               |[Y]--- <1sg> (128) ----------------(1)
|[N]:here 41 (思考)
    |[Y]:after た
    |   |[Y]:here 37 (授受)
    |   |   |[N]:before が(格助詞)
    |   |       |[N]:after できる
    |   |           |[Y]--- <a> (120) ----------------(2)
    |   |[N]:after ます
    |       |[N]:latest お/ご/御
    |           |[Y]:after たら
    |              |[N]--- <2sg> (7)
    |[N]:after か(終助詞)
        |[Y]:here 37 (授受)
        |   |[Y]:after できる
        |       |[Y]--- <1sg> (5)
        |[N]:after てくださる
            |[N]:latest お/ご/御
                |[N]:here (尊敬語)
                    |[Y]--- <2sg> (15)
\end{verbatim}
\centerline{\rule{140mm}{.3mm}}
\caption{決定木の例}
\label{決定木の例}
\end{figure}


決定木学習に使用した発話の例
\label{節:例文}

{}\ref{節:決定木} 節の例において、主な終端節点での発話の例を示す。
以下では、`/' は形態素区切りを、下線は補完対象となる用言を示す。
また、すべての形態素は正規形で表記する。

\subsection{節点(1):一人称単数 128事例}
\begin{itemize}
\item ケーブルカー/が/おもしろい/と/\underline{思う}/ます/ね/。
\item 予約/の/必要/は/ない/か/と/\underline{思う}/ます/。
\item バス/の/中/で/ご/ゆっくり/お/休む/いただける/と/\underline{思う}/ます/が/。
\item 一/泊/する/たい/と/\underline{思う}/ている/ます/。
\item その際/に/はっきり/する/た/お/答え/が/できる/か/と/\underline{思う}/ます/が/。
\item ええ/そう/だ/と/\underline{思う}/ます/。
\item 二/時間/で/終わる/と/\underline{思う}/ます/。
\item それでしたら/当ホテル/の/桔梗の間/が/ちょうど/大きい/さ/よろしい/か/と/\underline{思う}/ます/。
\item わたくし/ども/の/要望/する/会場/使用料/の/限度/を/分かる/ていただける/た/と/\underline{思う}/ます/。
\item 使いで/は/より/よい/なる/と/\underline{思う}/ます/けれども/。
\end{itemize}


\subsection{節点(2):文脈省略 120事例}
\begin{itemize}
\item はい/\underline{分かる}/ます/た/。
\item \underline{分かる}/ます/た/。
\item はい/\underline{分かる}/ます/た/鈴木/様/。
\item \underline{わかる}/ます/た/。
\item \underline{分かる}/ます/た/どうも/ありがとう/。
\item なるほど/\underline{分かる}/ます/た/。
\item そう/です/か/\underline{分かる}/ます/た/。
\item \underline{分かる}/ます/た/では/お/願う/いたす/ます/。
\item \underline{わかる}/ます/た/お/調べる/いたす/ます/。
\item だいたい/\underline{分かる}/ます/た/。
\end{itemize}


\subsection{節点(3):二人称単数 58事例}
\begin{itemize}
\item 少々/そのまま/で/お/\underline{待つ}/くださる/ます/。
\item 少々/お/\underline{待つ}/くださる/。
\item 少々/お/\underline{待つ}/くださる/ます/。
\item はい/少々/お/\underline{待つ}/くださる/ます/。
\item しばらく/お/\underline{待つ}/くださる/ます/。
\item それで/こちら/の/番号/が/ちょっと/\underline{待つ}/て
\item どうも/ありがとう/ちょっと/\underline{待つ}/てくださる/。
\item もう/少々/そのまま/で/お/\underline{待つ}/いただける/ます/か/。
\item お/部屋/の/ほう/で/少々/お/\underline{待つ}/くださる/ます/。
\item もう/少々/お/\underline{待つ}/いただける/ます/でしょう/か/。
\end{itemize}


