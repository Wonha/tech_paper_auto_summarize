本節では格要素の省略という現象の考察を行なう。
対話と文章、格による相違という二つの視点から格要素がどのように省略されるのかを議論することによって、本研究で解くべき問題の設定を明確にする。
前述したように、格要素の省略には文脈省略と外界省略の二種類ある{}。
この二種類の省略の出現割合はテキストの種類によって、つまりそのテキストが対話(音声言語)か文章(新聞や小説などの文字言語)かによって大きく異なることが想像できる。
この関係を表にしたものを表[REF_文章と対話]に示す。
本研究の対象となる対話について考えると、文章とは省略の様子が大きく異なることがわかる。
文章は多くの場合、それ自体で完結していることが必要であり、読者を明確に特定できない場合が多いため読者との共有知識を明確に定義できず、それ故省略もそれほど多く起こらない。
また省略された場合の補完内容は、その文章内にある場合が多いと考えられる。
これに対し対話(特に二者対話などの少数聴者に対する対話)では、相手に情報を伝えることが目的であり、双方向でコミュニケーションをとりながら進行するため共有知識も次第に増え、その結果省略も多用される。
また、コミュニケーションをとる必要上、対話参加者に関する省略、つまり外界省略が比較的多いと考えられる。
以上のような理由により、省略の補完処理についてもどのようなテキストを対象にするかによってどの省略を中心に取り扱うかが自ずと決まる。
省略された格要素が外界省略か文脈省略かは格によっても大きく傾向が異なる。
以下では、日本語の主たる表層格要素であるガ格、ヲ格、ニ格について考える。
ガ格は、動作や状態の主体または対象を表す場合に使用される。
これらを観察すると、動作の主体または対象が省略される場合と、状態の主体または対象が省略される場合で、省略及び補完に必要な情報の傾向が大きく異なることが予想される。
以下の[[REF_乗る]]は動作を表す文であり、[[REF_冷たい]]は状態を表す文である。
前者のガ格は人である場合が多いが後者ではガ格が人になる割合はそれほど多くない。
早く電車に乗ってください。
とても冷たいですね。
以上の検討より、本論文では省略された文の述部によってガ格を二つに分離し、別個のものとして取り扱った。
すなわち、一つは述部が動詞の場合、もう一つは述部が形容詞、形容動詞、あるいは「名詞＋判定詞(だ/です)」の場合である。
以下では、前者をガ格(動)、後者をガ格(形)と表記する。
なお、ガ格分離の妥当性は後で考察する。
ヲ格は、動作や感情を向ける対象や移動の場所、起点を示す。
このため、動作や感情の対象が対話参加者となる可能性のある一部の動詞(「紹介する」など)を除いて、多くの場合が照応的な省略、文脈省略となることが予想される。
ニ格は、動作を向ける相手(「彼に見せる」)、移動の着点(「京都に着く」)などいろいろな用法がある。
ニ格となる名詞には様々な種類が考えられるが、大別すると、人、場所、抽象物(時間を含む)、具体物に分けられるが、多くは人であると予想される。
以上の考察の妥当性を確認するために、対話コーパス([REF_節:コーパス]節を参照) 499対話(18385文、省略総数15397 )における省略された格の補完内容を実際に調査した。
その結果を表[REF_調査]に示す。
これより、ガ格(動)とガ格(形)ではその省略の傾向が異なること、ヲ格はほとんどが文脈省略であること、ニ格の89.1%が外界省略であることなどがわかる。
本研究の目的は、日本語から必須格を持つ目的言語への機械翻訳において、省略されている必須格要素の人称と数を補完することである。
しかし前述したように、文章と対話によって省略の傾向が異なり、これらすべてを対象にして統一的な処理を行なうことは適当ではないと考える。
そこで、対話において比較的重要な外界省略を主たる対象にして、本論文では以下のように問題を設定した。
外界省略の人称と数の補完
文脈省略の認知
これまで、照応的な省略に対しての研究はいくつか行なわれている。
これらの研究は以上の問題設定とは相補的になる。
すなわち、本論文の手法によって文脈省略と認知することができれば、省略内容の補完処理はこれらの従来研究、例えばセンタリング理論によって解くことが可能となり、対話におけるすべての格要素省略の問題を解くことができる。
本研究で使用したコーパスは、チケット予約、観光案内などにおける二者の対話を収録したATR旅行会話コーパス[CITE](以下、「コーパス」と呼ぶ)である。
おおよそ1対話は20文から40文で構成され、平均は26文である。
コーパスは全部で618対話からなるが、本研究ではそのうち499対話を調査、決定木学習及び実験に使用した。
コーパスは、ホテルにおける旅行客とフロントの対話を中心に、広範な範囲の対話を収録している。
本論文ではこれを大きく表[REF_話題]に示す4つの話題に分類した。
この分類は[REF_節:話題依存性]節での話題依存性での議論の際に使用する。
本節では、省略の補完に必要な二つの側面、多要素性と相互依存性について検討を行なった後、提案する手法について述べる。
日本語における格要素の省略内容の補完には、非常に多種多様な要素が関係していることは、以前から知られている。
従来文献においても、例えばDohsaka {}[CITE]は、待遇関係、視点関係、制御関係、情報のなわばりに関する語用論的制約によって補完を試みている。
また、工藤ら{}[CITE]は、謙譲、丁寧、可能、完了などの意味を持つ機能語と、動詞の語彙的な特性による省略補完手法を提案している。
省略補完に必要な情報の例を、以下に示す。
待遇表現
対話において尊敬語や謙譲語などが使用された場合には、誰の動作か述べる必要がなくなり、ガ格が省略される。
すなわち、ガ格の補完にはこれら敬語は重要な情報を果たす。
そちらに参ります。
(ガ格は一人称)
平叙/疑問/命令
以下の例では、疑問文かどうかでガ格が異なる。
わかりました。
(ガ格は一人称)
わかりましたか。
(ガ格は二人称)
動詞の持つ意味
例えば、以下の発話がホテルのフロントと客との対話と仮定すると、どちらの発話かに関係なく、当該動詞のガ格の内容が決まる。
キャンセル待ちを調べて[MATH] (ガ格はフロント)
JRに乗って[MATH] (ガ格は客)
前文以前の情報(文脈情報)
対話におけるこれまでの話の流れ。
言語外情報
その文が、どこで、誰が誰に対して発話されたか、など。
例えば、[[REF_キャンセル]]で、ガ格の人称を決定するには、話者がフロントと客のどちらか、という情報が必要となる。
このように、対話文において省略を補完するためには多くの情報が必要と考えられる。
さらに用言の持つ意味は省略の補完にとって重要な情報であると思われるが、その重要性は個々の用言によって異なると考えられる。
このように非常に多くの要素が考えられるが、このうち個々の補完事例に本当に必要な要素のみを選択することが可能な補完手法が必要とされる。
人手による補完規則作成によるアプローチは、このような言語現象に対して個々に考察を行なう必要があり、一般的には困難が伴う。
例として、以下の発話において「忘れる」のガ格を補完することを考える。
部屋/に/カメラ/を/忘れ/てき/てしまっ/た/ような/んです/が。
この例では、動詞「忘れる」の持つ意味属性や「てくる」「てしまう」「た」「ようだ」「んです」「が」といった文末表現など、多くの要素が省略補完に関係する可能性があり、このうちどの要素がどの程度省略補完に影響しているかを明確に記述することは難しい。
また、影響の範囲は文末表現間のみ、あるいは用言と文末表現の組み合わせに限らず、例えば以下のように接頭辞と文末表現の組み合わせで考慮すべき例もあり、その関係は多種、複雑である。
近鉄にお乗りになってください。
このように、格要素の省略補完に必要な情報は独立ではなく、相互に影響しながら省略が可能になることに注意しなければならない。
つまり、[[REF_近鉄]]で言えば、「お[MATH]」と「[MATH]になる」の出現に対して、個別に補完内容の補完をすることはできない。
あるいは、ホテルのフロントにおける受付と客の対話で、一般的に「宿泊する」の動作主は客もしくは「一般的な人」であるが、ある特殊な文脈によってはそれ以外の可能性も考えられ、一概に「宿泊する」という動詞のみでは決定できない。
格要素の補完では、多種多様な言語現象からどの2要素(あるいはそれ以上)に対して、同時に考慮する必要があるのかを検討する必要がある。
以上の考察から、格要素の省略補完には、多要素性と相互依存性を同時に考慮することが可能な枠組みが必要であることがわかる。
これに対し我々は、決定木を補完知識表現として使用し、統計を利用した決定木学習を省略補完の知識獲得に使用することを提案する。
近年、大量のコーパスが機械可読になってきていることから、機械学習による問題解決は自然言語処理のいくつかの問題に適用されている。
例えば、田中は動詞の訳語選択に決定木学習を導入し、有効性を確認している{}[CITE]。
さらに、談話処理や文脈処理にもこれらの手法が使用されつつあり、例えば談話分割や手がかり語などに関する談話処理にも適用されるようになってきている{}[CITE]。
決定木学習による学習、並びにテストを行なうことを目的に、対話コーパスに補完内容の情報を付与した。
今回付与したタグの種類を表[REF_タグ]に示す。
本論文では、表に示すように6種類のタグを設定した。
タグの付与に関して、これらの補完内容は日本語のみを考慮して付与した。
財布を盗まれた。
My wallet is stolen.
Mein Geldbeutel ist gestohlen worden.
例えば以上の例文において、[[REF_例:財布]]におけるガ格は「私」であるが、その英語訳である[[REF_例:wallet]]の主格は`my wallet'、ドイツ語訳である[[REF_例:Geldbeutel]]の主格は`mein Geldbeutel'である。
このように翻訳先の言語によって人称が変わる場合があるが、英語などへの翻訳時に人称がどうなるかという観点では付与しなかった。
つまり上記の例では用言「盗む」に対して<1sg>(＝一人称単数)のタグを付与した。
これは、一般に訳し方は一通りでないこと、翻訳の目的言語が英語のみではないこと、などの理由による。
右へ曲がると交番です。
日本語においては、[[REF_例:交番]]などのように、特定されない人称を省略要素とする文、つまり一般的な「人」を念頭において発話していると考えられる文がしばしば見受けられる。
このような場合、例えば英語への翻訳の場合には人称代名詞`you'を、ドイツ語への翻訳の場合には不定代名詞`man'を主格にすることが多い。
しかし、それぞれ二人称、三人称の省略などとは異なる現象であること、想定する翻訳目的言語が英語、ドイツ語などと複数であることを理由に、一人称や二人称とは別のタグ<g>を設定した。
以下便宜上、このタグを「一般(人称)」と呼ぶ。
以上は外界省略として扱える。
省略位置以前の要素に照応先がある場合、つまり文脈照応の場合は、一括して<a>のタグを付与した。
本論文では、対話文に頻出する外界省略の補完に主眼を置き、文脈省略に関しては当該省略が文脈省略であることの認知のみを行ない、具体的な先行詞の補完は別処理で行なうと仮定した。
多岐にわたる情報を統一的に、かつ自動的で一意に省略を補完する手法として、本研究では決定木を用いる。
決定木は、根付き有向木で表現される知識表現構造であり、以下の利点を持つ。
木という単純な構造の組み合わせによって多要素が複雑に関係した概念が表現できる
透明性が高いため、要素間の影響が明確に記述され、手作業による変更が十分に可能である
処理が高速で、多くの場合処理時間は実用上無視できる程短い
決定木の各分岐節点はある属性に対応してその属性値によって枝分かれしていき、それぞれの葉で意志決定が行なわれる。
決定木は分岐節点における分岐数によって大きく二分木と多分木とに分かれるが、本論文では前者を使用した。
これによって、属性値は`Y'または`N'の二値になる。
決定木の例を付録の[REF_節:決定木]に示す。
コーパスからの帰納的学習により決定木の作成を行なう。
本研究ではID3[CITE]のアルゴリズムと同様、エントロピー規準による貪欲法(greedy algorithm)によって決定木学習を行なった。
また、枝刈り(pruning)は行なっていない。
省略された格要素を補完するためには、種々の情報を考慮して行なわなければならない。
本研究では計367の属性を使用した。
その内訳を表[REF_属性]に示す。
表に示すように、属性は内容語、機能語、言語外情報に大きく分類できる。
以下ではそれぞれについて説明する。
省略の対象となる文において、どのような内容語が含まれているかに関する情報。
内容語は大きく、用言に関する情報と格要素(体言)に関する情報に分かれる。
内容語の意味属性としては角川類語新辞典[CITE]における中分類(100属性)を使用した。
用言に後接する付属語群、及び助詞などの機能語の出現に関する情報。
付属語群の中には、受動/尊敬/可能/自発「れる」使役「せる」アスペクト「ている」などの助動詞などのほか、当為を表す準体助動詞「べき」などが含まれる。
また、尊敬(召し上がる)、謙譲(伺う)、可能(飲める)などを示す動詞の集合をそれぞれ一つの属性とし、「尊敬」などを示す機能語として取り扱った。
また、受給表現「やる」や動詞「する」「なる」なども特殊な機能語と見なした。
その他の機能語には、格助詞、接続助詞、終助詞、「お考えですか」「ご用意できます」の例に見られる動詞直前の敬意を表す接頭辞がある。
この他、禁止を表す形容名詞「だめ」意志を表す形式名詞「つもり」、疑問詞集合(「どこ」「なぜ」など)なども機能語に含めた。
言語外情報としては、発話された文の話者が情報提供者か情報享受者か、という属性を使用した。
すべての属性は(照合方法,照合位置,属性値)の三つ組によって表現される。
照合方法は、:speaker (話者の照合)、:regexp (正規形による形態素の照合)、:semcode (意味属性の照合)の3種類である。
照合位置は、補完の対象となる用言の位置を基準として以下に示す5種類を設定した。
例えば、照合位置として補完対象用言に関しては:here、格助詞に対しては:before、接頭辞に対しては:latestを与える。
話者の照合:speakerの対象は常に省略された文であり、位置情報は一意に決まるため不要であるが、他の属性との整合性をとるため便宜上:hereを与える。
照合対象が複数の形態素となる:beforeと:afterに関しては、照合範囲にある形態素のいずれかが属性の条件を満たすかどうかによって照合を行なった。
具体的な属性の例と、その意味を以下に示す。
(:speaker :here情報提供者)
文の話者が情報提供者である。
(:regexp :after ("たい" "助動詞"))
用言の後に助動詞「たい」を含む。
(:semcode :here 30)
用言の意味属性が30である。
(:semcode :before 81)
用言の前に意味属性81の内容語を含む。
用言の直前の語が接頭辞の「お/ご/御」である。
\y{3}複文や重文などの、文が複数の単文からなる場合には、近似的に単文に分割した。
分割手法は、接続助詞を分割位置にしてその前後を分割した。
決定木はある問題に対しては非常に便利な知識表現手段であるが、可読性もその特徴の一つである[CITE]。
本節では、これまでに述べた諸実験において作成された決定木を観察することによって、属性の充足性、個々の属性の重要性などを議論する。
学習数と決定木の節数との関係を両対数グラフにしたものを図[REF_節数]に示す。
また各決定木の最深節と最大幅を表[REF_深さ]に示す。
この図より、学習量を変化させて作成したガ格(動)の決定木において、学習量と節数はほぼ対数的に線形であることがわかる。
本研究では決定木学習に際し枝刈りを行なっていないため、このような関係になったものと推察される。
ガ格(形)に関してはほぼガ格(動)と同様の節数となった。
ニ格に関しては、ガ格(動)よりはいくぶん小さな木となっていることがグラフよりわかる。
またヲ格はほとんどが<a>であるため、ほとんど事例分割の必要性がなく、最も小さな木となった。
補完内容の決定に対する各属性の重要性を見る一つの尺度として、「事例被覆率」を定義する。
ある属性の事例被覆率は、その属性が決定木の意志決定に使用されている事例数の、全事例数に対する割合である。
例えば決定木の根で使用されている属性の事例被覆率は、すべての事例がこの属性を(最初に)検査することから、100%となる。
この尺度から、各属性の意志決定に対する寄与度が数値化できる。
まず、学習量との関係を議論した{}[REF_節:学習量]節での実験における主な属性の事例被覆率を表{}[REF_事例被覆率/が]に示す。
表の上部に示した通り、事例被覆率が100%である属性(＝最上部で検査される属性)は「:here 43」つまり対象となる用言の意味コードが43(意向)であるかどうか、であった。
この属性や「:here 41」(思考)には共に「思う/考える/願う」などの語が含まれており、話者の意図や希望を表現している。
これらの動詞は旅行対話に限らず広く使用されるため、この両属性はその他の内容語とは異なる一種の機能語のような役割を果たしていると考えられる。
ただ、この両属性のように学習量に関係なく事例被覆率の高い属性はむしろ少数で、同一の格、同一の話題であっても学習量の増加と共に多くの属性の事例被覆率が変化していることが観察できる。
表によると、学習量が少ない時は{}:before、つまり対象となる用言以前にどのような内容語が存在したかに関して多くの注意が注がれ、学習量の増加に伴って機能語、特に尊敬を示す「[MATH]てくださる」「召し上がる」などの語の存在によって人称を判断するようになることがわかる。
次に、格要素別の事例被覆率を表[REF_事例被覆率/格]に示す。
ここでも、ガ格(動)とガ格(形)の明確な差異が見受けられる。
ガ格(形)の決定木は他の各要素の内容、例えば「で」などの格の存在とその格要素に関する属性が多いのに対して、一方ガ格(動)は述語と一部の重要な機能語に関する属性が多い。
またニ格補完に作成した決定木は、一部の相違はあるもののガ格(動)と類似の傾向を示した。
なお事例被覆率による結果では、話者の役割は我々が事前に予想したほどの重要性を持っていないとの結果となった。
これは、用言と話者役割の情報を共に使用することによって補完内容が特定される場合を想定していたが、このような例があまり多数存在しなかったため、もしくは旅行対話における二者対話という制約が強く働き、話者を知る必要がないため、などの理由が考えられる。
