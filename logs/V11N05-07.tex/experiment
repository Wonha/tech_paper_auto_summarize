\section{実験}
\label{sec:experiment}

\begin{table*}[p]
  \renewcommand{\arraystretch}{}
  \small
  \begin{center}
    \leavevmode
    \caption{差分部分の抽出結果(上位 50個)}
    \label{tab:jisho_sabun_result35}
\begin{tabular}[h]{|l@{ }|r@{ }|r@{ }|l@{ }|l@{ }|l@{ }|l@{ }|}\hline
\multicolumn{1}{|c@{ }|}{評価} & \multicolumn{1}{|c@{ }|}{$-log(1-P)$} & \multicolumn{1}{|c@{ }|}{頻度} & \multicolumn{1}{|c|}{前方一致部分の例} & \multicolumn{2}{|c|}{差分部分} & \multicolumn{1}{|c|}{後方一致部分の例}\\\hline
○   &  4995 & 786 & ＾心配がなく         &            & 、         & のんびりしているさま＄\\
○   &  3135 & 424 & ＾たちが悪い         &            & ・         & こと＄              \\
◎   &  2402 & 318 & ＾また、その問題     & ・         & や         & 質問＄              \\
◎   &  2267 & 301 & ＾等級や段階         & が         & の         & 低いこと＄          \\
〈   &  1761 & 550 & ＾目や口             &            & など       & を急に大きく開くさま＄\\
○   &  1531 & 234 & ＾楽器の金属         &            & の         & 弦＄                \\
○   & 851.9 &  87 & ＾ガイガー           & 　         & —         & カウンター＄        \\
○   & 761.3 & 105 & ＾外部と連絡・交渉   &            & を         & すること＄          \\
◎   & 706.3 &  89 & を「にくい」と       & いう       & 言う       & 類＄                \\
○   & 564.4 &  68 & アナウンサー         &            & 」         & の略＄              \\
○   & 527.1 & 133 & 七菜、二の膳         &            & に         & 五菜、三の膳        \\
○   & 376.0 &  72 & ＾くろぐろ           &            & と         & している＄          \\
◎   & 375.1 &  51 & 竹の繊維を材料       & と         & に         & して作った紙＄      \\
○   & 352.5 & 117 & 乗車券などを、       &            & その       & 当日より            \\
○   & 343.2 &  62 & ＾別のもので         &            & は         & ないこと＄          \\
◎   & 299.7 &  39 & ＾有理数             & ・         & と         & 無理数の総称＄      \\
○   & 285.5 &  47 & ＾書物をのせて読む   &            & ための     & 台＄                \\
○   & 232.6 &  44 & ＾収入が支出より     &            & も         & 多いこと＄          \\
◎   & 223.5 &  27 & 他の役所             & に         & へ         & 文書で通知すること＄\\
◎   & 217.4 &  32 & ＾実権               & が         & を         & 伴わない            \\
◎   & 213.9 &  60 & ＾印刻に             & 使う       & 用いる     & 小刀＄              \\
◎   & 212.5 &  30 & ＾全体の重量         & ・         & または     & 容量＄              \\
◎   & 209.7 &  31 & ＾会計年度など       & で、       & の         & 一年を半分          \\
◎   & 203.1 &  33 & ＾森林               & の         & を         & 保護                \\
◎   & 200.7 &  26 & ＾密輸出             & と         & や         & 密輸入＄            \\
○   & 190.9 &  32 & ＾また、興ざめ       &            & が         & する＄              \\
◎   & 177.5 &  52 & ＾その人の利益となる & こと       & 事         & を主張して助ける\\
◎   & 169.3 &  54 & ひじを曲げた         & とき       & 時         & 、二の腕に          \\
○   & 166.5 &  35 & ＾警視正の下         &            & で         & 、警部の上＄        \\
◎   & 164.0 &  22 & ＾濁音               & で         & に         & 発音する＄          \\
◎   & 162.7 &  22 & ＾正しい解答         & または     & や         & 解釈＄              \\
○   & 158.4 & 921 & 、                   &            & また、     & 食用                \\
◎   & 130.3 &  55 & 手加減をしないで     & もの       & 物         & を言うさま＄        \\
◎   & 128.1 &  29 & ＾一割の             & 一〇       & 十         & 分の一＄            \\
◎   & 126.9 &  28 & 、徴兵検査           & で         & の         & 甲種合格            \\
〉   & 125.6 &  26 & ＾ぐっすりと         &            & よく       & 眠ること＄          \\
◎   & 123.9 &  16 & ＾家の中央           & にある     & の         & 部屋＄              \\
〉   & 122.7 &  36 & を受けず、自分の力   &            & だけ       & で生活を            \\
◎   & 116.6 &  23 & ＾船がドックに       & はいる     & 入る       & こと＄              \\
◎   & 115.0 &  16 & ＾襲いかかって       & くる       & 来る       & こと＄              \\
○   & 115.0 &  29 & 少しずつにじみ出る   &            & ような     & さま＄              \\
◎   & 111.4 &  14 & 皇子・内親王         & 、         & ・         & 天皇の弟などの総称＄\\
○   & 110.0 &  23 & 、会合に出席         &            & したり     & すること＄          \\
◎   & 108.4 &  17 & 味を消すため         & 、         & に         & 別の物を            \\
◎   & 106.0 &  22 & ＾製造               & する       & の         & 方法＄              \\
○   & 105.8 & 178 & 数が一               &            & つ         & であること＄        \\
◎   & 104.6 &  22 & ＾大正末期           & に         & の         & 流行＄              \\
◎   & 101.5 &  23 & して銑鉄を           & つくる     & 作る       & こと＄              \\
◎   & 101.0 &  12 & ＾踊りを職業と       & している   & する       & 女性＄              \\
○   & 99.17 &  33 & ＾口や胃             &            & の中       & に入れたものを      \\\hline
\end{tabular}
  \end{center}
\end{table*}

まず，実際に村田法に基づいて抽出結果をソートしてみた．
その結果を，表\ref{tab:jisho_sabun_result35}に示す．
表の「評価」は獲得された差分部分に対する評価を意味し，
「◎」と「○」は，差分が同義と判断される文脈があることを意味し，
「〈」は，左の差分が右の差分に意味的に包含されると判断される文脈があることを意味し，
「〉」は，左の差分が右の差分を意味的に包含すると判断される文脈があることを意味する．
「◎」は差分の両方ともになんらかの表現がある場合で
「○」は差分の片側が空文字の場合である．
ここでいう「文脈」とは，
抽出される文章での文脈以外でも結果の判定者が思いついた文脈でもよく，
判定者の思いついた文脈において
同義や包含関係などが成立した場合も
そのように判断される文脈があるとした．
表の「$^*$」は，判定者の思いついた文脈に書き換えたことを意味し，
それ以外の文脈は抽出の際に用いられた
前方一致部分と後方一致部分を意味する．
「＾」は定義文中での文頭を，
「＄」は文末を意味する．

「・」「など」「の」を片一方では省略するなどの規則の他，
主格の際の「が」と「の」や，
「一〇」と「十」や，
「または」と「や」や，
「使う」と「用いる」などの同義な言い換え表現も獲得されていることがわかる．

\begin{table}[t]
\renewcommand{\arraystretch}{}
  \begin{center}
    \leavevmode
    \caption{獲得された同義表現の例}
    \label{tab:jisho_sabun_result_yoi}
\begin{tabular}[h]{|l|l|}\hline
つつ                 & ながら\\
一六                 & 十六\\
哺乳動物             & 哺乳類\\
中途                 & 途中\\
業                   & 職\\
である               & となる\\
なる                 & 変わる\\
隔たり               & 差\\
つく                 & 到着する\\
で作った             & の\\
家畜                 & 牛馬など\\
がうまい             & に巧みな\\
大事に               & 大切に\\
伝える               & 伝達する\\
ために               & 目的で\\
はずれている         & 合わない\\
食う                 & 食べる\\
減少する             & 少なくなる\\\hline
\end{tabular}
  \end{center}
\end{table}

ここにあげたもの以外に得られた良さそうな同義表現を
表\ref{tab:jisho_sabun_result_yoi}にあげておく．
すでにある同義語辞書にも登録されていそうな単語レベルの
同義語だけでなく，「がうまい」と「に巧みな」のような
フレーズレベルのものから，「つつ」と「ながら」のような
機能的な同義語なども獲得できている．

\begin{table*}[t]
  \begin{center}
    \leavevmode
    \caption{抽出精度(上位500個)}
    \label{tab:seido1}
\begin{tabular}[h]{|l|r@{ }c|r@{ }c|r@{ }c|r@{ }c|}\hline
\multicolumn{1}{|c|}{} & \multicolumn{2}{|c|}{村田法} & \multicolumn{2}{|c|}{頻度法} & \multicolumn{2}{|c|}{加藤第一法} & \multicolumn{2}{|c|}{加藤第二法} \\\hline
上位50個  & 0.940 & ( 47/ 50)& 0.580 & ( 29/ 50)& 0.680 & ( 34/ 50)& 0.900 & ( 45/ 50)\\
上位100個 & 0.890 & ( 89/100)& 0.560 & ( 56/100)& 0.620 & ( 62/100)& 0.860 & ( 86/100)\\
上位200個 & 0.795 & (159/200)& 0.580 & (116/200)& 0.645 & (129/200)& 0.810 & (162/200)\\
上位300個 & 0.777 & (233/300)& 0.583 & (175/300)& 0.657 & (197/300)& 0.767 & (230/300)\\
上位400個 & 0.760 & (304/400)& 0.590 & (236/400)& 0.642 & (257/400)& 0.760 & (304/400)\\
上位500個 & 0.748 & (374/500)& 0.588 & (294/500)& 0.616 & (308/500)& 0.736 & (368/500)\\\hline
\end{tabular}
\end{center}
\end{table*}

\begin{table*}[t]
  \begin{center}
    \leavevmode
    \caption{抽出精度(上位500個．差分の片側が空文字の場合を除く)}
    \label{tab:seido2}
\begin{tabular}[h]{|l|r@{ }c|r@{ }c|r@{ }c|r@{ }c|}\hline
\multicolumn{1}{|c|}{} & \multicolumn{2}{|c|}{村田法} & \multicolumn{2}{|c|}{頻度法} & \multicolumn{2}{|c|}{加藤第一法} & \multicolumn{2}{|c|}{加藤第二法} \\\hline
上位50個  & 0.960 & ( 48/ 50)& 0.880 & ( 44/ 50)& 0.920 & ( 46/ 50)& 0.980 & ( 49/ 50)\\
上位100個 & 0.960 & ( 96/100)& 0.900 & ( 90/100)& 0.930 & ( 93/100)& 0.960 & ( 96/100)\\
上位200個 & 0.945 & (189/200)& 0.910 & (182/200)& 0.905 & (181/200)& 0.950 & (190/200)\\
上位300個 & 0.930 & (279/300)& 0.903 & (271/300)& 0.907 & (272/300)& 0.927 & (278/300)\\
上位400個 & 0.915 & (366/400)& 0.907 & (363/400)& 0.895 & (358/400)& 0.907 & (363/400)\\
上位500個 & 0.904 & (452/500)& 0.910 & (455/500)& 0.878 & (439/500)& 0.876 & (438/500)\\\hline
\end{tabular}
\end{center}
\end{table*}

\begin{table*}[t]
  \begin{center}
    \leavevmode
    \caption{抽出精度と抽出数}
    \label{tab:tyushutusuu}
\begin{tabular}[h]{|l|r@{ }c|r@{ }c|}\hline
\multicolumn{1}{|c|}{} & \multicolumn{2}{|c|}{村田法} & \multicolumn{2}{|c|}{加藤法} \\\hline
抽出精度     & 0.220 & (110/500)& 0.400 & (200/500)\\
抽出総数     & \multicolumn{2}{|c|}{67851} & \multicolumn{2}{|c|}{17104} \\
予測抽出数   & \multicolumn{2}{|c|}{14927} & \multicolumn{2}{|c|}{6841} \\\hline
\end{tabular}
\end{center}
\end{table*}

次に比較手法と数量的な比較を行なった．
この結果を表\ref{tab:seido1}と表\ref{tab:tyushutusuu}にあげる．
ここでは，差分が同義と判断される文脈があれば，
その差分は正解と判断した．
表\ref{tab:seido1}は，それぞれの手法でソートした結果での
上位数個の差分での精度である．
表\ref{tab:tyushutusuu}には，村田法と加藤法での
抽出精度と抽出数を整理している．加藤法は加藤第一法と
加藤第二法の総称である．
表\ref{tab:tyushutusuu}の抽出精度はランダムに取り出した500個での精度で，
抽出総数はそれぞれの方法で得られた差分の総数である．
予測抽出数は抽出総数と抽出精度を掛け合わせたもので，
それぞれの手法により抽出できそうな同義表現の総数を意味する．
加藤法では式(\ref{eq:kato_method})で差分を足切りするので，
抽出総数は村田法よりも減る．また，頻度法は足切りをしないので，抽出総数は
村田法と同じ結果となる．

表\ref{tab:seido1}の結果を見て欲しい．
上位での精度は式(\ref{eq:murata_method})を用いる村田法と加藤第二法が良く，
われわれの提案する式(\ref{eq:murata_method})でソートする方法が
有効であることがわかる．
頻度法と加藤第一法の比較では，ソート自体は同じ頻度を用いるのに
精度は加藤第一法の方が良い．加藤法での
式(\ref{eq:kato_method})による差分の足切りは精度において効果があることがわかる．

次に表\ref{tab:seido2}の結果を見てみよう．
この表は差分の片側が空文字の場合を除いた結果である．
差分の片側が空文字の場合は，片一方で単に詳しく述べている
だけの場合や，対応づけの誤りである場合もあり，
同義表現としてはふさわしくない対が多い．
この結果は，表\ref{tab:seido1}の結果に比べて格段に良くなっている．
また，この結果でも村田法は他の手法に比べて比較的良い精度をあげている．

最後に表\ref{tab:tyushutusuu}を見てみよう．
ランダムに500個を取り出したときの精度は，
村田法は0.22と低く，また，加藤法は0.40と高い．
これは先に述べたのと同じように加藤法では
式(\ref{eq:kato_method})により
あらかじめ不確かな差分を削除しているためで，
このため加藤法は精度が良い．
しかし，抽出総数は加藤法は格段に減ってしまい，
予測抽出数は村田法の方が加藤法よりもはるかに高い．
加藤法では多くの同義表現を取りこぼす問題があることがわかる．

\begin{table*}[t]
  \begin{center}
    \leavevmode
    \caption{関係の種類}
    \label{tab:kankei1}
\begin{tabular}[h]{|l|r@{ }c|r@{ }c|r@{ }c|r@{ }c|}\hline
\multicolumn{1}{|c|}{} & \multicolumn{2}{|c|}{同義関係} & \multicolumn{2}{|c|}{包含関係} & \multicolumn{2}{|c|}{類義関係} & \multicolumn{2}{|c|}{関係なし} \\\hline
ランダム  & 0.220 & (110/500)& 0.454 & (227/500)& 0.048 & ( 24/500)& 0.278 & (139/500)\\\hline
上位50個  & 0.940 & ( 47/ 50)& 0.060 & (  3/ 50)& 0.000 & (  0/ 50)& 0.000 & (  0/ 50)\\
上位100個 & 0.890 & ( 89/100)& 0.100 & ( 10/100)& 0.000 & (  0/100)& 0.010 & (  1/100)\\
上位200個 & 0.795 & (159/200)& 0.165 & ( 33/200)& 0.000 & (  0/200)& 0.040 & (  8/200)\\
上位300個 & 0.777 & (233/300)& 0.187 & ( 56/300)& 0.000 & (  0/300)& 0.037 & ( 11/300)\\
上位400個 & 0.760 & (304/400)& 0.205 & ( 82/400)& 0.003 & (  1/400)& 0.033 & ( 13/400)\\
上位500個 & 0.748 & (374/500)& 0.202 & (101/500)& 0.004 & (  2/500)& 0.046 & ( 23/500)\\\hline
\end{tabular}
\end{center}
\end{table*}

\begin{table*}[t]
  \begin{center}
    \leavevmode
    \caption{関係の種類(差分の片側が空文字の場合を除く)}
    \label{tab:kankei2}
\begin{tabular}[h]{|l|r@{ }c|r@{ }c|r@{ }c|r@{ }c|}\hline
\multicolumn{1}{|c|}{} & \multicolumn{2}{|c|}{同義関係} & \multicolumn{2}{|c|}{包含関係} & \multicolumn{2}{|c|}{類義関係} & \multicolumn{2}{|c|}{関係なし} \\\hline
ランダム  & 0.313 & (106/339)& 0.274 & ( 93/339)& 0.071 & ( 24/339)& 0.342 & (116/339)\\\hline
上位50個 & 0.960 & ( 48/ 50)& 0.020 & (  1/ 50)& 0.000 & (  0/ 50)& 0.020 & (  1/ 50)\\
上位100個 & 0.960 & ( 96/100)& 0.010 & (  1/100)& 0.000 & (  0/100)& 0.030 & (  3/100)\\
上位200個 & 0.945 & (189/200)& 0.030 & (  6/200)& 0.000 & (  0/200)& 0.025 & (  5/200)\\
上位294個 & 0.932 & (274/294)& 0.031 & (  9/294)& 0.007 & (  2/294)& 0.031 & (  9/294)\\\hline
\end{tabular}
\end{center}
\end{table*}

\begin{table*}[t]
\small
  \begin{center}
    \leavevmode
    \caption{包含関係にある表現の例(左の表現が右の表現を意味的に包含する)}
    \label{tab:hougan_result}
\begin{tabular}[h]{|l|l|l|l|}\hline
\multicolumn{1}{|c|}{前方一致部分の例} & \multicolumn{2}{|c|}{差分部分} & \multicolumn{1}{|c|}{後方一致部分の例}\\\hline
＾目や口             & など       &            & を急に大きく開くさま＄\\
＾二匹               & 以上       &            & の蚕が              \\
方向を示す           &            & 大         & 方針＄              \\
＾餅を               &            & たくさん   & 食べたあとの、もたれた感じの\\
＾多角形の           & すべての   & 各         & 頂点が              \\
方針や見込み         & などの     & が         & 立たないこと＄      \\
、                   & 細長い     & ひも状の長い & 舌で                \\
花が                 & 全部       & いっせいに & 咲く＄              \\
＾穴を               & 埋める     & 埋めて平らにする  & こと＄              \\
主君                 & ・親       & や父       & など                \\
＾左大臣の           & 異称       & 唐名       & ＄                  \\\hline
\end{tabular}
  \end{center}
\end{table*}

\begin{table*}[t]
\small
  \begin{center}
    \leavevmode
    \caption{類義関係にある表現の例}
    \label{tab:ruigi_result}
\begin{tabular}[h]{|l|l|l|l|}\hline
\multicolumn{1}{|c|}{前方一致部分の例} & \multicolumn{2}{|c|}{差分部分} & \multicolumn{1}{|c|}{後方一致部分の例}\\\hline
二三度               & 二七       & 二六       & 分の緯線＄          \\
＾                   & ほり       & 池         & や                  \\
霧のように           & 一面に広がった層状の & 低くただよう & 雲＄                \\
＾                   & 悪かったと & 過失や人に迷惑を掛けたことを & あやまること＄      \\
＾                   & 大きな     & 非常な     & 利益＄              \\
＾銅を               & とる       & 含む       & 鉱石＄              \\
海上の               & 国防       & 防衛・攻撃 & を                  \\
＾都を               & 追われて   & 立ち去って、 & 地方                \\
授業                 & などを休む & 等が休みになる & 日＄                \\\hline
\end{tabular}
  \end{center}
\end{table*}

次に抽出総数も多く，また，上位での精度も高かった村田法の抽出結果について
より詳細な調査を行なった．
その結果を表\ref{tab:kankei1}と表\ref{tab:kankei2}に示す．
表\ref{tab:kankei1}のランダムは，ランダムに取り出した500個での
結果を意味し，上位X個は上位X個での結果を意味する．
この調査では得られた差分が，
同義表現と判断される文脈があるか，
差分同士で意味的に包含関係にあると判断される文脈があるか，
類義表現と判断される文脈があるか，それ以外かで集計し整理した．
表\ref{tab:kankei2}は，表\ref{tab:kankei1}の調査で差分の片側が
空文字の場合を除いて集計した結果である．
包含関係，類義関係にある表現と判断した表現の例を
表\ref{tab:hougan_result}と表\ref{tab:ruigi_result}に示しておく．
この調査は，同義表現でないとされた誤りの多くが，
包含関係にある表現や類義表現であったために行なったものである．

同義関係だけでなく，包含関係や類義関係を正解と判断するとかなり
高い精度となることがわかる．
全データでは，0.722 ($= 1 - 0.278$)程度の精度を持つことになる．
差分の片側が空文字の場合を除いた場合で，
0.658 ($= 1 - 0.342$)程度の精度を持つことになる．
包含関係や類義関係も正解と判断する場合は，
差分の片側が空文字の場合を除くとかえって精度が下がるようである．
これは一見不思議なことだが，よく考えるとそれほど不思議なことではない．
包含関係にある表現を示した表\ref{tab:hougan_result}の例を見て欲しい．
差分の片側が空文字の場合は，空文字でない側の差分に「など」「以上」のように
意味を広げる効果を持つ表現が来る場合は空文字でない側が空文字の側の差分を
意味的に包含する関係となり，
空文字でない側の差分になんらかの意味的な限定をする表現が挿入されると
空文字でない側の差分の方が意味が狭くなり
空文字でない側が空文字の側の差分に意味的に包含される関係となる．
このため，差分の片側が空文字の場合は包含関係にある表現であることが多く，
包含関係や類義関係を正解と判断する場合は，
差分の片側が空文字の場合も含めた場合の方が精度が高くなるのである．

また，包含関係や類義関係を正解と判断する場合は，
上位での精度も非常に高いものとなる．
例えば，全データでの上位500個だと，
包含関係や類義関係を正解と判断すると，精度は
0.954 ($= 1 - 0.046$) となる．

以上の結果をまとめると，以下のようになる．
\begin{itemize}
\item 
  式(\ref{eq:murata_method})を用いる村田法は，上位での精度が高い．
  また，一般によく行なわれる頻度でソートするだけよりも，
  精度が高いことも確認された．
  村田法を利用することで，効率よく精度の高い同義表現の知識を獲得することができる．

\item 
  抽出総数は，村田法の方が加藤法よりも多い．
  多くの同義表現を抽出する場合には，
  加藤法の式(\ref{eq:kato_method})での差分の候補の除去はしない方がよい．

\item 
  同義表現の抽出としては，
  差分の片側が空文字の場合を除いた方が精度が高い．
  しかし，包含関係や類義関係も正解と判断する場合は，
  差分の片側が空文字の場合も含めた方が精度が高い．

\item 
  抽出総数も多く，また，上位での精度も高かった村田法の抽出結果は，
  同義表現のみを正解とするとき，
  上位500個で0.748，ランダムに抽出した500個で0.220の精度で，
  包含関係や類義関係も正解と判断する場合は，
  上位500個で0.954，ランダムに抽出した500個で0.722の精度であった．

\end{itemize}

