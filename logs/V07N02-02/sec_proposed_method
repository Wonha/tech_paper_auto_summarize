本節で述べる自動前編集系(英々変換系)を組み込んだ機械翻訳システムにおける解析の流れを図[REF_fig:flow]に示す．
このシステムでは，形態素解析終了後に英々変換を実行して英語表現を書き換えた後，書き換えた部分の形態素解析を行ない，表現全体の形態素解析結果を構文解析系に送る．
一度目の書き換え結果に対する構文解析に失敗した場合，処理の制御は英々変換に戻る．
再度英々変換を行なう場合には，各書き換え規則に記述されている規則の信頼度(後述)に従って，一度目の英々変換では用いなかった規則を新たに適用したり，逆に一度目の処理で行なった書き換えを取り消したりする．
英々変換系での処理は，形態素解析結果に対して先頭から順に書き換え規則の適用条件との照合を行なっていき，適用条件が満たされる部分を順次書き換えていく．
この英々変換系は，新聞記事見出しの書き換え専用に設計したものではなく，通常の表現も対象とした一般的な枠組である．
実際，見出し以外の表現に対する書き換え規則として，挿入語句を識別する規則や長い表現を分割する規則などが記述されている．
書き換え規則には，次に示すように，適用条件と書き換え操作の他，制御情報として適用抑制規則集合と信頼度を記述することができる．
書き換え対象候補が適用条件を満たすかどうかの判定は，書き換え対象候補の形態素語彙属性や構文属性を調べる手続きを用いて行なう．
書き換え操作には，英語表現を追加，削除，置換する操作と，システム固有の編集記号を付加する操作がある．
実験に用いたシステムでは，利用可能な編集記号として，多品詞語の品詞を指定する記号や，節や句の範囲や従属先を指定する記号など54種類が定義されている．
編集記号の付加によって解釈の曖昧性が減るため，解析の精度と速度の向上が期待できる．
ある規則[MATH]に与えられている適用抑制規則集合は[MATH]の適用を抑える他の規則に関するメタ条件を表し，規則[MATH]はその適用抑制規則集合に記述されている識別番号の規則が既に適用されている場合には適用されない．
規則[MATH]の適用抑制規則集合には，[MATH]の書き換え対象と重複する部分を書き換えようとする規則だけでなく，書き換え対象が[MATH]のものと重複しない規則を含めてもよい．
規則には，その信頼性が高く，規則の適用によって翻訳品質が向上することがほぼ確実な規則もあれば，信頼性があまり高くない規則もある．
信頼度は，このようなことを考慮して，信頼性があまり高くない規則による悪影響を抑えるために設定したものである．
各規則には，その信頼性に応じてA，B，Cのいずれかの信頼度を与える．
信頼度Aの規則は最初の構文解析の前に適用し，構文解析に失敗してもこの規則による書き換えは取り消さない．
規則に信頼度Aを与えるのは，この規則を適用しないと構文解析に失敗することがほぼ確実であり，たとえこの規則によって書き換えた表現の構文解析に失敗して断片的な構文構造しか得られなかったとしても，この規則を適用しない場合の(断片的な)構文構造から生成される翻訳よりも高い品質の翻訳が生成されると期待される場合である．
信頼度Bの規則は最初の構文解析の前に適用するが，最初の構文解析に失敗した場合，この規則による書き換えは取り消す．
信頼度Cの規則は最初の構文解析の前には適用せず，最初の構文解析に失敗した場合に初めて適用する．
簡単な書き換え規則の例を図[REF_fig:EtoE_rule]に示す．
この規則は新聞記事見出しの書き換え用ではないが，倒置文の構文解析が失敗することに対処するためのものである．
この規則は，現在着目している語が入力文の先頭語であり(p == 1)，着目語の(細分類)品詞候補として過去分詞の可能性があるが名詞の可能性がなく，さらに着目語の直後の語が``is''であるときに適用される．
この適用条件が満たされると，着目語の先頭文字を小文字に変換し，``What is''という語句を着目語の直前に挿入する．
この処理によって，例えば``Affiliated is the parent company of Globe Newspaper Co.''という文が``What is affiliated is the parent company of Globe Newspaper Co.''に書き換えられる．
英字新聞記事の見出しでは，述語の時制や態などに関する情報の省略や，冠詞の省略，略語の使用，等位接続詞のコンマでの代用など文字数を節約するための様々な工夫がなされている[CITE]．
本研究では，これら見出し特有の現象のうち時制情報などの省略に関連するbe動詞の省略現象を扱うことにし，ロイター記事[CITE]の見出し284件を対象として次の四項目の調査を行なった．
be動詞が省略されているのはどのような場合か．
be動詞が省略されている見出しをそのまま我々の実験システムで翻訳した場合の翻訳品質はどの程度か．
be動詞が省略されている見出しにbe動詞が適切に補われた場合，項目([REF_enum:quality])の翻訳に比べてどの程度品質が改善されるか．
形態素語彙，構文上のどのような現象が，be動詞が省略されている見出しとそうでない見出しを区別する手がかりとなるか．
本節では項目([REF_enum:key])，([REF_enum:quality])，([REF_enum:improve])についての調査結果を示し，項目([REF_enum:feats])については[REF_sec:preeditHeadline:cond]節で述べる．
be動詞の省略は調査対象の見出し284件のうち73件において見られた．
一般にbe動詞の省略は一つの見出しにおいて複数箇所で行なわれうるが，これら73件の見出しでは一箇所での省略しか行なわれていなかった．
通常の表現形式ではbe動詞と結び付けられ全体で定形述語と解釈される表現をここでは\KEYと呼ぶ．
73件の見出しに出現した\KEYは，受動態用法の過去分詞，to不定詞，現在分詞，叙述用法の形容詞，前置詞句，複合動詞の構成素の六種類であった．
ここで複合動詞の構成素とは，be動詞と結合して複合動詞となる語句を意味し，例えば``be up''における``up''などである．
各\KEYごとに，それが出現した見出しの例(上段)と，省略箇所に人手でbe動詞を補った表現(下段)，さらに出現件数を表[REF_tab:stat]に示す．
表[REF_tab:stat]では，\KEYに下線を付し，人手で補ったbe動詞を斜字体で示している．
従来システムによる見出し翻訳の問題点を明らかにしておくために，be動詞が省略されている73件の見出しをそのまま我々の実験システムで処理し，その結果を評価した．
評価の際に翻訳のどの部分を対象とするかに関して，見出し全体を対象とすることと，\KEYに直接関連がある部分だけを対象とすることが考えられる．
ここではbe動詞の省略が翻訳品質に及ぼす影響に関心があるため，後者の局所的な評価を行なった．
評価値は合格か不合格かの二値とした．
合否判定は，翻訳が文法的であるかという観点と，文法的な翻訳の場合，翻訳の意味が元の見出しの意味と一致しているかという観点から行なった．
翻訳の文体が新聞記事見出しとして適切であるかどうかは考慮しなかった．
合格と認める翻訳は文法的であり意味的に等価なものである．
be動詞が省略されいることが原因で文法的でないか意味的に等価でない翻訳が生成された場合は不合格とした．
評価結果を表[REF_tab:quality]に示す．
\KEY全体では，合格と不合格の件数はそれぞれ36件と37件でほぼ同じであるが，\KEY別に見ると，現在分詞の場合には12件中10件が合格したのに対してto不定詞の場合には17件中16件とほとんどが不合格となった．
\KEYが現在分詞である場合にほとんどが合格となるのは，\KEYをその前方に存在する名詞句に従属させた解釈が，be動詞を補った場合の翻訳とほぼ等しい意味を伝えている場合，その解釈を合格としたためである．
例えば表[REF_tab:stat]の見出し(H[REF_HEADLINE2:preparing])は本来be動詞を補って(H[REF_HEADLINE2:preparing]')のように解釈されるべきであるが，(H[REF_HEADLINE2:preparing])の翻訳「新しい米国の予算の戦いに備えて準備している上院」は，(H[REF_HEADLINE2:preparing]')の翻訳「上院は，新しい米国の予算の戦いに備えて準備している」と意味的に等しいので合格とした．
他の\KEYについてもこのような場合には合格とした．
\KEYがto不定詞の場合には，\KEYをその前方の名詞句に従属させると，be動詞を補った場合とは意味が大きく異なる翻訳が生成された．
不合格となった16件はすべて，to不定詞が「[MATH]するための」と訳され，本来伝えられるべき予定や運命などの意味に解釈することができなかった．
例えば表[REF_tab:stat]の見出し(H[REF_HEADLINE2:visit])は予定を表す文と解釈しなければならないが，(H[REF_HEADLINE2:visit])の翻訳「日本を訪問するための米国の職員」はそのように解釈できない．
元の意味と大きく異なる意味を伝える翻訳が生成されたもう一つの例は，過去分詞形と解釈されるべき\KEYが定形(現在形または過去形)と解釈された場合である．
例えば次の見出し(H[REF_HEADLINE:sued])では``sued''が過去形とみなされ，対象格と解釈されるべき``Three''が主格と解釈された．
\headline Three sued over ball valves for nine mile point
規則動詞や一部の不規則動詞の過去分詞形は定形と表記が同一であるため，このような誤りが生じる見出しの件数は少なくない．
不合格と判定された37件の見出しを正しく翻訳するためには，be動詞を補わなければならない．
これに対して，合格と認められた36件については，be動詞を補った場合の翻訳とほぼ等しい意味を伝える翻訳が生成されるので，英日翻訳の見地からはbe動詞補完は可能ではあるが必要ではないという捉え方もできるかも知れない．
しかし，これら36件の見出しも読者には通常be動詞を補って理解されるので，本研究では見出しの構文的解釈の見地からbe動詞を補う対象に含める．
従って本稿では，be動詞が省略された見出しとは，be動詞を補うべき見出しとbe動詞を補うことができる見出しを合わせたものを指している．
be動詞を補うことによってどの程度の品質改善が期待できるかをあらかじめ確認しておくために，73件の見出しに人手でbe動詞で補った表現を実験システムで処理し，be動詞が補われていない見出しの翻訳と比較した．
評価値は，改善，同等，改悪の三値とした．
[REF_sec:investigation:quality]節の評価で合格となった見出しの翻訳が改善されているとは，be動詞を補うことによって\KEYとその前方の名詞句との構文的関係が改善されたことを意味する．
例えば見出し(H[REF_HEADLINE2:preparing])の翻訳「新しい米国の予算の戦いに備えて準備している上院」と比較して，be動詞を補った表現(H[REF_HEADLINE2:preparing]')の翻訳「上院は，新しい米国の予算の戦いに備えて準備している」はより適切であるとみなす．
改善箇所と改悪箇所の両方が存在している場合，あるいは改善も改悪も見られない場合には同等とする．
評価結果を表[REF_tab:improve]に示す．
[REF_sec:investigation:quality]節の評価で合格となった見出し36件のうち32件と，不合格となった見出し37件のうち35件について，より適切な翻訳が得られている．
このことから，英々変換によってbe動詞を正しく補うことができれば，システムの既存部分に変更を加えることなく見出し翻訳の品質が改善されると期待できる．
なお，合格となった見出し36件のうち4件の翻訳品質が低下しているが，この原因は辞書または構文解析規則の不備であり，本稿の主要目的であるbe動詞の補完とは直接の関係はない．
be動詞補完精度の評価指標には，補完漏れ件数の少なさを示す再現率と不要な補完件数の少なさを示す適合率を用いるが，規則の記述方針として，漏れを減らすことよりも不要な補完を抑えることを重視した．
その理由は，不要な補完が行なわれた場合，構文構造と意味が大きく変化するため悪影響が出るのに対して，[REF_sec:investigation:quality]節で述べたように，be動詞が省略されている見出し73件のうち36件については補完漏れが生じた場合でもある程度の品質の翻訳が得られることなどである．
本研究で設定した適用条件は，be動詞が省略されている見出しとそうでない見出しを区別する一般的な手がかりになりうる現象を284件の見出しにおいて分析した結果に基づいており，以下で説明する形態素語彙，構文上の四条件から主に構成されている．
適用条件には，これら一般的な条件の他に，例えば``of''など特定の前置詞で導かれる前置詞句を処理対象外とする条件など，語彙に依存した個別条件も若干含まれる．
be動詞が省略されている見出しでは，\KEYの前方に名詞句が存在する．
より具体的には名詞句は，表[REF_tab:stat]の見出し(H[REF_HEADLINE2:taken])などのように\KEYの直前に現れるか，見出し(H[REF_HEADLINE2:firmer])のように\KEYの直前に副詞が存在しその副詞の直前に現れる場合がほとんどであるので，次の条件[REF_COND:leftnp]を設ける．
\cond\KEYCの直前に，あるいは\KEYC直前の副詞の直前に名詞句が存在する．
見出しに現れる名詞句は比較的単純な構造をしていることが多いので，次のような構造を持つ名詞句NPを検出する手続きを記述した．
ここで，P，AV，AJ，Ven，Ving，Nはそれぞれ前置詞，副詞，形容詞，過去分詞，現在分詞，名詞を表し，上付き記号?と+はそれぞれ一回以下，一回以上の出現を意味する．
be動詞と\KEYCを組み合わせると定形述語が復元され，それまで通常の構文解析で節と解釈できなかった部分が節と解釈できるようになる．
このような節をここでは潜在節と呼ぶ．
潜在節の主語になる名詞句は，前述の条件[REF_COND:leftnp]を満たす名詞句である．
例えば表[REF_tab:stat]の見出し(H[REF_HEADLINE2:preparing])にbe動詞を補うと，(H[REF_HEADLINE2:preparing]')のように定形述語``is preparing''が復元され，見出し全体が名詞句``Senate''を主語とする一つの節になる．
be動詞補完の可否を決める手がかりの一つとして，潜在節と構文的に競合する節の有無に着目する．
be動詞が省略されている見出し(H[REF_HEADLINE2:taken])ないし(H[REF_HEADLINE2:up])では潜在節と構文的に競合する節は存在しない．
これに対して，次の見出し(H[REF_HEADLINE:lift])では潜在節と構文的に競合する節が存在する．
\headline Reagan hopes to lift Japan sanctions soon
この見出しにおける潜在節は``are to lift''を主辞とし``Reagan hopes''を主語とする節であるが，この解釈は既存の定形述語``hopes''を主辞とし``Reagan''を主語とする通常の節としての解釈と構文的に競合する．
このような場合には経験的に，通常の節としての解釈を優先することにする．
次の見出し(H[REF_HEADLINE:lost])では，``lost''の直前にbe動詞を挿入することは構文的に不可能であり，``was carrying''を主辞とする通常の節としての解釈しか許されない．
\headline Vessel lost in Pacific was carrying lead
見出し中に節が存在しても，それが潜在節と構文的に競合しない場合にはbe動詞を補う．
例えば表[REF_tab:stat]の見出し(H[REF_HEADLINE2:visit])には節``trade row grows''が存在するが，この節と潜在節``U.S. official is to visit Japan''とは節境界を示す接続詞``as''によって分離されており競合しないので，(H[REF_HEADLINE2:visit])は(H[REF_HEADLINE2:visit]')のように書き換える．
このような考察に基づき，潜在節と構文的に競合する節が存在しない場合に限り見出しにbe動詞を補うことにし，次の条件[REF_COND:sbjpred]を設ける．
\cond潜在節と構文的に競合する節が存在しない．
[REF_sec:investigation:quality]節の見出し(H[REF_HEADLINE:sued])では，``sued''を過去分詞形と解釈しbe動詞を補った潜在節``Three were sued [MATH]''と，``sued''を過去形と解釈した節``Three sued [MATH]''が構文的に競合する．
このように，定形と同一表記の過去分詞が\KEYCであり，この\KEYCを定形と解釈した動詞を主辞とする節が潜在節と構文的に競合する場合には，条件[REF_COND:sbjpred]ではなく，後述する条件[REF_COND:pastpart]に従うものとする．
節境界は接続詞や関係詞やコンマなどの節境界標識によって明示されている場合もあれば明示されていない場合もあるが，接続詞で明示されている場合のみを扱う．
さらに，見出しは高々二つの節から構成され，かつ一方が他方の中央埋め込み節ではないものと仮定する．
条件[REF_COND:sbjpred]が満たされるかどうかを厳密に判定するためには構文解析を行なう必要があるが，ここでは次のような手順で行なう．
\step見出し中に節境界標識の接続詞が存在し，それによって見出しが二分される場合，そのうち着目している\KEYCを含む部分をステップ[REF_ALGO:sbjpred:parse]の処理対象とする．
節境界標識が存在しない場合，見出し全体をステップ[REF_ALGO:sbjpred:parse]の処理対象とする．
\step処理対象の先頭から順に，述語になり得る定形動詞を探していく．
もし見つかれば，その述語候補と人称，数が一致する名詞を主辞とする名詞句がその前方に存在するかどうかを調べる．
もしそのような名詞句が存在すれば，それを主語とみなし，条件[REF_COND:sbjpred]が満たされないものとする．
ただし，着目している\KEYCが定形と同一表記の過去分詞である場合，この\KEYCを定形と解釈した動詞を述語候補とはしない．
\KEYCに定形か過去分詞形かの曖昧性がある場合，\KEYCを定形と解釈すれば，この\KEYCを主辞とし潜在節と構文的に競合する節が存在することになるため，条件[REF_COND:sbjpred]に従うと，見出し(H[REF_HEADLINE:sued])などのようにbe動詞を補うべき見出しにbe動詞が補われない．
この曖昧性の解消をここでは，\KEYC直後の名詞句の有無と，\KEYCの動詞型[CITE]に基づいて行なう．
\KEYCを定形と解釈することは動詞の態を能動とみなすことであり，過去分詞形と解釈することは\KEYCとbe動詞を組み合わせて受動態とみなすことであるが，\KEYCが動詞型としてSVOO型もSVOC型も持たない場合，\KEYCの目的語が存在すれば，受動態と解釈することは構文的に不可能である．
ここでは\KEYC直後の名詞句を目的語とみなし，\KEYCの直後に名詞句が存在しなければ受動態と解釈してbe動詞を補う．
\KEYCが動詞型としてSVOO型かSVOC型を持つ場合は，\KEYCの直後に名詞句が存在しても受動態と解釈できることがあるが，正確に判定するためには，\KEYC直後の名詞句だけでなく，さらにその後方の名詞句の有無も認識する必要がある．
定形か過去分詞形かの曖昧性に関しては，見出しではほとんどの場合後者と解釈していよいという経験則[CITE]があることと，粗い構文解析しか行なわない方針であることから，ここでは\KEYCがSVOO型かSVOC型を持つならばbe動詞を補うことにし，次の条件[REF_COND:pastpart]を設ける．
\cond\KEYCに定形か過去分詞形かの曖昧性がある場合，\KEYCの直後に名詞句が存在しないか，\KEYCがSVOO型かSVOC型を持つ動詞である．
この条件に従えば，見出し(H[REF_HEADLINE:sued])では``sued''の直後にその目的語となる名詞句が存在しないので，be動詞が補われる．
また，次の見出し(H[REF_HEADLINE:offered])では``offered''の直後に名詞句が存在するが``offered''はSVOO型を持つので，be動詞が補われる．
\headline U.K. money market offered early assistance
\KEYCとその前方に存在する名詞句が連語や慣用句のように固定的な表現を構成する場合be動詞を補わない方がよいと考えられるので，次の条件[REF_COND:idiom]を設ける．
\cond\KEYCが固定的表現の構成要素でない．
例えば次の見出し(H[REF_HEADLINE:need])では，``need''とto不定詞の間に結び付きがあると辞書に記述されているので，この結び付きを優先する．
\headline No need to state U.K. support for system --- Lawson
ここでいう固定的表現とは，\KEYCの辞書項目または条件[REF_COND:leftnp]を満たす名詞句の主辞の辞書項目に記述されている表現だけでなく，``for [MATH] to [MATH]''や``too [MATH] to [MATH]''などのような相関語句も含む．
従って，例えばto不定詞が\KEYCでありその前方に``for''や``too''などの語が存在する場合be動詞を補わない．
適切なbe動詞補完を行なうためには，主語候補の直後すなわち条件[REF_COND:leftnp]を満たす名詞句の直後にbe動詞を挿入すべきかどうかを判定するだけでなく，挿入する場合にはbe動詞の屈折形を決定する必要がある．
屈折形は，人称，数，時制，相情報などに基づいて決めなければならないが，ここでは，時制は現在とし，主語候補の主辞の人称と数に従う区別だけを行なうことにし，``am''，``are''，``is''のいずれかとする．
新聞記事見出しでは過去の事柄が現在形で表されることも少なくない[CITE]ので，現在時制とすることはそれほど不自然ではないと考えられる．
調査対象の73件の見出しでは複数箇所でbe動詞が省略されている例は存在しなかった．
このため，形態素解析結果に対して先頭から順に適用条件との照合を行なっていき，ある\KEYCに関してbe動詞補完が行なわれた場合，他の\KEYCに関する補完を行なわないようにする．
すなわち，[REF_sec:preedit]節で述べた，ある\KEYCに関する規則に与える適用抑制規則集合の要素は，その規則以外のすべての\KEYCに関する規則の識別番号とする．
規則の信頼度は，すべてのbe動詞補完規則についてBとし，be動詞を補った見出しの構文解析に失敗した場合には補完を取り消して元の表現に戻す．
