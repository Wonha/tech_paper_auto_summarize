文脈としての場面情報の構築

\subsection{文脈情報の分類}

言語外知識に基づく文脈は，
(1)発話のおかれた状況，
(2)領域知識，
(3)注意状態，
(4)発話者の信念・心的状態，
の４つに大きく分類することができる\cite{Katagiri89}．
このうち(2)の領域知識は，
一般的常識から特定専門分野に属するものまで幅広い知識を指し，
言葉で語られる内容に関する何らかの知識である．
前章での例題 `John shot some bucks.'では，
狩猟の場面では牡鹿が登場することが多いこと，
動物を撃つことが普通であることなど，
またギャンブルの場面ではお金を賭けること，
儲けたり損をしてみたりすることがあることなど，
領域知識の一般的常識を用いて，ほとんど瞬間的に
多義性を解消していることがわかる．
一般の情報伝達はこれらの知識を共有していることを前提として行なわれるため，
共有知識の部分を省いた簡潔な言語表現をとることができる．
このような言語の効率性(efficiency)とトレードオフにあるものが
自然言語の持つ曖昧性(ambiguity)であり，
同音異義性(homonymy)や多義性(polysemy)
としてテキスト表層に現れる\cite{Kojima91}．
他にも，言語を効率的に伝達する手段として省略(ellipsis)や
照応(anaphora)もあげられるが，
一方で受け手がこれらの欠落した情報を補うことが必要であることが問題になる．
話者や著者が伝達しようとした正しい意味を復元するためには，
適切な知識と処理方法をあわせて見つける必要がある．
さらにこのような処理を機械に実装する場合には，
知識の入手のしやすさや処理の効率性も重視しなくてはならない．
これらの要請を満たすものを見い出すためには，
自然言語は人間の用いるコミュニケーションの道具なので，
まずは人間の行なっている処理や知識に着目するのが
良い方法の一つであると思われる．

ここでは多義性解消に絞り，
処理を次の二つに分けることを考える\cite{Tsunoda93}．
\begin{itemize}
  \item 意味の決定のための制約処理(constraint processing)
  \item 処理の効率化のための選好処理(preference processing)
\end{itemize}
前者は構文解析や格(意味)の整合性などの評価部であり，
矛盾が発生すると処理がバックトラックする．
後者は過去の記憶に基づき連想処理を行なって解探索の優先順位づけをし，
処理を効率化する．
本研究では文脈によって後者の選好処理を行なう方法を考える．

ある文脈に固定したとき，
過去の記憶に基づく連想処理はデータの性質によって
(1)空間的連想(spatial)，
(2)時間的連想(temporal)，
(3)類似(similar)，
(4)反対(contrary)，
に分けることができる\cite{Kohonen93}．
文脈はさらにこれらの関係を組み合わせたものとして考えることができる
\cite{Tsunoda93}．

この中の(1)の空間的連想に着目してみると，
例えばナイフやフォーク，スプーンのように，
人間が一目見て関係があると思われるものもある．
それは一緒に扱われることが多いからである．
しかし，それらに対しては例えば台所の中ではとくに物を食べるための道具として
共通の機能を持っているために，意味のつながりをより強く主張することができる．
逆に例えば「登山」や「強盗」，「鉛筆を削る」などの状況では
ナイフとフォーク，スプーンどうしの直接の意味的つながりは薄い．
このように，機能が同じなど，何らかの状況に応じて意味のつながりを
持って想起される場合に，空間的連想の特長を積極的に処理に利用することが
できると思われる．
その共通性をとらえるための土台の一つとして，
対象物が現れる背景としての場面をとりあげる．
これは Schank らのスクリプト\cite{Schank77}の
Location header にほぼ等しく，
例えば Restaurant script の Restaurant が対応している．
`John shot some bucks.' の例題では狩猟の場面では `Hunting'に，
そしてギャンブルの場面では`Gamble(roulette)'に対応する．
「場面」は何らかの行為が行なわれる場や，
何らかの目的が達成される場，
あるいは自然に物が集まる場などに，
登場する対象物の集まりを加えることによって定義される．
ただし頑健性を考慮するため，
個々の対象物が現れる必然性を陽に記述することなく，
対象物の集合によって表現する空間的情報であるとする．
したがってここでは他の共起関係や行為による制約を補完する知識である
という立場をとる．
この研究ではそのような場面情報の第一近似として
OXFORD-DUDEN の辞書 Pictorial English Dictionary を利用しているが，
将来の画像処理・認識技術の発展による言語処理との統合が実現されれば，
より詳細なデータが得られることを仮定する．

さらに(3)の類似の部分を Roget 5th ed. International Thesaurus の
上位−下位関係と概念どうしのまとまりを
用いることによって実現し，
場面に登録されていない語に対しての頑健性を実現している．

\subsection{場面情報源としての Pictorial Dictionary}

前述のように場面情報の第一近似として OXFORD-DUDEN の 
Pictorial English Dictionary (OPED) を用いる．
これは日常生活に出てくる場面を絵に描き，
さらに登場する物の名前を対応づけて欄外に列挙してある辞書であり，
もともと物の名前を出てくる場面と対象物の形から引くのが目的のものであるので，
言語では明示的には通常扱われない常識の一部を含んでいると考えることができる．
辞書は Man and his Social Environment などの 11 クラスに大きく分かれており，
さらに Kitchen などの 384 カテゴリに小さく分かれている．
このカテゴリごとに絵が付与されており，
この絵を空間的情報としての場面の近似であるとして扱うことにする．
辞書に登録されている単語数は約 27,500 語であり，
一つの場面に登録されている単語は重複する場合も数えて平均約 184 語である．
例えば Kitchen の場面の冒頭を列挙してみる．
{ \baselineskip=16pt
\begin{verbatim}
1 housewife
2 refrigerator(fridge,Am.icebox)
3 regrigerator shelf
4 salad drawer
5 frozen food compartment
\end{verbatim}
}
この中で主体となる語は被修飾語の名詞である．
修飾語の名詞も付随して場面に登場する可能性が非常に高いので，
被修飾語と同様に場面情報として扱う．
また frozen など動詞が変化して修飾している場合も，
行為を表すものとして場面の意味の分布に入れることにする．
他の形容詞や注釈語(上記の Am.=米語)などは全て省いている．

\subsection{シソーラスによる意味の定義}

意味解析を行なう場合に問題になることは意味の定義である．
意味は構文情報などとは異なり，一意に定義することが難しく，
統一がとれていない．
ここではよく用いられているシソーラスによる意味の分類\cite{Yarowsky92}
に従い，Roget の International Thesaurus の第五版を用いた．
\begin{figure}
  \begin{center}
    \epsfile{file=fig1.eps,width=70mm}
  \end{center}
  \caption{Roget International Thesaurus の概要}
  \label{thesaurus}
\end{figure}
図~\ref{thesaurus} に示すように，
概念は全部で 1073 カテゴリにトップダウンに分類され，
さらに各カテゴリは品詞ごとにより細かい項目に分類されている．
buck には複数の概念があるが，そのうちの一つの概念を図~\ref{thesaurus} に
例として示してある．
それは「牡鹿」という意味を持ち，
カテゴリ 311 の `Animal, Insects' の中の項目 311.5 の `hoofed animal' の
中に分類されている．
単語はその用法に従って分類されるため，
多義語は複数のカテゴリや項目に含まれることになる．
したがって，カテゴリや項目が特定されれば多義性が解消されたことにほぼ等しくなる．

\subsection{Pictorial Dictionary とシソーラスによる場面情報}

OXFORD-DUDEN Pictorial English Dictionary (OPED)の各場面と
Roget 5th ed. International Thesaurus(以下シソーラスとする) を組合せ，
場面情報を構築する．
場面情報の表現として
(a)出現単語とその意味をテーブルとして持つ方法と，
(b)場面に現れる意味分類の出現頻度の分布として持つ方法とがある．
(a)は OPED に出てくる単語に対応する意味を人間がシソーラスの
最も細かい分類である項目レベルの分類の中から
手で選び，その語の意味として登録する(図 \ref{construct} 左下参照)．
\begin{figure}
  \begin{center}
    \epsfile{file=fig2.eps,width=68mm}
  \end{center}
  \caption{場面情報の構築}
  \label{construct}
\end{figure}
(b)の意味分布は(a)の単語と意味の対のリストから作成される．
(a)では各単語の意味の項目分類(例えば buck の意味の一つは hoofed animal を
示す 311.5)が単語ごとに記録されているが，
(b)ではこの単語ごとの枠を外し，場面全体で頻度をとる
(図 \ref{construct} 右下参照)．
例えば buck の他にも deer という単語などが狩猟の場面にあるが，
これはやはり hoofed animal を表す 311.5 の意味を持つため，
311.5 の項目の頻度に加算される．
この頻度リストを(b)の項目レベルの場面情報とする．
さらにこの頻度リストをカテゴリ内で加算することによって(b)のもう一つの
場面情報であるカテゴリごとの頻度リストが得られる．
これをカテゴリレベルの場面情報とする．
例えば項目レベルのリストで hoofed animal を表す 311.5 が 5，
marine animal を表す 311.60 が 10 であった(他は 0 とする)場合は，
このカテゴリレベルでの 311 は頻度 15 になる．
このように(b)に関しては，
Thesaurus は図~\ref{thesaurus} のように，
項目レベル(例: 728.6)とより大きな分類である
カテゴリレベル(例: 728)があるので，選択の余地がある．

\small
\begin{table}
  \caption{各場面での単語情報}
  \label{scene_words}
  \begin{center}
    \tabcolsep = 1mm
    \begin{tabular}{|l|l|l|l|} \hline
           & 狩猟 & ルーレット & 台所 \\ \hline \hline
被修飾名詞 & 94/114 & 42/52 & 45/61 \\
修飾名詞   & 41/44  & 15/15 & 29/33 \\
動詞       & 20/21  & 2/2   & 6/7   \\ \hline
合計       & 155/179& 59/69 & 80/101\\ \hline
    \end{tabular}
  \end{center}
\end{table}
\normalsize

\small
\begin{table}[p]
  \caption{狩猟の場面を構成するカテゴリの分布}
  \label{hunt_distri}
  \begin{center}
    \tabcolsep = 1mm
    \begin{tabular}{|c|l|l|l|r|} \hline
順位    & カテゴリ  & カテゴリ名 & 概念 & 頻度 \\ 
      \hline \hline
      1 & 382       & Pursuit          & 追跡       & 42 \\
      2 & 311       & Animals, Insects & 動物，昆虫 & 41 \\
      3 & 308       & Killing          & 殺傷       & 11 \\
      4 & 76        & Masculinity      & 雄         & 8  \\
      4 & 346       & Concealment      & 隠蔽       & 8  \\
      6 & 383       & Route, Path      & 道         & 7  \\
      7 & 8         & Eating           & 食事       & 6  \\
      7 & 159       & Location         & 場所       & 6  \\
      7 & 462       & Arms             & 武器       & 6  \\
      7 & 900       & Support          & 支え(土台) & 6  \\
      7 & 903       & Pushing,Throwing & 押し出し   & 6  \\
      - & その他のカテゴリ    & -                & -          & 102 \\ \hline
        & total     &                  &            & 255\\
      \hline
    \end{tabular}
  \end{center}
\end{table}
\normalsize

\small
\begin{table}
  \caption{ギャンブル(roulette)の場面を構成するカテゴリの分布}
  \label{roulette_distri}
  \begin{center}
    \tabcolsep = 1mm
    \begin{tabular}{|c|l|l|l|r|} \hline
順位    & カテゴリ  & カテゴリ名 & 概念 & 頻度 \\ 
      \hline \hline
      1 & 759       & Gambling            & ギャンブル   & 34 \\
      2 & 244       & Quantity            & 量           & 8  \\
      3 & 743       & Amusement           & 娯楽         & 6  \\ 
      3 & 758       & Cardplaying         & カードゲーム & 6  \\
      5 & 900       & Support             & 支え(土台)   & 4  \\
      5 & 914       & Rotation            & 回転         & 4  \\
      7 & 197       & Room                & 区画         & 3  \\
      7 & 280       & Circularity         & 円形         & 3  \\
      7 & 729       & Finance, Investment & 財政，投資   & 3  \\
      7 & 881       & Five and Over       & ５以上       & 3  \\
      -  & その他のカテゴリ   & -                   & -            & 27 \\ \hline
         & total    &                     &              & 101 \\
      \hline
    \end{tabular}
  \end{center}
\end{table}
\normalsize

\small
\begin{table}
  \caption{台所の場面を構成するカテゴリの分布}
  \label{kitchen_distri}
  \begin{center}
    \tabcolsep = 1mm
    \begin{tabular}{|c|l|l|l|r|} \hline
順位    & カテゴリ  & カテゴリ名 & 概念 & 頻度 \\ 
      \hline \hline
      1 & 386       & Store, Supply       & 保管，供給   & 10 \\
      2 & 8         & Eating              & 食事         & 9 \\
      3 & 195       & Container           & 容器         & 8 \\
      3 & 239       & Channel             & 水路(管)     & 8 \\
      5 & 11        & Cooking             & 料理         & 7 \\
      6 & 742       & Ceramics            & 陶磁器       & 6 \\
      7 & 79        & Cleanness           & 清潔さ       & 4 \\
      7 & 293       & Closure             & 閉鎖         & 4 \\
      7 & 1023      & Refrigeration       & 冷却         & 4 \\
      - & その他のカテゴリ    & -                   & -            & 55 \\ \hline
        & total     &                     &              & 115 \\
      \hline
    \end{tabular}
  \end{center}
\end{table}
\normalsize

ターゲットとする単語の多義性を解消する処理に際して，
場面として全ての単語が正しい頻度情報で登録されている場合には，
(a)のテーブルのみで十分なのだが，現実には出現する全ての対象物に関する
情報を集めることは不可能に等しく，
未登録の単語が必ず現れると思われる．
その場合には(b)の意味分布を持つ方法によって場面情報の近似を行なう．
ある程度十分な量の単語が登録されていれば，
(b)での項目レベルの意味を解答すれば良い近似になるが，
登録単語が少ない場合にはカテゴリレベルまで拡げ補間をする必要がある．
しかし逆に，単語どうしで意味の干渉が起こり，
近似が悪くなる可能性がある．
例えば，上の例では bucks の意味は正確には 311.5 であるが，
カテゴリレベルでは 311 という大きな分類の分布しか持たないので，
このような細かい意味の選別はできなく，311 の下にある意味に関しては
ランダムに取り出すしかない．
また実験の章で具体的に述べられるように，
ルーレット(ギャンブル)の場面全体では土台を表す 900 という分類の頻度が多い．
このため，ルーレットの場面では bucks は本来は「ドル(お金)」を示して欲しい
ところが，「鞍馬の台」を示してしまう結果になっている．
このように，意味の補間による未登録語への対処と，
トレードオフの関係になっている．
このため，次章での実験の結果により有利な方を使用する．

視覚辞書 OPED に基づく場面中の単語を分類し，
統計をとった例を表~\ref{scene_words} に示す．
`/'の右側は単語の全数，左側はシソーラスに単語が登録されている数を示している．
場面の意味分布の例として，
狩猟の場面情報を表~\ref{hunt_distri} に，
ギャンブル(ルーレット)の場面情報を表~\ref{roulette_distri} に，
そして台所の場面情報を表~\ref{kitchen_distri} に
示す．
ここでは大きい分類であるカテゴリレベルの分類を用いた．
これを見ると各場面はシソーラスの様々な分類から構成されている
ことがわかり，視覚的な場面の情報量の多さがうかがえる．
それぞれの頻度は OPED のその場面における単語の意味のうち，
そのカテゴリに属するものの数である．
シソーラスは同じ物体を指すものであっても，
観点によって微妙に異なる分類をすることがあるので，
一単語が同じ物体を指しながら複数のカテゴリに属する場合もある．
そのため全体の頻度が表~\ref{scene_words} の単語数よりも多くなっている．
例えば，表~\ref{scene_words} の狩猟の場面での，シソーラスに登録されている
単語数 155 よりも多い，255 の意味が表~\ref{hunt_distri} に割り付けられている．


文脈としての場面情報を利用した多義語の優先順位づけ

\subsection{全体構成}

\begin{figure}
  \begin{center}
    \epsfile{file=fig3.eps,width=70mm}
  \end{center}
  \caption{システムの全体構成}
  \label{global_st}
\end{figure}
仮定するシステムの全体構成は図~\ref{global_st} に示される．
パーザは通常の統語解析アルゴリズム\cite{Tanaka89}
を想定しており，それに場面情報を扱う部分を拡張する．
拡張部では文が入力されると品詞解析などの前処理を行ない，
それまでに得られている文からの場面情報を加えることにより，
目標とする単語の各意味を優先順位づけする．
その結果は統語解析アルゴリズムに渡されて従来の手順に従って解析が進められる．
前処理での主な処理である品詞解析に際しては，現在高い正答率で解が得られる 
Hidden Markov Model によるモジュール\cite{XEROX}
が存在するので，これを利用することを仮定する．
場面解析に関しては，稿を改めて述べることにする．
ここでは場面および目標単語の品詞が一意に決まった場合を
仮定して議論を行なう．
また形態素解析によって単語に切り分けた後の処理を行なうことにし，
特に英語を対象として単語一つずつに対して処理が起動されることを想定している．

\subsection{優先順位づけの定式化}

場面が一つに決まった場合に，
多義性解消の対象とする単語すなわち目標単語の候補となる複数の意味の中から
試行のために取り出す順番を決める順序列を求める．
予め場面に登録されていない単語の意味を推測すること，
そして登録されている単語の意味をなるべく正確に保存するために，
前述の
(a) 予め場面に出現する単語と対応する意味を対として持つテーブル，
(b) 場面に現れる意味分類の出現頻度の分布，
の大きく分けて二種類の情報を用いる．
まず目標単語が場面の(a)のテーブルに登録されてあるか調べ，
登録されている場合はその意味を結果として用いる．
例えば，`table' という単語には「机」や「表」など多くの意味がある．
しかし OPED の「台所」という場面に明示的に `table' という単語が現れており，
それは「机」(229 のカテゴリの中の 229.1 という項目で示される)という意味が
割り付けられてあった．
そこでシステムはその意味を最初に出力する．
この場合は「机」の尤もらしさを 1 とし，
他の意味の尤もらしさを 0 とする．

次に目標単語が場面の(a)のテーブルに
登録されていない場合には(b)の意味分布を調べ，
目標単語の意味の候補リストの中で
尤度の最も高いものから順番に取り出して意味解析部に渡す．
例えば `glass' という単語は OPED の「台所」という場面には現れていない．
しかしその場面の全体の意味の傾向を利用して `glass' の意味を推測したい．
例えばカテゴリレベルの場面情報で考えてみると，
「台所」という場面では「容器」を表す分類の尤度が 8 であり，
`glass' のいくつかの意味の中では最も高い値を持っている．
そこで「容器」として「コップ」の意味を優先して出力し，
「鏡」などの意味は優先度を下げる．

この様子を定式化してみる．
目標単語を \(W\)(例: glass)，
単語の意味を \(M\)(例: コップ)，
文脈を \(C\)(談話全体)，
場面を \(S\)(例: 台所)，
意味分類を \(k\)(例: 1.1 〜 1073.14)，
目標単語の意味の正解を \(M_{c_{j}}\)(例: コップ，鏡)，
そして対応する目標単語の意味分類の正解を 
\(k_{c_{j}}(1 \leq j \leq n_{c}, n_{c} は正解の数)\)
(例: 195.1(コップ)，29.6(鏡))とする．
また単語の意味と意味分類が 1対1に対応する場合を考えることを仮定する．

このとき文脈 \(C\) の中で \(W\) があったとき，
その意味が \(M\) である尤度 \(L(W,C,M)\)を用いると，
目標単語の意味(\(n\)個)の試行順序決定のための半順序列 \({\bf T}\) は
以下のように書くことができる．
\begin{eqnarray}
  \{M_{1},M_{2}, ... M_{n} \in {\bf T}: L(W,C,M_{i}) \geq L(W,C,M_{i+1})\}
\end{eqnarray}
ただし \(L(W,C,M_{i}) = L(W,C,M_{j})\) となる部分はランダムに順番づけをする．

この場合には場面を一つに決定したときの目標単語の各意味分類の尤もらしさを
利用するため，
尤度 \hspace{-0.5mm}\(L(W,C,M)\)\hspace{-0.5mm} は 場面 \(S\) の中での \(W\)の意味分類が \(k\)である尤度
\(L(W,S,k)\) で置き換えることができる．
\begin{eqnarray}
  L(W,C,M) = L(W,S,k)
\end{eqnarray}
さらにこの尤度 \(L(W,S,k)\) は本来は
事前分布(文脈情報なしの意味の分布)や
条件付き確率(文脈情報による意味の分布の変化)により
事後分布 \(p(W,S,k)\) (文脈情報を得た後の Bayes 事後確率)を求めて
比較すべきところだが，
事前分布や条件付き確率をすべて求めることは非効率的であり，
まだ正確には得られていないという現状のため，
ヒューリスティクスとして場面を固定したときのその場面中の意味分類の頻度
\(n(k,S)\)を使うことにする．
\vspace{-0.5mm}
\begin{eqnarray}
 L(W,S,k) = n(k,S)
\end{eqnarray}
\vspace{-0.5mm}
したがって(1)式は
\vspace{-0.5mm}
\begin{eqnarray}
  \{k_{1},k_{2}, ... k_{n} \in {\bf T}: n(k_{i},S) \geq n(k_{i+1},S)\}
\end{eqnarray}
\vspace{-0.5mm}
となる．
この順番に従って本手法は語の意味を出力する．
ただし \(n(k_{i},S) = n(k_{j},S)\) となる部分はランダムに順番づけをする．

今後の課題

今回の実験では場面を一つに固定した場合の
名詞の多義性に対して優先順位づけの効果を明らかにしたが，
場面を決定する機構は課題として残されている．
場面を決定するためには
\begin{itemize}
  \item 談話中の場面構造の切り出し
  \item 切り出した場面の特定
  \item 新たな場面情報の学習
\end{itemize}
を明確にする必要がある．
場面は今回想定したようにそれぞれの文章に対して一つずつ決まる場合の他にも，
入れ子などの構造を持つことがある．
例えば会話文中や回想などでの場面と話者のいる場面の関係などがあげられる．
各文章に対する場面が一つに決まる場合には，
場面の切りかえを検出する必要があり，
入れ子構造などを持つ場合にはさらに，
場面と場面の関係も自動的に検出する必要がある．
場面構造を切り出すためには焦点の解析や照応問題の解決が
必要になる\cite{Tsunoda94a}．
そして切り出した場面に対して場所名が明示的に与えられない場合には
最尤の場面を推定する必要がある\cite{Tsunoda94b}．
また場面の特定と文の理解は一方向でないことも考慮に入れる必要がある．
場合によっては，場面の特定によって文が理解できた後でも，
矛盾が生じて場面が変わりうる場合もあるし，
より詳細な場面情報を提供する場合もある．
テキスト全体からおおまかに場面を切り出し，
その後で文ごとの詳細な格解析を行なった結果から，
本当にその場面の同定が正しかったかを検証し直すことが
一つの方法である．

今回は視覚辞書である OXFORD-DUDEN Pictorial English Dictionary を
場面情報として用いたが，
このような辞書の情報が現実の世界の近似を十分に行なっていない場合には，
場面内の対象物を新たに学習する方法，
また新たな場面を獲得する方法が必要になるが，
それは将来画像処理や画像認識との統合時の実現課題の一つであると思われる．

ここでは場面に基づく空間的な連想を文脈情報の一つとして扱ったが，
動詞が状態変化をひき起こす作用を分類した概念の辞書などの知識を用いたり，
視点の移動などを含めた談話構造の解析を行ったりすることにより，
時間発展などの他の連想関係を用いること，
また動詞--名詞などの共起関係を用いることを組み合わせた場合の制御方法などの
検討を要すると思われる．
特に単語の意味間の直接の依存関係の整合性の問題があるが，
これは格解析の結果の検証を行ない，局所的な矛盾を起こさない解が
得られるまですべての解析を繰り返す必要がある．
また今回は多義語の意味の分類に際してシソーラスを用いたが，
意味の定義方法の問題は依然として残されており，検討を要する．

