\section{評価実験}
IREXワークショップにおける，IR本試験の結果を公表する方法については，
団体名を実名で公表するのではなく，各団体に割り当てられたID番号で
結果を公表する方法がとられた．
このため，検索結果に対してどのような手法が用いられているのか，
研究的な内容を対応づけることが難しくなっている．
システムの詳細を知る手段として，検索結果と同時に提出した
IRシステムアンケートがある．
このアンケートにより，各システムがどのような手法を利用したかが
理解できるようになっている．

IRシステムアンケートは，各システムについてどのような手法を用いて
本試験の検索結果を出したのかを回答したものであり，主に次の項目がある．
\begin{itemize}
\item 索引づけとそのデータ構造
\item 検索式の作成
\item 検索を実行する環境
\item 検索モデル
\item その他
\end{itemize}
これらの項目の回答を集計して，システムが用いた手法の内，
主要な55個の手法に注目した．
これらの手法を平均適合率などの数値と比較するために，
手法の使用の有無により数値を割り当てる．
本実験では，各システムが用いた手法には1を，用いていない手法
については0を割り当て，数値データに変換した．
このときアンケートの中で「はい」，「いいえ」で答えられない質問項目については，
システムにただひとつしか用いられていない手法でもひとつの手法として
数値を割り当て，システムの違いを明確に定めることにした．
このように変換をしたデータに平均適合率を付け足してひとつの行列にして，
用いられた手法と平均適合率との相関係数を求めた．
相関とは，変数 $x$，$y$ において一方の変化が他方の変化にある傾向を
伴うとき，$x$ と $y$ の間に相関関係があるという．相関には次の3種類がある．
\begin{itemize}
\item[] 正の相関：一方の値が大きくなると，他方の値も大きくなる．
\item[] 負の相関：一方の値が小さくなると，他方の値も小さくなる．
\item[] 無相関：2つの値に明白な関係がみられない．
\end{itemize}
この相関を数値的に表したものに相関係数があり，
2つの変数の相互関係の程度を表したものである．
本実験では，相関の有無を明確にするために，相関係数の絶対値が0.5を超える手法は
相関が認められるとして，システムが用いた手法に対して評価を行った．

\subsection{平均適合率とシステムの関連}
平均適合率とシステムとの相関係数を求めた結果，相関係数の高かった主な
システムの特徴を表\ref{pre_sys}に示す．
相関係数の高い手法は，全体的に正の相関を持っているが，
すべての手法に対し，相関係数の絶対値が0.5を下回っている．
表\ref{pre_sys}において，相関係数の絶対値の高い
LSI(Latent Semantic Indexing)やIDF(Inverse Document Frequency)については，
若干の相関は見られるものの，0.5に満たしていないため，平均適合率との間に
明確な相関を認めることができなかった．

\begin{table}[t]
\renewcommand{\arraystretch}{}
\caption{平均適合率と相関の高い主なシステムの特徴}
\centering
\small
\label{pre_sys}
\begin{tabular}{lcc} 
システムの特徴 		&   平均  & 相関係数 \\ \hline
LSI    			& 0.04545 & -0.49600 \\
IDF 			& 0.86364 &  0.49341 \\
レレバンスフィードバック& 0.22727 &  0.45499 \\
名詞 			& 0.45455 & -0.42376 \\
フレーズ 		& 0.31818 &  0.41665 \\
NEGタグ 		& 0.36364 &  0.40655 \\
ロバートソン法   	& 0.09091 &  0.40427 \\
文書の長さ 		& 0.45455 &  0.38297 \\
名詞以外の品詞 		& 0.40909 & -0.38053 \\
シソーラス 		& 0.13636 &  0.33728 \\
DESCRIPTOINタグ 	& 0.90909 & -0.33728 \\
文字列形態素インデクス 	& 0.09091 &  0.32822 \\
BM25 			& 0.09091 &  0.32822 \\ \hline
\end{tabular}
\end{table}

また，この表\ref{pre_sys}を見ると，DESCRIPTOINタグから索引語を抽出する手法と
NEGタグなどのようにNARRATIVEタグを利用した手法が混在していることが分かる．
実際に，NARRATIVEタグ自体を利用することについては，
平均適合率との相関係数が $-0.03864$ と低く，NARRATIVEタグは
他の2つのタグに比べ，適合率との関連性が少ない結果となった．
これは，NARRATIVEタグの中には比較的長い文章が存在し，検索に重要な
索引語が存在するのと同時に，一般的に広い分野で使われる索引語も
比較的多く存在しているため，このタグを使う際には注意が必要であると考えられる．
このようなことから，IREXワークショップに参加したシステムを
検索課題を簡潔に表現したDESCRIPTOINタグのみを用いたシステムと
比較的長い文章が存在し，NEGタグ
\footnote{NARRATIVEタグ中において，「〜を除く」などの否定的な表現を示すもの}
が存在するNARRATIVEタグを
同時に用いたシステムに分けて評価を行う．
これにより，相関の認められる手法がより顕著に現れ，
より有効な評価をすることができると考えられる．



\clearpage
\subsection{shortおよびlongでの平均適合率とシステムの関連} \label{slheikin}
DESCRIPTIONタグのみを用い，NARRATIVEタグを利用しない場合をshort，
検索課題をすべて使用した場合をlongとして，それぞれを用いたシステムにおける
平均適合率と利用した手法との関連性を比較する．
そのために，short，longそれぞれにおける平均適合率と
システムが用いた手法との相関係数を求め，
NARRATIVEタグを利用しない場合にはどのような手法が有効であるか，
また，NARRATIVEタグを利用した場合についても同様に有効な手法に
どのようなものがあるかを調査する．
その結果，shortを用いたシステム，longを用いたシステムの平均適合率との
相関係数が高かった主なシステムの特徴を，
それぞれ表\ref{sho_sys}と表\ref{lon_sys}に示す．

\begin{table}[t]
\renewcommand{\arraystretch}{}
\caption{shortの平均適合率と相関の高い主なシステムの特徴}
\centering
\small
\label{sho_sys}
\begin{tabular}{lcc} 
システムの特徴 		&   平均  & 相関係数 \\ \hline
IDF    			& 0.88888 &  0.64416 \\
LSI 			& 0.11111 & -0.64416 \\
フレーズ 		& 0.55555 &  0.61796 \\
レレバンスフィードバック& 0.33333 &  0.57326 \\
確率と情報量		& 0.33333 &  0.56095 \\
名詞	 		& 0.66667 & -0.54080 \\
名詞以外の品詞 		& 0.66667 & -0.54080 \\
構文解析 		& 0.22222 & -0.43654 \\
NEGタグ		 	& 0.22222 &  0.42834 \\
シソーラス		& 0.22222 &  0.42834 \\
単語		 	& 0.77778 & -0.42834 \\ \hline
\end{tabular}
\end{table}

\begin{table}[t]
\renewcommand{\arraystretch}{}
\caption{longの平均適合率と相関の高い主なシステムの特徴}
\centering
\small
\label{lon_sys}
\begin{tabular}{lcc} 
システムの特徴 		&   平均  & 相関係数 \\ \hline
固有名詞    		& 0.15385 &  0.74158 \\
ロバートソン法  	& 0.15385 &  0.74158 \\
構文的な手がかり	& 0.15385 &  0.74158 \\
文書の長さ		& 0.46154 &  0.68955 \\
NEGタグ			& 0.46154 &  0.48372 \\
名詞	 		& 0.30769 & -0.41387 \\
面の情報 		& 0.15385 & -0.41384 \\
IDF	 		& 0.84615 &  0.39269 \\
単語		 	& 0.61538 &  0.37213 \\
形態素解析		& 0.15385 & -0.36284 \\ \hline
\end{tabular}
\end{table}

表\ref{sho_sys}と表\ref{lon_sys}から共通して言えることは，
shortとlongに分ける前の表\ref{pre_sys}と比較すると
相関係数が全体的に高くなっているということである．
すなわち，shortとlongに分けることによって，それぞれの検索システム
に対して，平均適合率により関係深いシステムの特徴が顕著になっている．


shortで平均適合率と相関が最も高かったのは，LSIとIDFである．
LSIは負の相関を持ち，検索精度を下げる傾向があるため，
今回の本試験での結果においては，LSIの利用や索引づけに改良が必要であった．
平均適合率と直接関連のある手法に，文書の重みづけとしてはIDF，索引語には
意味を限定しやすいフレーズが，共に正の相関を持ち検索精度を上げる傾向がある．
フレーズを用いるとき，索引語が数多く存在しない場合があるため，
レレバンスフィードバックを用いて検索式を拡張させることで，
性能の良いシステムが構築できると考えられる．
名詞や名詞以外という品詞情報を用いて索引づけを行う方法は，
どちらも負の相関が高くなった．これは，元々索引語の数などのように情報量が
少ない上に，一般的な単語まで取り出していたために，
検索精度が下がる傾向があると考えられる．

longで平均適合率と相関が最も高かったのは，固有名詞である．
これは，NARRATIVEタグにある文章が比較的長いめ，索引づけの手法の中でも
特定分野にしか出現しない語を抽出できる固有名詞の相関が高くなったと考えられる．
また，ロバートソン法や構文的な手がかり，文書の長さといった
文書そのものの違いや特徴を明確にする重みづけの手法も相関が高かった．
shortでは平均適合率に関連性があったIDFは，
longの場合，これらの手法より相関が低かった．
このことより，索引語に対する重みづけ手法は関連性が低いと考えられる．

表\ref{sho_sys}に見られる手法と表\ref{pre_sys}に見られる手法を比較すると，
同じような手法が全体に見受けられた．
すなわち，shortの場合は，一般的な検索システムの平均適合率に
関連性のある手法がそのまま関連性があるということができる．
longの場合は，表\ref{lon_sys}に示した相関と
全体の結果とを比較すると，全体的に正の相関を持つものが多かったが，
表\ref{pre_sys}では見られなかった手法が多く現れた．
 	
これらの結果から， NARRATIVEタグの使用有無によって検索システムの
平均適合率に関連性のある手法が変化することが分かった．
したがって，NARRATIVEタグを用いる際には，
平均適合率に関連性のある，適した手法を選択する必要があると考えられる．

\subsection{回帰式とシステムの関連}
検索結果を平均して得られた，再現率と適合率の関係のデータを
単回帰分析を用いて直線近似を行う．
計算の結果，傾き(回帰係数)や切片(定数項)に対して
相関の高かった手法を，それぞれ表\ref{coe_sys}と表\ref{con_sys}に示す．
直線回帰を行ったときの決定係数は最大で0.99446，
最小で0.69193となり，22個のシステムにおける平均が0.942と高い値となり，
再現率・適合率曲線を直線で近似することが妥当であることを表している．

\begin{table}[htb]
\renewcommand{\arraystretch}{}
\caption{回帰係数と相関の高い主なシステムの特徴}
\centering
\small
\label{coe_sys}
\begin{tabular}{lcc} 
システムの特徴 		&   平均  & 相関係数 \\ \hline
文書の長さ		& 0.45455 & -0.60396 \\
構文解析		& 0.04545 & -0.49385 \\
IDF		 	& 0.86364 & -0.44741 \\
固有名詞(索引)		& 0.22727 & -0.43614 \\
固有名詞(検索式)	& 0.22727 & -0.36891 \\
単語	 		& 0.68182 & -0.30771 \\
面の情報	 	& 0.09091 &  0.30267 \\
LSI	 		& 0.04545 &  0.30140 \\ \hline
\end{tabular}
\end{table}

\begin{table}[htb]
\renewcommand{\arraystretch}{}
\caption{回帰直線の定数項と相関の高い主なシステムの特徴}
\centering
\small
\label{con_sys}
\begin{tabular}{lcc} 
システムの特徴 		&   平均  & 相関係数\\ \hline
IDF		 	& 0.86364 &  0.60051\\
文書の長さ		& 0.45455 &  0.55917\\
LSI	 		& 0.04545 & -0.55286\\
ロバートソン法  	& 0.09091 &  0.44812\\
NEGタグ 		& 0.36364 &  0.42826\\
フレーズ 		& 0.31818 &  0.39632\\
固有名詞(検索式)	& 0.22727 &  0.39059\\
レレバンスフィードバック& 0.22727 &  0.37556\\
面の情報	 	& 0.09091 & -0.36234\\
照合文字列長		& 0.33400 & -0.34285\\ \hline
\end{tabular}
\end{table}

傾きと最も相関係数の高いものは文書の長さで，
相関係数が $-0.60396$ と相関の認められる数値で，傾きを下げる傾向がある．
これは，検索した文書数が増えるにつれて，適合する文書を検索する割合が少なくなる
ことを表している．
特に，傾き，切片共に関連が大きいIDFと文書の長さは重みづけ手法であり，
文書間での違いや特徴を明確にしているため，
検索システムの構築において，重みづけ手法が特に重要であると考えることができる．

切片と最も相関係数の高いものはIDFで，次いで，文書の長さ，LSIとなっている．
全体的に正の相関を持つ手法が多く，切片を上げる傾向がある．
しかし，これらの手法には，傾きにおいて負の相関の高い手法と共通するものが
多く存在している．
これより，これらの手法に対して，切片の大きさと
傾きの大きさにはトレードオフの関係が存在していることが分かる．


\clearpage
\subsection{shortおよびlongでの回帰式とシステムの関連}
NARRATIVEタグの有効性，有効な利用方法について考えるため，
\ref{slheikin}節と同様にshortとlongに分割し，評価を行った．
傾きや切片に対して相関の高かった手法を，
shortの場合をそれぞれ表\ref{coe_s_sys}，表\ref{con_s_sys}に，
longの場合をそれぞれ表\ref{coe_l_sys}，表\ref{con_l_sys}に示す．

\begin{table}[t]
\renewcommand{\arraystretch}{}
\caption{shortの回帰係数と相関の高い主なシステムの特徴}
\centering
\small
\label{coe_s_sys}
\begin{tabular}{lcc} 
システムの特徴 		&   平均  & 相関係数 \\ \hline
シソーラス		& 0.12500 &  0.75160 \\
LSI      		& 0.12500 &  0.75160 \\
自動検索質問拡張	& 0.12500 &  0.75160 \\
IDF      		& 0.75000 & -0.74788 \\
フレーズ        	& 0.37500 & -0.57108 \\
文字列形態素インデクス  & 0.25000 & -0.51490 \\
確率と情報量	 	& 0.25000 & -0.51490 \\
BM25	 		& 0.25000 & -0.51490 \\ \hline
\end{tabular}
\end{table}

\begin{table}[t]
\renewcommand{\arraystretch}{}
\caption{shortの回帰直線の定数項と相関の高い主なシステムの特徴}
\centering
\small
\label{con_s_sys}
\begin{tabular}{lcc} 
システムの特徴 		&   平均  & 相関係数\\ \hline
IDF		 	& 0.75000 &  0.60051\\
シソーラス		& 0.12500 &  0.55917\\
LSI	 		& 0.12500 & -0.55286\\
自動検索質問拡張        & 0.12500 &  0.44812\\
文字列形態素インデクス 	& 0.25000 &  0.42826\\
確率と情報量		& 0.25000 &  0.39632\\
BM25            	& 0.25000 &  0.39059\\ \hline
\end{tabular}
\end{table}

\subsubsection*{shortにおける関連性}
shortの場合，傾きと最も相関係数の高い手法は，シソーラス，LSI，自動
検索質問拡張で，これら3つは等しい値で，正の高い相関を持つ．
しかし，全体的には負の相関を持つ手法が多く，傾きを下げる傾向がある．
shortでは情報が少ないために，索引づけされた語をあらかじめ準備した
知識集合であるシソーラスで拡張することにより，
傾きを上げる高い正の相関が得られたものと考えられる．
さらに，LSI，フレーズ，自動検索質問拡張，文字列形態素インデクスも
シソーラスと同様に索引づけの手法で，相関係数は比較的高い値になっている．
このことから，検索に有効な索引語の選択やLSIによる意味的な表現形式を
得る手法が，傾きに深く関わっているといえる．

また，切片と最も相関係数の高い手法はIDFで，次いで，シソーラス，
LSIとなっている．
こちらは，全体的に正の相関を持つものが多く，切片を上げる傾向がある．
傾きとの相関の高い手法と共通するものが多く，切片でも索引づけの手法が
深く関連しているといえる．
シソーラスや自動検索質問拡張は傾き，切片ともに正の相関係数を持ち，
shortの場合，シソーラスが切片と傾きに最も関連の深い手法だと考えられる．
しかし，LSI，IDFなどは，傾きでは正の相関，切片では負の相関を持っているために，
ここでも傾きと切片の間にトレードオフの関係が存在することが分かる．

\begin{table}[t]
\renewcommand{\arraystretch}{}
\caption{longの回帰係数と相関の高い主なシステムの特徴}
\centering
\small
\label{coe_l_sys}
\begin{tabular}{lcc} 
システムの特徴 		&   平均  & 相関係数 \\ \hline
ベクトル		& 0.14285 & -0.60621 \\
文書の長さ 		& 0.14285 & -0.60621 \\
索引語の長さ	        & 0.14285 &  0.59558 \\
IDF      		& 0.42857 & -0.58837 \\
フレーズ        	& 0.28571 & -0.47094 \\
インデクス(ベクトル)    & 0.92857 &  0.38171 \\
TF       	 	& 0.07142 & -0.38171 \\
構文的な手がかり	& 0.07142 & -0.38171 \\ \hline
\end{tabular}
\end{table}

\begin{table}[t]
\renewcommand{\arraystretch}{}
\caption{longの回帰直線の定数項と相関の高い主なシステムの特徴}
\centering
\small
\label{con_l_sys}
\begin{tabular}{lcc} 
システムの特徴 		&   平均  & 相関係数\\ \hline
フレーズ		& 0.28571 &  0.75913\\
ベクトル		& 0.14285 &  0.62619\\
文書の長さ 		& 0.14285 &  0.62619\\
索引語の長さ      	& 0.14285 & -0.60014\\
NEGタグ             	& 0.57142 &  0.52856\\
IDF      		& 0.42857 &  0.49117\\
名詞             	& 0.28571 & -0.46559\\ 
n-gram           	& 0.28571 &  0.36211\\ \hline
\end{tabular}
\end{table}

\subsubsection*{longにおける関連性}
longの場合，傾きと最も相関係数の高い手法は，ベクトル，文書の長さで，
次いで索引語の長さとなる．
shortと同様に，全体的に負の相関を持つ手法が多く，
ベクトルなどは傾きを下げる傾向がある．
また，検索要求全体における傾き，切片と同様に，
文書の長さ，索引語の長さ，IDFなどの重みづけ手法が
深く関わっていることが分かる．
さらに，ベクトルは文書または検索要求全体を用いた手法であるため，
longを扱う際の索引語の増加に従って，関連性がより顕著に現れたと考えられる．

切片と最も相関係数の高い手法はフレーズで，次いで，ベクトルと文書の長さが
高い相関を持っている．
short同様，正の相関を持つものが多く，切片を上げる傾向がみられるが，
これらのほとんどは重みづけの手法である．
しかし，これらの手法は，傾きと負の相関の高い手法と多数共通しているため，
longにおいてもトレードオフの関係が存在していることが明らかになった．
また，検索要求の長いlongの場合，正の相関が高いNEGタグは，
傾きとの相関係数が低く，切片との相関係数は高い．
したがって，NEGタグの利用は，
ランクの上位に適合する文書を検索する有効な手段であると考えることができる．


