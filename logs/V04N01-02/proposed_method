日本語の話し言葉では，さまざまなレベルでさまざまな種類の不適格性が生じる[CITE]．
ここでは，これらの不適格性のうち，本研究でターゲットとする言い淀み，言い直し，繰り返し，助詞省略について，ATR対話データベース(ADD) [CITE]から実例をあげながら説明する．
言い淀み(hesitations)とは，「あのー」「えーと」などの意味を持たない冗長語(間投語，つなぎ語ともいう)によって発話が滞ることである．
([REF_eq:Hesitation])では太字が冗長語である．
\enumsentence{えーっと，そちら第一回の通訳電話国際会議の事務局でしょうか．
} [CITE]によると，ADDでは，約50 %の文に言い淀みが含まれる．
このうち約70 %では，頻度上位4種類の冗長語(「えー」「あのー」「あの」「え」)が使われている．
このことから，言い淀みは，(言語処理においては)主だった冗長語を辞書に登録することでかなりの部分が扱えると思われる．
ただし，冗長語はしばしば他の単語と混同される(連体詞「あの」「その」など)ことがあり，そういった場合に統一モデルは有効である．
言い直し(repairs)とは，言い誤りを訂正したり，より良い言い回しに変更するために，話者自身が発話を中断してその部分を再度発話することである．
[CITE]によると，ADDでは，約10 %の文に言い直しが含まれる．
([REF_eq:Repair1])では太字が言い直しによって訂正された部分(修復対象)である．
\enumsentence{あの，このクレ，クレジットカードというのは}言語処理における言い直しの扱いの問題点は以下のようにまとめられる．
言い直しには言語的な手がかりがないので，検出が困難である．
言い直しに伴って言い淀みが生じることがしばしばあるが，言い淀みは元来独立して起こり得るので，信頼できる手がかりにはならない．
修復対象の範囲を同定するのが困難である．
例えば，([REF_eq:Repair2])では「準備を」と「始めて」は修復対象に含まれるが，「もう」と「ビデオの」は含まれない．
\enumsentence{もう準備を始めて，ビデオの準備を始めていきたい．
}
言い直しは，話者に生じたトラブルの内容に応じて，多様なパターンをとる．
例えば，([REF_eq:Repair3]), ([REF_eq:Repair4]), ([REF_eq:Repair5])はそれぞれ，音韻的な原因(発語の途中でつまった)，統語的な原因(誤った助詞を選択した)，意味的な原因(不適切な意味内容を選択した)による言い直しと考えられる．
\enumsentence{つう，通訳電話に関するさまざまな，あのー，方面} \enumsentence{あの，クレジットカードをね，あのー，クレジットカードの名前となんか，ナンバーを} \enumsentence{あの，会議ではもちろん通訳，翻訳も入れます．
}
これらの問題点は，適格文の処理で生じる問題点と共通している．
例えば，([REF_eq:Repair2])における修復対象の範囲の同定は，([REF_eq:Subord])における従属節(太字部分)の範囲の同定と同種の問題である．
\enumsentence{もう準備を始めてからずいぶん待ちました．
}さらに，[CITE]が指摘したように，言い直しの中には適格文と簡単には区別できないものがある．
例えば，([REF_eq:Repair6])では，「きょう」が「協賛する」に言い直されているのであるが，「きょう」がたまたま「今日」と同じ字面のため，適格文としての解釈も可能である．
\enumsentence{きょう，協賛する学会会員} [CITE]によると，このような適格文との間で曖昧性がある例は，ADDに含まれる言い直しのうちの約1割を占めている．
しかし，([REF_eq:Repair5])のような文でも，助詞省略の可能性を考えると曖昧になる(「通訳」の後に助詞を補うと「入れます」に係る可能性がある)ことから，この割合は実際にはもっと大きいと思われる．
これらは，言い直しのような不適格性を，適格文の処理手法を拡張することで統一的に扱う必要があることを示唆する．
繰り返し(repetitions)は，言い直しの特別な場合である．
[CITE]によると，ADDに含まれる言い直しの14 %が繰り返しである．
([REF_eq:Repetition])では太字が繰り返された部分である．
\enumsentence{えー，京都ロイヤルが，えー，京都ロイヤルが一番都心ですね．
}
助詞省略(particle ellipses)は，書き言葉には見られない，話し言葉に特有の現象である．
[CITE]によると，ADDにおいて，普通名詞文節の12 %，代名詞文節の16 %で助詞が省略されている．
([REF_eq:Particle])では省略された助詞を括弧内に補ってある．
\enumsentence{会議[に]，参加する手続き[を]，ちょっと，お教え願えますでしょうか．
}助詞省略は，構文・意味解析において大きな問題となる．
日本語では，通常，語と語の間の意味関係が格助詞によって明示されるので，解析システムは格情報を頼りに意味関係を決定しようとする．
もし助詞が省略されていると，このような方法で意味関係を決定することができない．
しかし，格情報をあてにできない場面は，書き言葉においても生じる．
例えば，主格や目的格の名詞句が主題化されると，助詞が同一の形式(「は」や「も」)に置き換わるので，もとの格が何であったかは簡単にはわからない．
さらに，日本語には関係代名詞がないので，被修飾名詞の関係節内での意味役割(例えば([REF_eq:Particle])での「手続き」と「参加する」の間の意味関係)を決めるのに格情報を利用することはできない．
こういった場合には，単語の意味属性を頼りに意味関係の推定を行なうことになるが，助詞省略を含む句に対しても同じ方法が適用できる．
これも，適格文と不適格文を統一的に扱うモデルの妥当性を示している．
日本語の話し言葉には，これまで述べたもの以外にも，述部の省略，倒置，言い誤りなどの不適格性があるが，これらについては，(a)頻度が低い，(b)単純なヒューリスティクスで扱えることが多い，(c)構文・意味解析の範囲を越えるなどの理由により，本稿では扱わない．

本稿で提案する統一モデルに基づく話し言葉の解析手法を説明する．
本手法は，
話し言葉におけるさまざまな制約を統一的に記述した規則群
入力文に対してそれらの規則を順次適用して最適な解釈を求める解釈器
からなる．
すべての規則は確定節によって記述され，解釈器としてはアブダクションが用いられる．
本稿では前者についてのみ述べる．
後者については，別稿[CITE]を参照されたい．
本手法は，基本的には，係り受け解析の拡張である．
入力文の依存構造を生成するために，各語(文節)の間の依存関係を調べる．
例えば，([REF_eq:Sentence2])に対する依存構造と各文節の間の文法・意味関係は([REF_eq:Depend1])のようになる．
\enumsentence{会議では翻訳も入れます．
} \enumsentence{ [\DP{loct&de}会議では\Q[\DP{obje&accAct}翻訳も\Q入れます]]}ここで，\Rel{loct}, \Rel{obje}は意味関係(それぞれ「場所」「対象」)を表し，\Rel{de}, \Rel{accAct}は文法関係(それぞれ「デ格」「目的格・能動態」)を表す．
依存構造の決定と文法・意味関係の付与は，構造規則と解釈規則を参照しながら行なう．
この処理は，格情報のみに基づいて決定的に行なうのではなく，係り文節と受け文節の間の意味的な結合の強さや文法関係の実現のしやすさ(例えば「も」は「主格」になりやすいか「目的格」になりやすいか)などを考慮して，さまざまな候補に優先度を与え，最終的に最も優先度の高い組合せを見つけることによって行なう．
したがって，我々のフォーマリズムは，制約に基づく(constraint-based)というよりは，選好に基づく(preference-based)ものである．
本手法では，通常の係り受け解析を拡張し，言い淀み，言い直しなども語と語(文節と文節)の間の依存関係ととらえる．
例えば，言い直しを含む文([REF_eq:Sentence3])の依存構造は([REF_eq:Depend2])のようになる．
\enumsentence{ほん，翻訳入れます．
} \enumsentence{ [\DP{obje&accAct} [\DP{phonRepair}ほん\Q翻訳]\Q入れます]}ここで，\Rel{phonRepair}は「ほん」と「翻訳」の間に音韻的な原因による言い直し(以下「音韻的言い直し」)によって依存関係が生じていることを表す．
このように，不適格性を扱えるよう係り受け解析を拡張することによって，適格文の最適な解釈を求める処理と不適格性を検出・修正する処理が同じ道具だてで実現できるだけでなく，適格文と不適格文との間の曖昧性にも対処できる．
本手法による構文・意味解析の過程を簡単な例題を用いて説明する．
図[REF_fig:Process]は([REF_eq:Sentence3])の解析過程である．
この文は，言い直しと助詞省略の2つの不適格性を含む．
さらに，言い直しは適格文との間で曖昧である(「ほん」は「本」と同じ字面)．
解析過程は以下の4つのステップからなる．
入力文Aを素性構造で表現された文節の列Bに変換する．
文節の列Bに構造規則を適用し，可能な依存構造の集合Cに変換する．
依存構造の集合Cに含まれる各依存関係について，解釈規則を適用し，解釈の候補Dを生成する．
依存関係解釈の候補のおのおのには，[MATH]間の実数値で表される優先度を与える．
最も優先度の大きい解釈(Dの下線部分)を選択し，文全体の依存構造と依存関係解釈Eを出力する．
この例では，Bの文節列に対して，Cの2つの依存構造が可能であり，その中に3つの依存関係が含まれる．
それぞれの依存関係に対する解釈の候補はDのようになり，下線を引いたものが最も優先度の大きい組合せとして選択される．
この過程において，助詞省略は「目的格」に解釈され，言い直しと適格文(「本(に)入れます」)との曖昧性も解消されている．
文節解析への入力は，音声認識システムの出力として漢字仮名混じり文が与えられることを想定している．
文節解析は，入力文を素性構造で表現された文節の列に変換する．
文節は，ちょうど1つの自立語といくつかの付属語からなる．
素性構造は，一般に以下の形式である．
文節全体のよみを仮名で表したもの．
文節内の自立語の見出し語．
語彙の統語範疇．
「連体詞」「副詞」「普通名詞」「固有名詞」「が動詞」「がを動詞」「が形容詞」などがある(用言は格パターンに応じて細分類されている)．
名詞文節の格や動詞文節の活用形．
名詞文節が助詞省略を含む場合は「無」で表す．
動詞文節の態．
動詞文節以外は`\Value{[MATH]}'で表す．
文節内の自立語の見出し語．
概念の意味属性．
角川類語新辞典[CITE]の小分類を使用．
話し言葉では不要語を扱う必要がある．
不要語は以下のいずれかである．
「あのー」「えーと」のような冗長語
発語が中断された語(中断語)
これらは，しばしば，適正な語と同じ字面になることがある(例えば([REF_eq:Sentence3])の中断語「ほん」は「本」と同じ字面)．
その場合には，不要語と適正な語の両方の可能性を考慮することになる．
なお本稿では，不要語であっても，音声認識システムによって正しい音韻列が与えられると仮定しているが，これは現在の音声認識技術から考えると少し難しいかも知れない．
文節解析の出力である文節列は，以下の形式の要素式によって表現される．
\Var{Sym}は非終端記号であり，\Var{Start}, \Var{End}はそれぞれ，その文節の開始位置，終了位置(確定節文法(DCG)の文字列引数に対応)を表し，\Var{Feature}はその文節の素性構造を表す．
非終端記号\Var{Sym}は，統語範疇に依存して表[REF_tab:Sym] (付録)のように決まる．
依存構造解析は，([REF_eq:Bunsetsu])の形式の要素式で表現された文節の列に対して，構造規則を適用しながら，すべての可能な依存構造を生成する．
構造規則は，一般に以下の形式である．
この規則は，係り文節(右辺の第1式)と受け文節(右辺の第2式)から複合句(左辺)が作られることを表す．
複合句の素性構造は受け文節から引き継がれ，これは日本語が主要部後置(head-final)型であることによる．
右辺の第3式は，係り文節と受け文節の間の依存関係を表す．
この依存関係は，依存関係解析において，適当な文法・意味関係もしくは不適格性を示す関係に解釈される．
係り文節と受け文節の可能な組合せとその間の依存関係の解釈の種類は，非終端記号によって表[REF_tab:Struct] (付録)のように制限される．
この規則は複合句に対しても再帰的に適用される．
複合句の素性構造は主要部の情報だけを持つので，依存関係は句の間の関係ではなく，主要部文節の間の関係であることに注意せよ．
これは係り受け解析の特徴であり，調べるべき依存関係の数が文節数の二乗のオーダに抑えられる．
依存関係解析は，すべての可能な依存構造に含まれる依存関係のおのおのに対して，解釈規則を適用し，すべての可能な解釈の候補を生成する．
解釈規則は，(i)適格な依存関係に関する規則と(ii)不適格な依存関係に関する規則の2種類からなる．
適格な依存関係に関する解釈規則は，一般に以下の形式である．
この規則は，依存関係\Var{Depend}が，ある条件\Var{Cond}のもとで，ある意味関係\Var{SemRel}とある文法関係\Var{SynRel}に解釈できることを表す．
例えば，名詞文節と動詞文節の間の依存関係(\Rel{dep_n_v})は，意味関係\Rel{obje} (「対象」)と文法関係\Rel{accAct} (「目的格・能動態」)に解釈できる．
この際の条件としては，受け文節が目的格に対象を取る動詞(「がを動詞」など)であること，受け文節の態が「能動」であること，係り文節の形が目的格になれるもの(「を」「も」「無」など)であること，などが課される．
これらの条件は，単一化文法において，下位範疇化素性として記述されているものと等価である．
適格な依存関係の一部を表[REF_tab:Well-formed] (付録)にあげる．
不適格な依存関係に関する解釈規則は，一般に以下の形式である．
この規則は，依存関係\Var{Depend}が，ある条件\Var{Cond}のもとで，ある不適格性を示す関係\Var{IllRel}に解釈できることを表す．
例えば，不要語と名詞文節の間の依存関係(\Rel{dep_nonlex_any})は，不適格な依存関係\Rel{phonRepair} (「音韻的言い直し」)に解釈できる．
この際の条件としては，係り文節のよみが受け文節のよみの部分(例えば「ほん」と「ほんやく」)であることが課される．
不適格な依存関係を表[REF_tab:Ill-formed] (付録)にあげる．
ここでは，以下の5種類の不適格性を考えている．
\Rel{hest} (「言い淀み」), \Rel{phonRepair} (「音韻的言い直し」), \Rel{synRepair} (「統語的言い直し」), \Rel{semRepair} (「意味的言い直し」), \Rel{rept} (「繰り返し」)．
依存関係解釈の候補のおのおのには，[MATH]間の実数値で表される優先度が与えられる．
優先度をどのように与えるかということは，話し言葉の構文・意味解析をどのようなモデルに基づいて行なうかということとは，一応独立した問題であると考えられる．
しかし，本手法の有効性を検証するために，我々は一つの優先度計算法を実験システムに実装した．
以下では，これについて簡単に説明する．
詳細は別稿[CITE]を参照されたい．
我々の優先度計算法は，コーパスに基づく(corpus-based)手法である．
優先度は，その依存関係解釈が学習データ中でどのくらいの頻度で生じているかに応じて与える．
すなわち，係り文節[MATH]と受け文節[MATH]の間の依存関係解釈[MATH]の優先度[MATH]は，次式で与えられる．
分子は係り文節[MATH]と受け文節[MATH]の間に解釈[MATH]を持つ事例(\Formula{[MATH]},\betaで表す)の頻度であり，分母は学
習データ中のすべての事例の頻度の総和である．
しかし，このままでは学習データの希薄性(data-sparseness)の問題を避けられないので，分子の\Formula{[MATH]},\betaの頻度を計算する際に，完全に一致する事例だけでなく類似した事例の頻度も考慮する．
例えば，\Formula{obje}{翻訳,入れる}の頻度を計算する際に，これと類似した事例\Formula{obje}{通訳,行なう}が学習データ中にあれば，その頻度を考慮に入れるという具合である．
不適格な依存関係についても，例えば，言い直しのパターンの間の類似性を定義し，上と同じ方法で優先度の計算を行なう．
類似性の定義などの詳細についてはここでは省略する．
最適解選択は，すべての可能な依存構造と依存関係解釈の候補から，最も優先度が大きくなる組合せをみつけ，文全体の依存構造と依存関係解釈を出力する(格構造はそこから生成できる)．
不適格文を扱う手法の研究は，[REF_sec:Intro]節で述べたように，(A)不適格性を扱う個別的な手法，(B-1)二段階モデルに基づく一般的な手法，(B-2)統一モデルに基づく一般的な手法の3つのアプローチに大別できる．
これらと本稿の手法との比較を述べる．
不適格性を扱う個別的な手法[CITE]においては，言い直しの扱いなどが他の構文・意味解析過程とは独立して論ぜられている．
これらの中には，再現率・適合率による評価において，本稿の手法より優れているものもある(例えば，[CITE]は言い直しの検出で再現率83%と適合率94%を達成している)が，これらの手法を構文・意味解析システムに組み込んだときにどれだけ有効かは明らかでない．
特に，[REF_sec:Ill-formed:Repair]節で述べたように，日本語においては適格文と不適格文の曖昧性が生じる場合が多いので，不適格性の処理を構文・意味解析過程の中にうまく組み込む方法を考えることがとりわけ重要である．
一方，不適格性を扱う一般的な手法を話し言葉の不適格性の扱いに具体的に適用した研究は見られない．
二段階モデルに基づく手法[CITE]の中には，話し言葉の処理に適用できそうなものもある(例えば，チャート法の拡張によって文中の余分な語の削除や欠落している語の挿入を行なう[CITE]の手法)が，具体例がないのでその有効範囲は明らかでない．
また，統一モデルに基づく手法[CITE]は，動作原理と簡単な例の提示に留まっており，本稿で示したような広範囲な実例への適用については述べられていない．
本稿の手法は，既存の統一モデルに基づく手法からアイデアを借用している部分もある(例えば，確定節による規則の記述とアブダクションによる解釈は[CITE]のモデルの拡張である)が，話し言葉の不適格性を扱うための具体的な規則や優先度計算の具体的な手法を与えている点において，既存の手法に優る．
まとめると，本稿の手法は，不適格性を扱うための具体的な方法を与えつつ，特定の不適格性の扱いにとどまらず構文・意味解析過程全体を考慮した手法を実現している点が，従来の手法に対して優れているといえる．
