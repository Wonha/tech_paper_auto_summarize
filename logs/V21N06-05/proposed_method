受身文・使役文における表層格と，対応する能動文の表層格の対応はいくつかのパターンで記述できる．
本節では受身文と能動文，使役文と能動文，それぞれの表層格の交替パターンについて述べる．
受身文は，何を主語として表現するかによって，直接受身文，間接受身文，持ち主の受身文の3つのタイプに分けられる[CITE]．
直接受身文とは，対応する能動文でヲ格やニ格で表される人や物を主語として表現する受身文であり，以下の([REF_EX::SIRI])〜([REF_EX::SIMERU])に示すように能動主体は基本的に「に」，「によって」，「から」，「で」のいずれかにより表される．
また，直接受身文でガ格として表される名詞は，基本的に能動文のヲ格，または，ニ格のいずれかに対応している．
\ex{［受身形］：}私が知り合い\unc{に}誘われた．
\sn{［能動形］：}知り合い\unc{が}私を誘った．
\ex{［受身形］：}原因が研究\unc{によって}解明された．
\sn{［能動形］：}研究\unc{が}原因を解明した．
\ex{［受身形］：}私が彼\unc{から}頼まれた．
\sn{［能動形］：}彼\unc{が}私に頼んだ．
\ex{［受身形］：}大半が推進派\unc{で}占められた．
\sn{［能動形］：}推進派\unc{が}大半を占めた．
間接受身文とは，対応する能動文の表す事態には直接的に関わっていない人物を主語とし，その人物が事態から何らかの影響を被っていることを表現する受身文であり，迷惑の受身文とも呼ばれる．
([REF_EX::SAWAGU])に示すように間接受身文の能動主体は基本的に「に」によって表され，間接受身文でガ格として表される名詞は能動文では出現しない．
\ex{［受身形］：}太郎が雨\unc{に}降られた．
\sn{［能動形］：}雨\unc{が}降った．
持ち主の受身文とは，ヲ格やニ格などで表されていた物の持ち主を主語とし，能動文で主語として表されていた名詞を主語でない項として表現する受身文である．
([REF_EX::NUSUMU])に示すように持ち主の受身文の能動主体は基本的に「に」によって表され，持ち主の受身文でガ格として表される名詞は能動文ではヲ格やニ格の名詞句にノ格で係る名詞句として出現する．
\ex{［受身形］：}友人が泥棒\unc{に}カードを盗まれた．
\sn{［能動形］：}泥棒\unc{が}友人のカードを盗んだ．
以上のように，受身文には3つのタイプがあるものの，いずれの場合も格交替が起こるのは能動文においてガ格で表現される要素と受身文においてガ格で表現される要素のたかだか2つである．
また，前者は受身文において「に」，「によって」，「から」，「で」のいずれかによって表され，後者は能動文において「を」，「に」，「の」のいずれかによって表されるか出現しないかである．
したがって，受身文と能動文の格の対応付けを行う際は，これらの組み合わせからなる格の交替パターンを考えれば十分であると言える．
使役文と能動文の格の対応付けも述語と項の組み合わせを考慮して行う必要がある．
たとえば，([REF_EX::STUDENT])，([REF_EX::SCHOOL])のような文を考えると，出現形の表層形としては([REF_EX::STUDENT])の「生徒」と([REF_EX::SCHOOL])の「学校」は同じニ格となっているが，前者は能動主体を表しており能動形ではガ格となるのに対し，後者は目的地を表しており能動形においてもニ格のままである．
このため，使役文と能動文の間の格の交替パターンについても，どのような格の交替パターンを考えれば良いか考察を行う．
\ex先生が生徒に行かせた．
\ex先生が学校に行かせた．
まず，一般的な使役文では，対応する能動文に含まれていない人や物がガ格となり，能動文の表す事態の成立に影響を与える主体として表現され，能動主体は「を」，または，「に」で表される[CITE]．
たとえば，以下の例では，能動文に含まれていない「先生」が，使役文におけるガ格として出現しており，能動主体である「生徒」は使役文ではそれぞれ「を」，「に」によって表されている．
\ex{［使役形］：}先生が生徒\unc{を}行かせる．
\sn{［能動形］：}生徒\unc{が}行く．
\ex{［使役形］：}先生が生徒\unc{に}行かせる．
\sn{［能動形］：}生徒\unc{が}行く．
ただし，頻度は多くないものの，以下のように感情や思考を表す動詞から使役文が作られる場合には，能動文においてニ格やヲ格で表される原因が使役文でガ格として表現される場合がある．
しかし，このような用例は少ないことから，本研究ではこのような対応付けは考慮しない．
\ex{［使役形］：}彼の発言が社長\unc{を}喜ばせた．
\sn{［能動形］：}社長\unc{が}彼の発言に喜んだ．
／社長\unc{が}彼の発言を喜んだ．
以上のように，使役文と能動文の格の対応付けも複数の格の交替パターンが考えられるが，受身文から能動文の格の対応付けの場合と同様に，格交替が起こるのは能動文においてガ格で表現される要素と使役文においてガ格で表現される要素のたかだか2つである．
さらに，能動文でガ格として表される要素は使役文においては「に」，「を」のいずれかによって表され，使役文においてガ格で表現される要素は基本的に能動文には出現しないことから，能動文でガ格として表される要素が使役文において「に」で表されるか「を」で表されるかの曖昧性を考慮するだけで十分であると言える．
本研究では述語ごとの格構造に関する大規模語彙知識として，河原らの手法[CITE]を用いてWebテキスト69億文から自動構築した格フレームを使用する．
このWebテキストは，約10億のWebページから日本語文を抽出し，重複する文を除いた結果得られたものである．
河原らの手法では格フレームは述語ごとに，また，能動形，受身形，使役形などの出現形ごとに，さらに用法ごとに別々に構築され，それぞれ取りうる格とその用例，および，各用例の出現回数がまとめられる．
この際，河原らは述語の直前の格の用例が同じである場合，多くは同じ用法であることを利用し，用法の曖昧性に対処している．
具体的には，まず，「荷物を積む」や「物資を積む」，「経験を積む」などのように述語とその直前の格の用例の組を単位として個別に格フレームを構築し，続いて「荷物を積む」と「物資を積む」のように類似する格フレームをマージすることにより，用法ごとに別々の格フレームを構築している．
たとえば「誘われる」という述語・出現形に対しては47個の格フレームが構築されており，その中には([REF_EX::FRAME1])のようにニ格が能動主体を表す格フレームと，([REF_EX::FRAME2])のようにニ格が誘致先を表す格フレームが含まれている．
\ex{「誘われる」の格フレーム1:}  \sn{私：5,自分：3,母親：2,女性：2,彼氏：2,…}が\sn{食事：49,御飯：36,ランチ：21,映画：17,…}を\sn{友達：9536,友人：5856,人：2443,先輩：1695,…}に誘われる\ex{「誘われる」の格フレーム2:}  \sn{俺：10,私：9,友達：7,人：5,彼氏：5,…}が\sn{友達：300,人：221,男性：211,友人：168,…}から\sn{食事：3710,デート：3180,飲み：3159,パーティー：1948,…}に誘われる
同様に，「誘う」という述語・出現形に対しては([REF_EX::FRAME3])に示す格フレームを含む9個の格フレームが構築されており，たとえば([REF_EX::FRAME2])に示した「誘われる」の格フレームのガ格，カラ格，ニ格を，それぞれヲ格，ガ格，ニ格に対応付けることができれば，格構造の変換に有用な知識になると考えられる．
\ex{「誘う」の格フレーム1:}  \sn{私：50,男性：48,彼女：43,セラピスト：43,彼：41,…}が\sn{友達：16019,私：8908,人：7898,友人：6622,…}を\sn{デート：1325,食事：804,世界：822,遊び：502,…}に誘う
また，格として収集する対象としては格助詞を伴って直接述語に係る要素に加えて，「によって」などの一部の複合辞や，持ち主の受身文のガ格になりうることから，述語の直前項にノ格で係る要素も収集の対象としている．
このためこれらの表現も格と同等に扱っており，([REF_EX::FRAME4])，([REF_EX::FRAME5])のように，これらの表現に相当する格スロットが生成される．
本論文ではこれらの格を便宜上，ニヨッテ格，ノ格と呼ぶ．
\ex{「解明される」の格フレーム1:}  \sn{謎：1998,メカニズム：804,原因：734,…}が\sn{研究：29,生物学：27,進歩：15,…}によって解明される\ex{「盗む」の格フレーム3:}  \sn{子供：23,誰：16,泥棒：8,…}が\sn{親：165,人：98,家：58,…}の\sn{金：4163,現金：951,金品：681,…}を盗む
本研究では，受身形・使役形の格フレームを対応する能動形の格フレームと適切に対応付けることを目的とする．
1つの述語に対し複数の格フレームが構築されることから，ある受身形・使役形の格フレームが与えられた場合，複数ある能動形の格フレームから最適な格フレームを選択した上で，それぞれの格フレームに含まれる格同士を適切に対応付ける必要がある．
図[REF_FIG::TaskDef]に対応付けの例を示す．
図[REF_FIG::TaskDef]の例では，受身形「誘われる」の格フレーム2が入力として与えられた結果，能動形「誘う」の格フレームの中から格フレーム1が選択され，「誘われる」の格フレーム2のガ格，カラ格，ニ格はそれぞれ「誘う」の格フレーム1のヲ格，ガ格，ニ格に対応付けられている．
出現形格フレームが与えられた場合に，それを能動形格フレームに対応付けるアルゴリズムを表[REF_TABLE::ALG]に示す．
まず，能動形格フレーム[MATH]と，出現形のガ格が対応付けられる能動形の格[MATH]，能動形のガ格に対応付けられる出現形の格[MATH]の考えうるすべての組み合わせ[MATH]{[MATH]}を生成し，その中から以下の式で定義されるスコアが最大となる組み合わせ[MATH]を出力する．
この際，[MATH]と[MATH]が事前に作成した格交替パターンを満たすような組み合わせのみを考慮する．
また，対応付けられる格がない場合は[MATH]，[MATH]としてNILを与える．
式([REF_EQ::SCORE])において，[MATH]，[MATH]，[MATH]はそれぞれ，対応する格の用例集合間の意味的な類似度，対応する格の出現頻度の分布の類似度，格交替パターンの起こりやすさを表しており，本研究ではこれら3つの手掛かりを利用し格の対応付けを行う．
各指標をどのように計算するかについては次節で述べる．
[MATH]は出現頻度の分布の類似度[MATH]を用例集合間の意味的な類似度[MATH]に対してどのくらい重視するかを決めるパラメータであり，その値は開発データを用いて決定する．
格交替パターンの起こりやすさを表す[MATH]に関しては同様のパラメータが出現していないのは[MATH]自体が開発データを用いて決定される重みによって構成される関数であり，他の指標に対してどのくらい[MATH]を重視するかは既に考慮されているためである．
また，計算時間を短縮するため，事前に作成した格交替パターンに含まれないような不適切な格対応の組み合わせはスコア計算前にフィルタリングする（表[REF_TABLE::ALG]のアルゴリズム中の5行目）．
具体的には，格変換の結果，同一の格が重複してしまう場合や，受身形格フレームにヲ格が存在しない場合に受身形ガ格の変換先としてノ格が選択された場合などはここでフィルタリングされる．
さらに，能動形の格フレームは出現頻度順にソートし，頻度の大きいものから順に対応付けを行っていき，全体の80%をカバーした時点でもっともスコアが大きくなる組み合わせを出力する．
対応する格の意味的な類似度[MATH]を計算する際も，それぞれの格の用例のうち頻度上位40用例のみから類似度を計算することで計算時間を短縮する．
本節では格フレームの対応付けの手掛かりとして使用する3つの指標について，それらの指標を用いる理由，および，その計算方法を説明する．
出現形と能動形格フレームの間で対応する格の用例は類似していると考えられる．
そこで，対応する格の用例集合間の意味的な類似度を対応付けの手掛かりの1つとして利用する．
まず，格の用例集合[MATH]，[MATH]間の意味的な類似度[MATH]を，ある単語と共起する単語の分布の類似度から計算された単語間の分布類似度[MATH]を用い，以下の式により計算する．
\operatorname{sim}_s(C_1,C_2)=\frac{1}{2}(\operatorname{sim}_a(C_1,C_2)+ \operatorname{sim}_a(C_2,C_1))
\text{ただし}　\operatorname{sim}_a(C_1, C_2) =\frac{1}{|C_1|}\sum_{w_1\in{C}_1} \max_{w_2\in C_2}(\operatorname{sim}(w_1, w_2))
本研究では，単語間の分布類似度として，柴田らの手法[CITE]に基づき，格フレーム構築に使用したWebテキスト69億文から計算した類似度を使用した．
また，[MATH]は，用例集合[MATH]に含まれる用例[MATH]ごとに，用例集合[MATH]中でもっとも類似している用例[MATH]との類似度の平均を表しており，引数[MATH]，[MATH]に関して非対称な(asymmetric)式となっている．
一方，[MATH]は[MATH]の引数を入れ替えて，その平均を取ったものであり，引数[MATH]，[MATH]に関して対称な(symmetric)式となっている．
続いて，格フレームの対応付け[MATH]{[MATH]}に対する意味的な類似度[MATH]を，以下に示すように対応付けられた格の用例集合間の類似度の平均として定義する．
ここで，[MATH]は対応元格フレームにおける[MATH]番目の格の用例集合，[MATH]は[MATH]番目の格が対応付けられた対応先格フレームの格の用例集合を表している．
すなわち，[MATH]番目の格がガ格である場合は[MATH]は対応先格フレームの格[MATH]の用例集合，[MATH]番目の格が[MATH]である場合は[MATH]は対応先格フレームのガ格の用例集合，それ以外の場合は同一の格が対応先格フレームに存在すればその格の用例集合となる．
ただし，[MATH]がNILである場合など，対応する格が対応先格フレームに存在しない場合は，[MATH]は空集合とし，[MATH]として計算する．
たとえば，図[REF_FIG::TaskDef]に示したような格フレームの対応に対しては，「誘われる」の格フレーム2のガ格，カラ格，ニ格の用例集合に対し，それぞれ「誘う」の格フレーム1のヲ格，ガ格，ニ格の用例集合との[MATH]を求め，その平均を[MATH]として使用する．
類似度[MATH]は対応する格同士の出現頻度の分布は似ているという仮定に基づく指標であり，以下のようにベクトル[MATH]とベクトル[MATH]の余弦類似度として定義する．
\ex{「選ばれる」の格フレーム1:}  \sn{選手：1119,作品：983,私：232,…}{［用例数合計：17722］}が\sn{代表：18295,選手：9661,百選：7024,…}{［用例数合計：122273］}に\sn{作品：5,市長：3,選手：2,…}{［用例数合計：96］}を選ばれる\ex{「選ぶ」の格フレーム13:}  \sn{私：22,先生：18,誰：14,…}{［用例数合計：382］}が\sn{優秀賞：42,シングル：17,自由曲：17,…}{［用例数合計：800］}に\sn{曲：16666,作品：9967,漫画：3820,…}{［用例数合計：33338］}を選ぶ
例として，([REF_EX::ERABA])に示す「選ばれる」の格フレーム1を([REF_EX::ERABU])に示す「選ぶ」の格フレーム13に対応付ける場合を考える．
対応する格の用例集合間の意味的な類似度[MATH]を計算すると{ガ格[MATH]ニ格，ニ格[MATH]ガ格，ヲ格[MATH]ヲ格}という対応付け[MATH]の方が，{ガ格[MATH]ヲ格，ニ格[MATH]ニ格，ヲ格[MATH]NIL, NIL[MATH]ガ格}という対応付け[MATH]よりも高いスコアとなる．
しかし，対応する格の出現頻度の分布の類似度を計算すると，前者は[MATH]と[MATH]の余弦類似度，後者は[MATH]と[MATH]の余弦類似度となり，以下に示すとおり後者の方がはるかに大きな値となることから，[MATH]だけでなく[MATH]も考慮することで，最終的に後者の対応付けの方が優先して選択されるようになる．
\operatorname{sim}_{_{DIST}}(A_1)=\cos((17722,122273,96) (800,382,33338))\approx 0.016
\operatorname{sim}_{_{DIST}}(A_2)=\cos((17722,122273,96,0), (33338,800,0,382))\approx 0.167
格交替パターンの起こりやすさも重要な手掛りとなると考えられる．
たとえば，村田ら[CITE]が受身文から能動文への変換における格助詞の変換実験に使用したデータでは，受身形におけるガ格の96.47%が能動形ではヲ格となっているのに対し，受身形におけるニ格のうち能動形でガ格となるものは27.38%となっており，交替パターンにより起こりやすさが異なることが分かる．
そこで本研究では，以下の式により定義される格交替パターンの選好[MATH]を対応付けの手掛かりとして考慮する．
ここで，[MATH]は出現形のガ格が対応付けられる能動形の格，[MATH]は能動形のガ格に対応付けられる出現形の格を表しており，[MATH]は出現形の[MATH]格が能動形で格が交替し[MATH]格となる度合いを表す．
[MATH]は大きいほどその格交替が発生しやすいことを表し，その値は格交替の正解がタグ付けされたデータを開発データとして用い決定する．
ここで，出現形のガ格，または，能動形のガ格を含む格交替のみを考慮しているのは，[REF_SEC::PATTERN]節で述べたように，本研究で対象とする受身形・使役形から能動形への格構造変換ではこれら以外の格が交替することは基本的にないためである．
