評価実験
\label{sec:solution}

\subsection{実験条件と評価項目}
\label{sec:experiments}

\begin{table}[b]
\caption{条文対応表を作成した例規の組合せ一覧}
\label{reikiIchiran}
\input{04table03.txt}
\end{table}
\begin{table}[b]
\caption{条文対応表の作成時間（分）}
\label{reikiTime}
\input{04table04.txt}
\end{table}

法学者の暗黙知を適切に表現し，条文対応表の作成に適した類似尺度を明らかにするため，
愛媛県と香川県の22条例を対象とした性能評価を行った．
対象とした条例を表\ref{reikiIchiran}に記す．
また，若尾の監督下において3名の法学部生を被験者とした条文対応表の作成に要した時間を
表\ref{reikiTime}に記す．なお被験者が条文対応表を作成するにあたり
青少年保護に関する条例を対象とした講義を行ったため，
表\ref{reikiTime}において条例対応ID3の青少年保護に関する条例の
作成時間が欠損している．
ベクトル空間モデルにおける距離にはコサインを用い，条文の品詞分解にはMecab \cite{mecab}を用いた．

三種類の手法で計算される条文間の類似度は条文の文字数に依存する．
そこで類似度を短い方の条文の文字数で割る事で正規化した値も類似尺度として比較した．
自動生成した条文対応表の評価を行うため，若尾が作成した条文対応表を正解例として正解率の比較を行った．
ここで正解率とは，正解となる条文対応表を表現する二部グラフにおける辺の数を母数とし，
各類似尺度を用いて得られる二部グラフと一致する辺数を母数で割った値である．



\subsection{類似尺度の正解率}
\label{sec:results}

表\ref{res:VS}, \ref{res:LCS}, \ref{res:alignment}に
最長共通部分列，アライメント，ベクトル空間モデルに基づく手法の
正解率を示す．
表中の「五詞」は名詞，副詞，形容詞，動詞，連体詞を表している．
正解率が上位5位の手法にはその順位を併記した．

\begin{table}[b]
\caption{ベクトル空間モデルの正解率}\label{res:VS}
\input{04table05.txt}
\end{table}

\begin{table}[t]
\caption{最長共通部分列の正解率}\label{res:LCS}
\input{04table06.txt}
\end{table}
\begin{table}[t]
\caption{文字列アライメントの正解率}
\label{res:alignment}
\input{04table07.txt}
\end{table}

各アルゴリズムにおいて最も高い正解率は，
ベクトル空間モデルが85\%，最長共通部分列が75\%，文字列アライメントが81\%となっている．
全ての場合において絶対スコアが相対スコアの正解率を上回っている事，
定数重みがtf-idf重みの正解率を上回っている事がわかる．

ベクトル空間モデルでは，ベクトル長が長いほど正解率が高くなっており，
用いる品詞の影響はさほど大きくない．
最長共通部分列では，条見出しのみを用いた場合でも最高で71\%の正解率となっている．
全ての条には条見出しが存在しない事を考慮すると大変高い正解率であると考えられる．
最長共通部分列と文字列アライメントでは，単語単位よりも文字単位の方が正解率が高かった．
また，文字列アライメントにおける条文内容の記述順序を考慮する事による正解率の向上はみられなかった．





\subsection{受信者操作特性曲線}
\label{sec:roc}

前節の結果が示す通り，本手法で得られた条文の対応関係の正解率は100\%でなく，
必ずしも正しいとは限らない．すなわち，この結果を用いて条文対応を作成する法務関係者は，条文の対応関係が正しいか否かを
判断する必要がある．
そのため，本手法で得られる対応関係の信頼度，すなわち得られた対応関係が正解である尤もらしさを
提示する事が望ましい．
そこで，対応関係を得るために用いた類似尺度を信頼度として利用した場合の評価を
受信者操作特性曲線（ROC曲線：Receiver Operating Characteristic curve）を用いて行った．
受信者操作特性曲線とは，正解と判定する類似度の閾値を変化させた場合の敏感度と偽陽性率の変化を表現したものである．
敏感度とは正解を正しく正解として捕捉する率であり，偽陽性率とは，不正解を誤って正解と判定する率である．
なお，提案手法によって得られた条文の対応関係の類似度が閾値よりも大きい場合に正解と判定する．

ベクトル空間モデル及び文字列アライメントにおいて最も正解率の高い類似尺度及び，
条見出しを対象とする最長共通部分列において最も正解率の高い類似尺度の
受信者操作特性曲線（ROC曲線）を図\ref{roc_score}に示す．
図の縦軸は敏感度を，横軸は偽陽性率を表す．また，各類似尺度の受信者操作特性曲線下面積を表\ref{AUC}に記す．
受信者操作特性曲線では，グラフの形状が敏感度1，偽陽性率0である左上点に近い凸形状を示し，
曲線下面積が1に近づくほど良い指標である事を示す．
図及び表より，文字列アライメントに基づく類似尺度の曲線下面積は0.5を下回っており，信頼度
として利用ができない事を示している．
また，ベクトル空間モデル及び最長共通部分文字列についても0.5を少し上回っている程度であり，
信頼度として利用するには低いものとなっている．

\begin{figure}[t]
\begin{minipage}[b]{.5\textwidth}
\begin{center}
\includegraphics{19-3ia947f4.eps}
\end{center}
\caption{類似度を指標としたROC曲線}\label{roc_score}
\end{minipage}
\begin{minipage}[b]{.5\textwidth}
\begin{center}
\includegraphics{19-3ia947f5.eps}
\end{center}
\caption{二位との比率を用いた場合のROC曲線}\label{roc_ratio}
\end{minipage}
\end{figure}

\begin{table}[t]
\caption{受信者操作特性曲線下面積(AUC: Area Under Curve)}
\label{AUC}
\input{04table08.txt}
\end{table}

上の結果は，条文や条文の見出しの長さが異なる事が原因であると考えられる．
そこで，
\ref{algorithm}節に示すアルゴリズムにおいて対応条を決定する{\bf step3}および{\bf step4}において，
頂点$v_a$または$v_b$と接続する辺集合ごとにその類似度を正規化する必要があると考える．
そこで，信頼度を表す新たな尺度として{\bf step3}および{\bf step4}で選択される辺の類似度を
二番目に大きい類似度の値で割った値（以降，二位との比率と呼ぶ）の評価を行う．
この信頼度に対する受信者操作特性曲線を図\ref{roc_ratio}に，曲線下面積を表\ref{AUC}に示す．
図\ref{roc_score}と図\ref{roc_ratio}を比較すると，
二位との比率を用いる事により
信頼度を表す評価尺度の性能が大幅に向上していることがわかる．
また表\ref{AUC}に示す曲線下面積は最長共通部分文字列が0.80と
最大の値となっており，ベクトル空間モデルが次いで0.79となっており，
二位との比率の優位性を示している．



\subsection{結果の考察}

\ref{sec:results}節の結果より，
本研究の条文対応表作成では
全単語に基づくベクトル空間モデルを用いたtf-idf重みを使わない類似尺度が最も有効である事が
わかった．
文字列アライメントは公開特許公報における請求項と「発明の詳細な説明」との対応付けのような，
2つの文章内で言及される事柄の出現順序が同じ場合には有効であるが\cite{ronbun2-4}，
事柄や単語の出現順に対応できないために一般の文書での利用は不適切であると言われている\cite{ronbun1-1}．
本研究においてベクトル空間モデルが文字列アライメントの結果よりも良かったのは，
条文間で言及される事柄の語順が，公開特許公報ほどには保存されておらず，
一般の文書に近かったためであると考えている．

次に，ベクトル空間モデルの軸を構成する単語数が多い方が，そしてtf-idf重みを
用いない類似尺度の方が，推定精度が高かった理由を考察する．
例規で用いられる単語を調べると，県名や地名等の固有名詞の出現頻度が高く，
県名，地名等に加え，甲乙，委員，委員会，規定といった単語のtf-idf値が高かった．
本研究におけるベクトル空間モデルの軸は単語の出現頻度に基づいて選択した．
そのため，ベクトル空間モデルの軸を構成する単語数が少ない場合，
都道府県名，たとえば「愛媛」のように都道府県固有の単語が占める率が高くなる．
都道府県固有の単語は，すなわち他の都道府県には出現しない単語であるため，
軸を構成する単語としては不適切である．
これがベクトル空間を構成する単語数が多い方が推定精度のよかった一因だと推察する．
また，都道府県固有の単語に加え，甲乙や委員会といった一般的とは言えないものの，
法律用語としてはありふれている単語のtf-idf値が高い事が，
対応する条文を特定する精度を低下させたと考えている．


本論文で掲げた全ての手法はいずれも100\%の正解率を得る事はできなかった．
また，今後の研究により正解率の向上は期待できるものの
法学者の暗黙知を表す数式が明らかとなり正解率が100\%となる事は期待しがたい．
そのため実用上は，計算機で作成した条文対応表を基づき専門家が最終的な
条文対応表を作成する，という計算機支援システムの形にならざるを得ない．
この場合計算機が提示する解の信頼度や尤もらしさを提示できる事が望ましい．
そこで受信者操作特性曲線を用いた評価を\ref{sec:roc}節で行った．
その結果，対応する条を決定するのに用いた類似度そのものではなく，
二位との比率を信頼度を評価する尺度として用いる事により
最長共通部分文字列及びベクトル空間モデルにおいて
受信者操作特性曲線下面積が約0.8と高い値を示す事がわかった．
以上の結果により，条文対応表の生成及び作成支援のためには
条見出しに対して最長共通部分文字列を，
条文に対してベクトル空間モデルを適用して得られる結果を併用することがよい事がわかった．

実務で利用される条文対応表では，条文の対応関係だけでなく，対応する2つの条文の
差異が明示されている．
そのため条文対応表の作成支援の今後としては，
条文の対応関係を明らかにするだけではなく，
対応する2つの条文の差異を明確化する事が求められると考えている．
この目的を達成する方法としてベクトル空間モデルは適切ではない．
なぜならベクトル空間モデルは対応する条文を決定するのに留まり，
専門家が最終的な条文対応表を作成するための手がかりとなる情報を提示する事はできないからである．
一方，文字列アライメントを用いた場合には一致する文字列群とその出現順序，
そして一致する文字列に挟まれた不一致の文字列といった情報を提示する事が可能である．
そのため，文字列アライメントの正解率はベクトル空間モデルよりも低いが，
条文対応表を作成するために条文の差異を提示する支援システムとしての利用価値は高いと考えている．
支援システムとして考えるならば，
ベクトル空間モデルと最長共通部分文字列により条文の対応関係をその信頼度と共に提示し，
文字列アライメントにより条文の差異を示すという形が望ましいと考えている．



