はじめに
\thispagestyle{empty}
何かを調べたいとき，一番よい方法はよく知っている人(その分野の専門家)に直
接聞くことである．多くの場合，自分の調べたいこととその答えの間には，具体
性のズレ，表現のズレ，背景の認識の不足などがあるが，専門家は質問者との対
話を通してそのようなギャップをうめてくれるのである．

現在，WWWなどに大規模な電子化テキスト集合が存在するようになり，潜在的に
はどのような質問に対してもどこかに答えがあるという状況が生まれつつある．
しかし，今のところWWWを調べても専門家に聞くような便利さはない．その最大
の原因は，上記のようなギャップを埋めてくれる対話的な能力が計算機にないた
めである．例えば，ユーザがWWWのサーチエンジンに漠然とした検索語を入力す
ると多くのテキストがヒットしてしまい，ユーザは多大な労力を費して適切なテ
キストを探さなければならない．

このような問題は，ドメインを限定し，ユーザが比較的明確な目的を持って検索
を行う場合でも同様である．我々は予備調査として，マイクロソフトが提供して
いる自然言語テキスト検索システム「話し言葉検索」\footnote{\tt
http://www.microsoft.com/japan/enable/nlsearch/}の検索ログを分析した．そ
の結果，全体の約3割の質問はその意図が不明確であることがわかった．このよ
うな曖昧な質問に対しては多くのテキストがマッチしてしまうので，ユーザが検
索結果に満足しているとはいいがたい．この問題を解決するためには，「曖昧な
質問への聞き返し」を行うことが必要となる．


すでに実現されている情報検索システムには，大きく分けてテキスト検索システ
ムと質問応答システムの2つのタイプがある．前者は質問キーワードに対して適
合するテキスト(のリスト)を返し，後者は質問文に対してその答えを直接返す．
しかし，曖昧な質問を行ったユーザを具体的なテキストまたは答えに導く必要性
は両者に共通する．以下では，「曖昧な質問への聞き返し」に焦点をあてて，過
去の研究を俯瞰する(表\ref{tab:情報検索の種々のタイプ})．

テキスト検索システムにおいて，質問とテキストの具体性のギャップを埋めるた
めに聞き返しを行う方法としては，以下の手法が提案されてきた．

\begin{table}
 \caption{情報検索の種々のタイプ} \label{tab:情報検索の種々のタイプ}
 \begin{center} \footnotesize
  \begin{tabular}{l|cccc} \hline
   手法 / システム      & ユーザ質問 & 出力 & 聞き返しの媒体 & 規模 \\ \hline \hline
   一般的なテキスト検索システム & キーワードの & テキストの & × & ○ \\
                        & リスト       & リスト \\ \hline
   テキストによる聞き返し & キーワードの & テキストの & テキスト & ○ \\
   (SMART, WWWサーチエンジン) & リスト & リスト \\ \hline
   関連キーワードによる聞き返し       & キーワードの & テキストの & キーワード & ○ \\
   (RCAUU, DualNAVI, Excite)      & リスト       & リスト \\ \hline
   テキストと関連キーワードによる & キーワードの & テキスト   & テキストと & △ \\
   聞き返し (THOMAS)             & リスト       &            & キーワード & \\ \hline
   クラスタリング       & キーワードの & テキストの & クラスタ & ○ \\
   (Scatter/Gather, WebSOM) & リスト   & リスト     & (キーワード or \\
                        &              &            &  テキストで表現) &
   \\ \hline \hline
   人工言語による知識体系の利用 & 自然言語     & 自然言語   & 自然言語   & × \\
   (UC)                 &              & (答え)     &            & \\ \hline
   FAQテキストの利用    & 自然言語     & 自然言語   & ×         & △ \\
   (FAQ Finder)         &              & (答え)     &            & \\ \hline
   ドメイン独立テキストの利用 & 自然言語     & 自然言語   & ×         & ○ \\
   (TREC QA / NTCIR QAC)&              & (答え)     &            & \\ \hline
   京都大学ヘルプシステム & 自然言語     & 自然言語   & 自然言語   & △ \\
                        &              & (答え)     &            & \\
                        \hline \hline
   ダイアログナビ       & 自然言語     & 自然言語   & 自然言語   & ○ \\
                        &              & (状況説明文) &            & \\ \hline
  \end{tabular}
  
 \end{center}

\end{table}


\begin{itemize}
 \item テキストによる聞き返し

       検索結果から適合テキストをユーザに判定させ，それを検索式の修正に
       反映させる手法は，SMARTシステムなどで実験が行われている
       \cite{Rocchio71} \footnote{このようにユーザが適合テキストを選ぶ方
       法は，「適合性フィードバック」とよばれている．しかし，ユーザに聞
       き返しを行って何らかの情報をえること全体が，広い意味での適合性フィー
       ドバックであるので，ここではその用語は用いていない．}．Google
       \footnote{\tt http://www.google.com/}などのWWWサーチエンジンでは，
       検索結果からテキストを1個選んで，その関連テキストを表示させること
       ができるが，この方法もユーザによる適合テキストの判定とみなすこと
       ができる．

 \item 関連キーワードによる聞き返し

       検索結果から，ユーザが入力したキーワードに関連するキーワードを抽
       出し，選択肢として提示するシステムとしては，RCAAU \cite{RCAAU}，
       DualNAVI \cite{DualNAVI}，Excite \footnote{\tt
       http://www.excite.com/}などがある．

 \item テキストと関連キーワードを組み合わせた聞き返し

       THOMAS \cite{Oddy77}は，ユーザの情報要求を，「イメージ」とよばれ
       るキーワード集合として保持し，テキスト1個と関連キーワードを併せて
       提示してそれらの適合性をユーザに判定させるプロセスを繰り返すこと
       で，「イメージ」を徐々に具体化させようとするシステムである．ただ
       し，1970年代に提案されたシステムであり，小規模なテキスト集合にし
       か適用できない．

 \item クラスタリング

       検索されたテキストをクラスタリングし，クラスタを選択肢として提示
       するシステムとしては，Scatter/Gather \cite{Hearst96}，WEBSOM
       \cite{Lagus00}などがある．これらのシステムでは，各クラスタは，そ
       れに属するテキストのリストや，代表的なキーワードのリストとして表
       現されている．

\end{itemize}


これらのシステムの聞き返しの媒体は，いずれもキーワードまたはテキストのレ
ベルである．しかし，キーワードは抽象化されすぎており表現力がとぼしく，逆
にテキストは具体的すぎるため，聞き返しの媒体としては必ずしも適切ではない．

一方，質問応答システムとしては，1980年代にUC \cite{UC}などのシステムが研
究された．これらのシステムは，ユーザの意図が曖昧な場合に自然言語による聞
き返しを行う能力を備えていたが，そのためには人工言語で記述された，システ
ムに特化した知識ベースが必要であった．しかし，十分な能力をもつ人工言語の
設計の困難さ，知識ベース作成のコストなどの問題から，このような方法には明
らかにスケーラビリティがない．

1990年代になって，電子化された大量の自然言語テキストが利用可能になったこ
とから，自然言語テキストを知識ベースとして用いる質問応答システムの研究が
盛んになってきた．インターネットのニュースグループのFAQファイルを利用す
るシステムとしては，FAQ Finder \cite{Hammond95}がある．また最近は，構造
化されていないドメイン独立のテキスト(新聞記事やWWWテキスト)を用いた質問
応答システムの研究が，TREC QA Track \cite{TREC9}やNTCIR QAC \cite{QAC} 
において盛んに行われている
\cite{Harabagiu01,TREC_LIMSI,QAC_Murata,QAC_Kawahara}．しかし，これらの
システムはユーザの質問が具体的であることを前提にして，1回の質問に対して
答えを1回返すだけであり，曖昧な質問に対して聞き返しを行う能力は備えてい
ない．

京都大学総合情報メディアセンターのヘルプシステム\cite{Kuro00}は，自然言
語で記述された知識ベースとユーザ質問の柔軟なマッチングに基づいて，曖昧な
質問に対して自然言語による聞き返しを行うことができるシステムである．しか
しそこでは，記述の粒度をそろえ，表現に若干の制限を加えた知識ベースをシス
テム用に構築しており，「曖昧な質問への聞き返し」のプロトタイプシステムと
いう位置づけが適当である．


\begin{figure}
 \begin{center}

\epsfile{file=fig/image.eps,scale=0.4}
\caption{ダイアログナビのユーザインタフェース} 
\label{fig:user_interface}
 \end{center}
\end{figure}

これに対して，本論文では，既存の大規模なテキスト知識ベースをもとにして，
自然言語による「曖昧な質問への聞き返し」を行い，ユーザを適切なテキストに
導くための方法を提案する．具体的には，パーソナルコンピュータのWindows環
境の利用者を対象とした自動質問応答システム「ダイアログナビ」を構築した
(図\ref{fig:user_interface})．本システムの主な特徴は以下の通りである．


\begin{itemize}
 \item {\bf 大規模テキスト知識ベースの利用}

       マイクロソフトがすでに保有している膨大なテキスト知識ベースをその
       ままの形で利用する．

 \item {\bf 正確なテキスト検索}

       ユーザの質問に適合するテキストを正確に検索する．そのために，質問
       タイプの同定，{\bf 同義表現辞書}による表現のずれの吸収，係り受け
       関係への重みづけなどを行っている．

 \item {\bf ユーザのナビゲート}
       
       ユーザが曖昧な質問をしたとき，対話的に聞き返しを行うことによって
       ユーザを具体的な答えにナビゲートする．聞き返しの方法としては，
       {\bf 対話カード}と{\bf 状況説明文の抽出}の2つの方法を組み合わせて
       用いる．どちらの方法が用いられても，システムは具体的なフレーズを
       聞き返しの選択肢として提示する．

\end{itemize}

\vspace*{5mm}

図\ref{fig:user_interface}の例では，「エラーが発生する」という漠然とした
質問に対して2回の聞き返しを行ってユーザの質問を対話的に明確化させた後，
知識ベースを検索してその結果を提示している．その際，ユーザの質問をより具
体化させるような部分を検索されたテキストから抽出して提示している．

本論文では，このような対話的質問応答を可能とするためのシステムを提案する．
まず\ref{sec:ダイアログナビの構成}節において，システムの構成を示す．つづ
いて，\ref{sec:テキストの検索}節では正確なテキストの検索を行うための手法
を，\ref{sec:ユーザのナビゲート}節ではユーザのナビゲートを実現するための
手法を，具体的に提案する．さらに\ref{sec:評価}節において，提案手法を実装
したシステム「ダイアログナビ」を公開運用して得られた対話データベースの分
析結果を，提案手法の評価として示す．最後に\ref{sec:おわりに}節で本論文の
まとめを述べる．

\newpage
