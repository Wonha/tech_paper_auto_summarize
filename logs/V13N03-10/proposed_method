前述のように，本システムは（１）語形上の誤用，及び（２）運用上の誤用を指摘することができる．
敬語の誤用は，大きくこの２種類に分けられる．
（１）語形上の誤用語形が敬語として規範的ではない表現の使用．
本研究では，敬語の文献[CITE]を参考に語形上の誤用を定義した．
本システムで用いている語形誤り表現リストの一部を表１に示す．
表中``〜''は任意の動詞を表す．
語形誤り表現リストに登録されている表現の総数（``〜''を含むパターンの表現はパターンとして１個とカウント）は約80個である．
尚，一般的に日本語として誤っているか否かという観点からは語形上の誤用を無数に想定することができるが，本システムでは特に敬語に関わる表現の中で最も典型的な語形上の誤用を登録している．
（２）運用上の誤用語形は正しいが，発話に関わる人物間の主観的上下関係と整合しない表現の使用．
伝統的な日本語学では，例えば，話者より社会的に上に位置付けられる聞き手に対する発話文の文末は丁寧にすべきとされている．
従って，このような状況における発話文として，文末が丁寧でない文は運用上の誤用と見なされる．
発話に関わる人物間の主観的上下関係に基づいた運用上の規範をどのように定義するかは，本システムが対象とする発話文の特徴にも依存するため，次章（システムの説明）で述べる．

本システムに入力される発話文は，以下三つの制約を満たすものとする．
発話文には述語が一つだけ（述語の主語，補語はそれぞれ一つ）含まれる．
発話に関係する人数は２名〜４名．
ここで，２名の時は話者（名前は``S''とする），聞き手（名前は``L''とする），３名の時は話者，聞き手，及び発話文中で参照される人物１名（名前は``A''とする），４名の時は話者，聞き手，及び発話文中で参照される人物２名（４人目の名前は``B''とする）とする．
話者／聞き手／人物A／人物Bが述語の主語あるいは補語の場合はその人物の名前``S''／``L''／``A''／``B''を明記する．
以上の制約は，現行の構文解析システムや意味解析システムを用いた際の，文構造の解析（特に，述語の主語，補語の同定等）における解析エラーの生じる可能性があるような複雑な文を排除するために設けた．
従って，高い精度の文解析手法が将来開発されれば，これらの制約はより緩やかにできると考えられる．
尚，発話に関わる人数が５名以上の状況はまれである（ここで，``彼ら''等のように複数人からなるグループの場合は，グループを擬人化して１名相当とみなす）と考えられるため，日常用いられている発話文の殆どは制約２を満たすと考えられる．
また，発話に関わる人物が４名（S，L，A，B）の際，AとBを一つのグループ（例えば，``AさんとBさん''）としては扱わないものとする．
従って，発話に関わる人物が４名の場合はAが主語でBが補語のケースのみであり（Bが主語でAが補語のケースはこれと等価），話者（S）や聞き手（L）が主語や補語になる状況は想定しない．
一方，発話に関わる人物が３名（S，L，A）の場合はSやLが主語や補語になる場合があり，このときAは主語あるいは補語のいずれかになる．
発話に関わる人物が２名（S，L）の場合は，Sが主語でLが補語のケース，及びLが主語でSが補語のケースのみである．
制約３で記したように本システムでは発話に関わる人の名前を``S''，``L''，``A''，``B''に固定しているが，人名の情報等を事前にシステムに登録することによって人名を直接取り扱うことも可能である．
伝統的な日本語学の文献の多くにおいて，敬語は尊敬語，謙譲語，及び丁寧語に概ね分類できるとされている．
尊敬語の中で最も典型的な語は，尊敬語を表すための形式を持つ述語，及び人物に対する敬称（例えば，``様''）である．
謙譲語の中で最も典型的な語は，謙譲語を表すための形式を持つ述語である．
丁寧語は主に文末における丁寧な語（例えば，``〜です．
\unskip''）を指す．
前述のように，本システムが対象とする発話文には述語が一つのみ現れる．
従って，このような発話文の敬語的な特徴は，述語の主語の敬称の有／無，述語の補語の敬称の有／無，文末が丁寧／丁寧でない，及び述語の敬語的な特徴（尊敬語／謙譲語／二方面敬語／尊敬語でも謙譲語でもない語）で表すことができると考えられる．
本研究ではこれを``敬語タイプ''と呼ぶ．
このため本システムでは，発話文を形態素解析して得た形態素の並びに対して，表２に示すような敬語タイプ辞書を用いて表３に示すパターンを作り，このパターンで発話文の敬語的特徴を表すこととする（以下，このパターンを``敬語特徴パターン''と呼ぶ）．
敬語タイプ辞書に登録されている表現の総数（``〜''を含むパターンの表現はパターンとして１個とカウント．
また``頂く''／``いただく''等の異表記は別個のものとしてカウント）は約250個である．
また表３に示すように，敬語特徴パターンは４つの要素[MATH]，[MATH]，[MATH]，[MATH]からなる．
要素[MATH]は，述語の主語（表中``[MATH]''と標記）の敬称の有／無，に応じて1/0の値を取る．
要素[MATH]は，述語の補語（表中``[MATH]''と標記）の敬称の有／無，に応じて1/0の値を取る．
要素[MATH]は，発話文の文末が丁寧／丁寧でない，に応じて1/0の値を取る．
要素[MATH]は，述語の敬語タイプに応じて0/1/2/3の値を取る．
尚，``[MATH]''／``[MATH]''は３．
４節で述べる文構造解析によって述語の主語／補語と同定された人物を指す語である．
システムの入出力の例を図１に示す．
図中，記号``A[MATH]B[MATH]L[MATH]S''は，話者（S），聞き手（L），人物A，及び人物Bの主観的上下関係を表すラベル（以下，``上下関係ラベル''と記す）である．
``[MATH]''の左側に現れた記号に対応する人物は右側に現れた記号に対応する人物より主観的上下関係が上であるものと定義する．
本システムでは，上下関係ラベルが表す人物間の主観的上下関係は常に正しいと想定して処理を行っている．
上下関係ラベルと共に，聞き手（L）に対する話者（S）の発話文が入力される．
この例では，発話意図：``AがBに言った''に対応する発話文が入力されている．
システムは入力された発話文の語形上の誤用，及び発話文と上下関係ラベルとの整合性をチェックし，誤用の箇所が見つかった場合には，その箇所，及び誤用の種類を出力する．
この例では，語形上の誤用は見つからなかったが，話者（S）より主観的上下関係が上の聞き手（L）に対する発話文において文末が丁寧ではないため，``誤用''と判定されている．
本システムにおける処理のフローを図２に示す．
システムに入力された発話文はまず形態素解析され，形態素の並びに変換される（形態素解析には茶筌を用いた）．
次に，語形誤り表現リスト（表１）を用いて，語形上の誤用がチェックされる．
例えば，形態素の並びの中に，``お''＋動詞＋``に''＋``なる''＋``れる''が現れた場合には，語形上の誤用：``お〜になられる''であると判断し，その旨を出力して処理を終了する．
語形上の誤用が見つからなかった場合には，文構造解析によって述語の主語と補語の同定を行う．
文構造解析では，形態素の並びの異なる箇所に【人物を指す語（＋敬称）＋格助詞（``が''／``を''／``に''／``から''等）】が２箇所現れるようなテンプレートを始め様々なテンプレートを用意することによって主語と補語を同定する．
テンプレートの総数は約140個である．
具体的なテンプレートの例を表４に示す．
表中``○''，``△''は人物を指す語，``〜''は任意の文字列を表す．
例えば図１に示した発話文に対しては，``AさんがBさんに''に対する形態素の並び，即ち【``A'' ``さん''（敬称）``が'' ``B'' ``さん''（敬称）``に''】が表４の最初に記されたテンプレートと一致するので，主語がA，補語がBと同定される．
文構造解析の結果に基づき，敬語タイプ辞書（表２），及び敬語特徴パターンの各要素の定義（表３）を用いて，敬語特徴パターンを抽出する．
例えば，図１に示した発話文に対する形態素の並びは【``A'' ``さん''（敬称）``が'' ``B'' ``さん''（敬称）``に'' ``おっしゃる'' ``た'' ``そう'' ``だ'' ``．
''】となるが，これは主語（A）の敬称があり（``A'' ``さん''），補語（B）の敬称があり（``B'' ``さん''），文末が丁寧でなく（``だ'' ``．
''），述語が尊敬語（``おっしゃる''）であるので，[MATH], [MATH], [MATH], [MATH]となる．
最後に，整合表（表５）を用いて，敬語特徴パターンと上下関係ラベルとの整合性がチェックされ，判定結果が出力される（図２中の「補足ルール」については３．
６節で述べる）．
整合表（表５）は，部分的上下関係と，それに対応した文の敬語特徴パターンにおける特定の要素が持つべき値との間の対応を記したルールである．
ここで``部分的上下関係''とは，発話に関わる人物のうち一部の人物の間の主観的上下関係を表したものであり，上下関係ラベルと同じ表記法で記される．
例えば表５の[MATH]に関する行は，話者（S）より聞き手（L）の主観的上下関係が上の場合（L[MATH]S）には，文末は丁寧（[MATH]）とする，というルールを表している．
図１の例では，A（[MATH]）[MATH]B（[MATH]）[MATH]L[MATH]Sと[MATH], [MATH], [MATH], [MATH]との整合性がチェックされる．
この時，[MATH]L[MATH]Sは[MATH], [MATH], [MATH]とは整合するが，L[MATH]Sと[MATH]は整合しない．
従って，[MATH]に対応する文中の箇所（即ち文末）が運用上の誤用と判定される．
尚，ユーザによる入力の便宜のため，上下関係ラベルは省略可能とした．
この場合には，過去に入力された上下関係ラベルのうち最後の上下関係ラベルを用いることとした．
整合表（表５）は，学習データに基づいて構築した．
学習データの例を図３に示す．
学習データの基本的な単位は本システムの入力と同じ形式のデータ，即ち上下関係ラベルと制約１〜３を満たす発話文のペアである（記号``：''は入力文と上下関係ラベルのセパレータ）．
学習データでは，発話に関わる人数を４名（S，L，A，B）に固定した．
前述の通り，このときAが主語（[MATH]）でBが補語（[MATH]）のケースのみ想定される（Bが主語でAが補語のケースはこれと等価）．
発話文は，上下関係ラベルが表す人物間の上下関係に対応する文として規範的に正しいと考えられる文であり，具体的には日本語学に関する様々な文献[CITE]において共通して明示的あるいは暗示的に述べられていると解釈できる規範に基づいて我々が作成した．
上下関係ラベルのバリエーションはS,L,A,Bの間の全ての上下関係バリエーション（即ち，4!=24通り）である．
各々の上下関係ラベルに対し，発話文を12個ずつ作成した．
従って，学習データの総数は288個（=24×12）である．
このようにして作った学習データに対して，以下の手続きによって整合表を構築した．
この手続きは人手で行った．
［整合表構築手続き］
学習データにおける各々のペア：｛上下関係ラベル，発話文｝において，発話文の敬語特徴パターンを求め，その発話文とペアとなっていた上下関係ラベルとの間でペアを作る．
敬語特徴パターンは３．
４節と同様の手順，即ち発話文の形態素解析，文構造解析を行い，更に敬語タイプ辞書（表２），及び敬語特徴パターンの各要素の定義（表３）を用いることにより求める．
24種類の上下関係ラベルの各々に関し，以下を行う．
Step 1で得たペア：｛上下関係ラベル，敬語特徴パターン｝（計288個）の中からその上下関係ラベルとペアになっている敬語特徴パターンの全ての種類をリストアップする．
全ての上下関係ラベルに関しStep 2で得られたリストをまとめて一つの表にする．
ここで，一つの上下関係ラベルに複数の敬語特徴パターンが対応する場合は，同じ行の異なる列に記す（このようにして得られた表が表６）．
敬語特徴パターンの要素[MATH], [MATH], [MATH], [MATH]の各々に関し，以下を行う．
注目している要素の各々の値に関し，Step 3で得られた表（表６）においてこの値を含む敬語特徴パターンに対応する全ての上下関係ラベルをピックアップしてひとまとまりのグループにする．
ただし要素pに関しては，表６においてpの値だけが異なるような二つの敬語特徴パターンを持つ上下関係ラベル，即ちL[MATH]B[MATH]A[MATH]S，B[MATH]A[MATH]L[MATH]S，B[MATH]L[MATH]A[MATH]S，B[MATH]A[MATH]S[MATH]Lをひとまとまりのグループにした後，[MATH]0，1，2の各々についてこの処理を行う．
Step 4-1で得られた各グループにおいて，同じグループに含まれる上下関係ラベルの全てに共通し，かつ異なるグループに含まれるいかなる上下関係ラベルとも共通しないような特徴（部分的上下関係）を見つける．
これには，カルノー図（Karnaugh 1953）を用いて冗長な論理式から簡潔な論理式を導く方法と同様の方法を用いる．
敬語特徴パターンの全ての要素に関して得られた部分的上下関係をまとめて一つの表にする．
表中のAを[MATH]，Bを[MATH]に置き換える（このようにして得られた表が表５）．
例えば，表５の[MATH]，及び[MATH]に対応する行は以下のようにして得られる．
まずStep 1〜Step 3で表６が得られる．
次にStep 4で[MATH]に注目し，Step 4-1において，[MATH]に対応する上下関係ラベルのグループ：S[MATH]L[MATH]A[MATH]B，S[MATH]L[MATH]B[MATH]A，S[MATH]A[MATH]L[MATH]B，S[MATH]A[MATH]B[MATH]L，S[MATH]B[MATH]L[MATH]A，S[MATH]B[MATH]A[MATH]L，L[MATH]S[MATH]A[MATH]B，L[MATH]S[MATH]B[MATH]A，L[MATH]B[MATH]S[MATH]A，B[MATH]L[MATH]S[MATH]A，B[MATH]S[MATH]A[MATH]L，B[MATH]S[MATH]L[MATH]A及び[MATH]に対応する上下関係ラベルのグループ：L[MATH]A[MATH]S[MATH]B，L[MATH]A[MATH]B[MATH]S，A[MATH]B[MATH]L[MATH]S，A[MATH]L[MATH]B[MATH]S，L[MATH]B[MATH]A[MATH]S，B[MATH]A[MATH]L[MATH]S，B[MATH]L[MATH]A[MATH]S，A[MATH]B[MATH]S[MATH]L，A[MATH]S[MATH]B[MATH]L，A[MATH]S[MATH]L[MATH]B，A[MATH]L[MATH]S[MATH]B，B[MATH]A[MATH]S[MATH]Lが得られる．
次にStep 4-2によって，[MATH]に対応する部分的上下関係：S[MATH]A，及び[MATH]に対応する部分的上下関係：A[MATH]Sが得られる．
最後にAを[MATH]に置き換えることにより，[MATH]に対応する部分的上下関係：S[MATH]，及び[MATH]に対応する部分的上下関係：[MATH]Sが得られる．
整合表の妥当性を検証するため，テストデータを用いた実験を行った．
テストデータは整合表の構築に用いた学習データと同じ文献を用い，同じ要領で作成した．
即ちテストデータでは，発話に関わる人数を４名（S，L，A，B）に固定し，上下関係ラベルのバリエーションを24通りとした．
各々のバリエーションに関し，正例（上下関係ラベル＋規範的な文），負例（上下関係ラベル＋非規範的な表現を含む文）をそれぞれ6個ずつ作成した．
従って，正例，負例の総数はいずれも144個である．
これらのテストデータをシステムに入力したところ，全ての正例に対してシステムは``正しい''と判定し，全ての負例に対して``誤用''と判定した（誤用の箇所，種類も正しく指摘）．
この結果は，本研究の枠組み（敬語の規範に関する考え方，発話状況の取り扱い，及び対象とする文に関する制約）の下で，発話に関わる人物が４名（この時，Aが主語かつBが補語，あるいはBが主語かつAが補語）の場合には，敬語運用上の規範を整合表（表５）が過不足なく表していることを示唆する．
また３．
１節で述べたように，発話に関わる人物が３名（S，L，A）の場合は，Aは主語あるいは補語のいずれかになるが，この時SやLが主語や補語になるケースがある．
また発話に関わる人物が２名（S，L）の場合は，Sが主語でLが補語のケース，及びLが主語でSが補語のケースがある．
従って，整合表（表５）がこのようなケースでも有効に機能するようにするため，整合表の補足ルールを導入した．
そして整合表と補足ルールが，発話に関わる人数，及び主語・補語のあらゆるバリエーションについて妥当か否かについての検証を行った．
以下ではこれらについて述べる．
前述の通り，発話に関わる人物が４名の場合は，話者（S）や聞き手（L）が主語（[MATH]）や補語（[MATH]）になる状況は想定しないが，発話に関わる人物が２名，及び３名の場合はSやLが主語や補語になる場合がある．
特にSが主語あるいは補語になる場合には，整合表（表５）における敬語特徴パターンの要素[MATH]，[MATH]，及び[MATH]に対応する上下関係が``[MATH]''や``[MATH]''となるケースが生じるため整合表をそのまま用いることができない．
このためこのようなケースでは，``[MATH]''や``[MATH]''の項を整合表から削除（この処理は，これらの項の真理値を真とした場合と等価）した上で，以下に述べる規範から直接導いたルール，及び規範に基づき整合表を修正して導いたルール（以下これらを``補足ルール''と総称する）を用いることとする．
この規範は整合表の構築に用いた文献を参考にして設けたものであり，その基本的な考えは「発話に関わる人物間の上下関係によらず，話者自身を高めるような語は用いない」ということである．
これを具体的に記述すると，規範a：話者自身の敬称はつけない，規範b：話者が主語の時は尊敬語を用いない，規範c：話者が補語の時は謙譲語を用いない，ということになる．
尚，補足ルールは整合表において[MATH]や[MATH]を含むルールに関連する特徴敬語パターンの要素（即ち，[MATH]，[MATH]，及び[MATH]）に対するルールであり，整合表において対応する上下関係に[MATH]や[MATH]を含まない要素eについては適用しない（即ち，[MATH]に関しては整合表を用いる）．
具体的に，補足ルールは以下のように導かれる．
まずSが[MATH]の時，規範aにより直接[MATH]（上下関係によらず）が導かれる．
また[MATH]に関しては，規範bにより[MATH]，及び[MATH]がルール化の対象から除外され，更に整合表（表５）の``S[MATH]''の項を削除することにより，[MATH]（S[MATH]）／[MATH]（[MATH]S）が得られる．
尚，[MATH]は整合表通り[MATH] (S[MATH])／[MATH] ([MATH]S)である．
一方Sが[MATH]の時，規範aにより直接[MATH]（上下関係によらず）が導かれる．
またpに関しては，まず整合表（表５）の中で論理値が偽となる上下関係が記述された行，即ち整合表の一番下の行（部分的上下関係は，[MATH] [MATH] [MATH]S）をルール化の対象から除外する．
次に規範cにより[MATH]がルール化の対象から除外され，更に``S[MATH]''，及び``[MATH]S''の項を削除することにより，[MATH]（S[MATH]）／[MATH]（[MATH]S）が得られる．
尚，[MATH]は整合表通り[MATH] (S[MATH])／[MATH] ([MATH]S)である．
以上をまとめると，補足ルールは下記となる（整合表通りのルールは省略）．
［補足ルール］
Sが[MATH]の時
[MATH]（上下関係によらず）
[MATH]（S[MATH]）／[MATH]（[MATH]S）
Sが[MATH]の時
[MATH]（上下関係によらず）
[MATH]（S[MATH]）／[MATH]（[MATH]S）
整合表と補足ルールを合わせた機能の妥当性を検証するため，テストデータを用いた実験を行った．
テストデータは整合表の妥当性の検証に用いたテストデータと同様の方法で作成した．
ただしここでは，発話に関わる人数を２名（S，L），３名（S，L，A），及び４名（S，L，A，B）とし，それぞれの人数において，上下関係ラベル，及び主語・補語に関する全てのバリエーションを設定した．
具体的には，人数が２名の場合は，上下関係ラベル2通り×主語・補語のバリエーション2通り=計4通り，人数が３名の場合は，上下関係ラベル6通り×主語・補語のバリエーション4通り（ここで，Aは主語あるいは補語）=計24通り，人数が４名の場合は，上下関係ラベル24通りとした（Aは主語，Bは補語に固定）．
各々のバリエーションに関し，正例（上下関係ラベル＋規範的な文），負例（上下関係ラベル＋非規範的な表現を含む文）をそれぞれ5個ずつ作成した．
従って，正例，負例の総数はいずれも260個である（正例，負例の一部を図４に示す）．
尚，文作成の際想定する発話意図として，複数の発話意図をあらかじめ用意した．
これらのテストデータをシステムに入力したところ，全ての正例に対してシステムは``正しい''と判定し，全ての負例に対して``誤用''と判定した（誤用の箇所，種類も正しく指摘）．
この結果は，整合表（表５），及び補足ルールの妥当性を示唆する．
本システムの妥当性（ただし，語形上の誤用に関する機能は主に語形誤り表現リストの適切さに依存するため，ここでは運用上の誤用に関する機能のみを対象とする）を更に検証するため，著者らの研究グループとは独立した日本語学の研究グループ（言語に関するデータ作成の専門機関に所属し，日本語学を主な専門とする研究グループであり，メンバは３〜５名）が作成したテストデータを用いた実験を行った．
テストデータの作成に当たっては，様々な日本語学研究者の間で共通して述べられていると作業者が認識する敬語規範にできるだけ厳密に準拠し，３．
７節で述べたテストデータと同じバリエーションに関し，３．
１節の制約１〜３に従う発話文を記述するよう指示した．
即ち，テストデータのバリエーションは，人数が２名の場合は4通り，人数が３名の場合は24通り，人数が４名の場合は24通りである．
各々のバリエーションに関し，正例，負例はそれぞれ10〜12個ずつ作成された．
正例，負例の総数はいずれも616個である．
これらのテストデータをシステムに入力したところ，全ての負例に対し，システムは``誤用''と判定した（誤用の箇所，種類も正しく指摘）．
また，正例のうち587個（正例の約95％）に対し，システムは``正しい''と判定したが，残り29個（正例の約5％）については``誤用''と判定した．
図５は，正例に対してシステムが``正しい''と判定した例である．
また，システムが負例の誤用を正しく指摘した例を図６に示す．
図６の入出力例１では，尊敬語でも謙譲語でもない語（この例では，``言った''等）にすべき述語が謙譲語（この例では，``お伝えした''）であったため誤用と指摘されている．
また入出力例２では，部分的上下関係がB[MATH]Sであるにも関わらずBの敬称がない，という誤用が指摘されている．
システムによって``誤用''と判定された正例29個は以下３種類に分けられる（それぞれの種類に対応する３つの入出力例を図７に示す）．
（１）図７の入出力例１のように，人物の敬称はつけないことが整合表で期待される上下関係（[MATH]の敬称をつけないことが期待される上下関係はS[MATH]あるいはSが[MATH]．
また[MATH]の敬称をつけないことが期待される上下関係はS[MATH]あるいはSが[MATH]）において敬称がつけられていた（この例では，``Aさん''）正例は17個．
（２）図７の入出力例２のように，尊敬語（例えば，``おっしゃる''等）あるいは二方面敬語（例えば，``お話しして下さる''等）の述語が期待される上下関係（[MATH]S）において述語が謙譲語（この例では，``申し上げる''）だった正例は6個．
（３）図７の入出力例３のように，尊敬語でも謙譲語でもない述語（例えば，``説明する''等）が期待される上下関係（Sが[MATH]でも[MATH]でもない時はS[MATH] [MATH] S[MATH]．
Sが[MATH]の時はS[MATH]．
Sが[MATH]の時はS[MATH]）において述語が謙譲語（この例では，``説明いたす''）だった正例は6個．
この6個はいずれも部分的上下関係がL[MATH]S（即ち，話者より聞き手の主観的上下関係が上）のケースであった
以上の結果のうち（１）は特に女性が用いる傾向がある丁寧な用法であり，一概には非規範的と決めつけることはできないと考えられる．
（２）は，謙譲語として妥当な運用法であるとする解釈がある（例えば，国語研1992）．
また（３）は聞き手への丁重さを表すための表現であり，「主語を低める」という，いわゆる謙譲語の用法とは異なる用法（``丁重語''等と呼ばれることがある）として一般的になりつつあるが，今回は最も基本的と考えられる敬語の用法のみを対象としたため，このような表現を適切に取り扱えなかったものと考えられる．
以上から，著者らの研究グループとは独立した日本語学の研究グループが作成したテストセットを用いた場合でも，本システムは概ね妥当な出力を行うことが確認された．
ただし，一部の表現に対してはより詳細な取り扱いが必要であることが示唆された．
