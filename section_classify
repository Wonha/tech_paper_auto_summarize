#!/usr/bin/perl -w
use strict;
use 5.010;
use utf8;
binmode(STDOUT, ":utf8");

$#ARGV == 0 || die "Usage: ./section_classify [NAME OF DOC]\n";

# set list of section devider
# sample: $deviders_* = "intro|introduction|introduce";
my (@list_intro, @list_conclusion);
my ($deviders_intro, $deviders_conclusion);
@list_intro = qw/はじめに/;
@list_conclusion = qw/結論/;
$deviders_intro = join '|', @list_intro;
$deviders_conclusion = join '|', @list_conclusion;
# 関連研究
# 提案手法
# 実験

# read file contents
my ($file_name, $file_lines);
$file_name = $ARGV[0];
open my $fh, '<:encoding(UTF-8)', $file_name || die "Can't open '$file_name': $!";
$file_lines = join '', <$fh>;

# classify section
## classify intro
if( $file_lines =~ /^\\section{$deviders_intro}$/ump ) {
	print "found [${^MATCH}]\n";
}
## classify conclusion
if( $file_lines =~ /^\\section{$deviders_conclusion}$/ump ) {
	print "found [${^MATCH}]\n";
}

